2025-12-24 16:01:47.177 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-12-24 16:01:47.505 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Username" = 'admin')
2025-12-24 16:01:47.650 +07:00 [INF] User profile is available. Using 'C:\Users\quang\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-24 16:01:47.877 +07:00 [INF] Now listening on: http://localhost:5263
2025-12-24 16:01:47.882 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-24 16:01:47.886 +07:00 [INF] Hosting environment: Development
2025-12-24 16:01:47.890 +07:00 [INF] Content root path: C:\Users\quang\OneDrive\Desktop\Du_an_lon\QuanLyKiTucXa\Backend\QuanLyKiTucXa.API
2025-12-24 16:02:11.650 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:11.650 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:11.650 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:11.650 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:11.650 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:11.650 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:11.810 +07:00 [WRN] Failed to determine the https port for redirect.
2025-12-24 16:02:11.827 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:11.827 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:11.827 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:11.827 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:11.827 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:11.827 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:11.873 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 204 null null 230.254ms
2025-12-24 16:02:11.873 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 204 null null 230.2672ms
2025-12-24 16:02:11.874 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 204 null null 229.2447ms
2025-12-24 16:02:11.876 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 204 null null 231.9336ms
2025-12-24 16:02:11.886 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 204 null null 242.8195ms
2025-12-24 16:02:11.888 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 204 null null 244.6823ms
2025-12-24 16:02:11.912 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:11.919 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:11.928 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:11.938 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:11.944 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:11.952 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:11.969 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:11.975 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:11.982 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:11.992 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:11.992 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:11.998 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:11.999 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 204 null null 79.926ms
2025-12-24 16:02:12.003 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 204 null null 74.3383ms
2025-12-24 16:02:12.233 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/12/2025 3:40:51 CH', Current time (UTC): '24/12/2025 9:02:12 SA'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-24 16:02:12.233 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/12/2025 3:40:51 CH', Current time (UTC): '24/12/2025 9:02:12 SA'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-24 16:02:12.233 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/12/2025 3:40:51 CH', Current time (UTC): '24/12/2025 9:02:12 SA'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-24 16:02:12.233 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/12/2025 3:40:51 CH', Current time (UTC): '24/12/2025 9:02:12 SA'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-24 16:02:12.284 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/12/2025 3:40:51 CH', Current time (UTC): '24/12/2025 9:02:12 SA'.
2025-12-24 16:02:12.284 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/12/2025 3:40:51 CH', Current time (UTC): '24/12/2025 9:02:12 SA'.
2025-12-24 16:02:12.293 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/12/2025 3:40:51 CH', Current time (UTC): '24/12/2025 9:02:12 SA'.
2025-12-24 16:02:12.301 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/12/2025 3:40:51 CH', Current time (UTC): '24/12/2025 9:02:12 SA'.
2025-12-24 16:02:12.318 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:12.318 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:12.318 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:12.337 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:12.362 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:12.373 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 435.2158ms
2025-12-24 16:02:12.398 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:12.404 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:12.404 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:12.404 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:12.410 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:12.454 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/12/2025 3:40:51 CH', Current time (UTC): '24/12/2025 9:02:12 SA'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-24 16:02:12.471 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '07/12/2025 3:40:51 CH', Current time (UTC): '24/12/2025 9:02:12 SA'.
2025-12-24 16:02:12.477 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:12.482 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:12.486 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 88.1316ms
2025-12-24 16:02:13.088 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:13.088 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:13.089 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:13.090 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:13.137 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:13.172 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:13.219 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:13.236 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:13.245 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:13.258 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:13.260 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:13.262 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:13.277 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:13.291 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:13.308 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:13.327 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:13.373 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 284.8771ms
2025-12-24 16:02:13.506 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:13.520 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:13.527 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:13.535 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:13.541 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 34.7939ms
2025-12-24 16:02:13.663 +07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:13.928 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:13.990 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:14.001 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:14.009 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:02:14.024 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:14.049 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:02:14.040 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:02:14.074 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:14.076 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:14.078 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:02:14.085 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:14.089 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:14.109 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:02:14.112 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:14.133 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:02:14.203 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:14.212 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:14.231 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:14.264 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:14.344 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:14.346 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:14.359 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:14.362 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:14.370 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:14.471 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:14.473 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:14.476 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:14.496 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:14.501 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 416.3312ms
2025-12-24 16:02:14.505 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:14.525 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:14.527 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:14.550 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:14.554 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:14.556 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:14.565 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 37.5705ms
2025-12-24 16:02:14.598 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:14.599 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:14.599 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:14.604 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:14.605 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:14.605 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:14.681 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:14.681 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:14.681 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:14.681 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:14.682 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:14.682 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:14.733 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:14.743 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:14.744 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:14.766 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:14.766 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:14.769 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:14.959 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 451.1574ms
2025-12-24 16:02:14.959 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 2518.7732ms
2025-12-24 16:02:14.959 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 2523.8484ms
2025-12-24 16:02:14.959 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 1469.7162ms
2025-12-24 16:02:14.959 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 437.3888ms
2025-12-24 16:02:14.959 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 2504.9719ms
2025-12-24 16:02:14.959 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 1585.993ms
2025-12-24 16:02:14.959 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 1521.4809ms
2025-12-24 16:02:14.959 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 465.3369ms
2025-12-24 16:02:14.959 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:14.961 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:14.961 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:14.963 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:14.969 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:14.974 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:14.976 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:14.980 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:14.985 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:14.988 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:14.992 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:14.995 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.000 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:15.012 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:15.016 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:15.039 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 3086.5695ms
2025-12-24 16:02:15.039 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 3126.4331ms
2025-12-24 16:02:15.039 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 962.8411ms
2025-12-24 16:02:15.039 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 949.4335ms
2025-12-24 16:02:15.039 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 1949.206ms
2025-12-24 16:02:15.041 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 3097.5764ms
2025-12-24 16:02:15.043 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 1955.5642ms
2025-12-24 16:02:15.045 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 1956.3251ms
2025-12-24 16:02:15.049 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 974.9033ms
2025-12-24 16:02:15.055 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.056 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.057 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.158 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:15.160 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:15.162 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:15.174 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:15.189 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:15.190 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:15.193 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:15.198 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:15.205 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:15.206 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:15.210 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:15.216 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 48.8111ms
2025-12-24 16:02:15.222 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:15.226 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 48.925ms
2025-12-24 16:02:15.231 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.237 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 64.3927ms
2025-12-24 16:02:15.245 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.248 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 288.6869ms
2025-12-24 16:02:15.251 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.259 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 297.4819ms
2025-12-24 16:02:15.273 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 312.4288ms
2025-12-24 16:02:15.338 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:15.338 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:15.338 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:15.338 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:15.345 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:15.359 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:15.377 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:15.393 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:15.396 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.399 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:15.405 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.418 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.421 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:15.425 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:15.429 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:15.472 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:15.458 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 117.7223ms
2025-12-24 16:02:15.433 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:15.492 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:15.504 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:15.671 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:15.683 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:15.692 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:15.693 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:15.700 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:15.729 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:15.778 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 326.5745ms
2025-12-24 16:02:15.783 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:15.785 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:15.786 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:15.787 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 314.3346ms
2025-12-24 16:02:15.791 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.791 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:15.793 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:15.798 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:15.807 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:15.817 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.820 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 481.389ms
2025-12-24 16:02:15.824 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:15.826 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 154.6888ms
2025-12-24 16:02:15.828 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.831 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 158.0665ms
2025-12-24 16:02:15.834 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 495.7694ms
2025-12-24 16:02:15.848 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.856 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:15.858 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:15.861 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.874 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:15.880 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:15.891 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 552.5117ms
2025-12-24 16:02:15.899 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:15.905 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.908 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:15.925 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:15.927 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:15.934 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:15.940 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:15.941 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:15.946 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:15.949 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 63.2244ms
2025-12-24 16:02:15.962 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 59.6202ms
2025-12-24 16:02:15.966 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:15.974 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.981 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:15.988 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:15.992 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 206.6603ms
2025-12-24 16:02:15.993 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 201.6222ms
2025-12-24 16:02:15.997 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 61.7632ms
2025-12-24 16:02:16.017 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.021 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 165.4035ms
2025-12-24 16:02:16.112 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:16.112 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:16.116 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:16.137 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:16.140 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:16.147 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:16.154 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:16.175 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:16.178 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.181 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:16.185 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.190 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.193 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:16.207 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:16.209 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:16.214 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:16.256 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 143.606ms
2025-12-24 16:02:16.258 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:16.269 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:16.274 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:16.278 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:16.304 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:16.309 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:16.322 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:16.324 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:16.336 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:16.343 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:16.357 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:16.360 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:16.362 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 109.1091ms
2025-12-24 16:02:16.372 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 111.3057ms
2025-12-24 16:02:16.375 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 104.0217ms
2025-12-24 16:02:16.372 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:16.376 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:16.376 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:16.378 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.383 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.387 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.392 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:16.394 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 116.3349ms
2025-12-24 16:02:16.406 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:16.408 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 295.567ms
2025-12-24 16:02:16.410 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 294.471ms
2025-12-24 16:02:16.412 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 274.4916ms
2025-12-24 16:02:16.414 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.422 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:16.424 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.452 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:16.458 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:16.460 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:16.466 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.468 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:16.479 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:16.484 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:16.490 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:16.505 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:16.529 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:16.536 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:16.544 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 79.1469ms
2025-12-24 16:02:16.545 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:16.558 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:16.560 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.576 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:16.579 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 107.7374ms
2025-12-24 16:02:16.582 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 209.1297ms
2025-12-24 16:02:16.588 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 96.3772ms
2025-12-24 16:02:16.598 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.628 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 251.8721ms
2025-12-24 16:02:16.619 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.695 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 272.7505ms
2025-12-24 16:02:16.870 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:16.873 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:16.873 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:16.877 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:16.888 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:16.892 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:16.903 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:16.915 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:16.917 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.934 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.935 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:16.941 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:16.943 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:16.945 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:16.948 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:16.958 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:16.978 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:16.978 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 104.4057ms
2025-12-24 16:02:16.985 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:16.993 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:16.996 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:17.007 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:17.020 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:17.022 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:17.023 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:17.027 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:17.038 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:17.043 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:17.046 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 82.3429ms
2025-12-24 16:02:17.051 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:17.056 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 84.5406ms
2025-12-24 16:02:17.054 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:17.058 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 75.222ms
2025-12-24 16:02:17.059 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:17.062 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.064 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:17.073 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.078 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:17.080 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.092 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:17.094 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 224.1502ms
2025-12-24 16:02:17.099 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 92.4283ms
2025-12-24 16:02:17.099 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 226.6031ms
2025-12-24 16:02:17.102 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.106 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 228.436ms
2025-12-24 16:02:17.107 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.118 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:17.137 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:17.148 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:17.155 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:17.167 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:17.175 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.177 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:17.183 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:17.185 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:17.196 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:17.198 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:17.211 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:17.215 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:17.221 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 60.3831ms
2025-12-24 16:02:17.234 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 62.319ms
2025-12-24 16:02:17.240 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.243 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.245 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 190.8752ms
2025-12-24 16:02:17.250 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 190.3346ms
2025-12-24 16:02:17.259 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:17.276 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:17.279 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 72.1798ms
2025-12-24 16:02:17.284 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.287 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 168.9875ms
2025-12-24 16:02:17.542 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:17.542 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:17.542 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:17.545 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:17.557 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:17.561 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:17.572 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:17.576 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:17.579 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.586 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:17.590 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.592 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.594 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:17.599 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:17.606 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:17.609 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:17.622 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 79.0414ms
2025-12-24 16:02:17.626 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:17.639 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:17.645 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:17.654 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:17.664 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:17.672 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:17.685 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:17.688 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:17.692 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:17.698 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:17.726 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 99.2826ms
2025-12-24 16:02:17.713 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:17.721 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 105.8242ms
2025-12-24 16:02:17.712 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:17.729 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:17.732 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:17.734 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.736 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:17.741 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.749 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 112.3161ms
2025-12-24 16:02:17.758 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:17.764 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:17.766 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 223.8645ms
2025-12-24 16:02:17.768 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 114.1579ms
2025-12-24 16:02:17.771 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 228.6898ms
2025-12-24 16:02:17.773 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.775 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.778 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.785 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:17.800 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 254.8423ms
2025-12-24 16:02:17.803 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:17.806 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:17.814 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:17.834 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:17.841 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:17.845 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:17.868 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:17.883 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:18.066 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:18.068 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:18.073 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 244.6151ms
2025-12-24 16:02:18.081 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:18.105 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:18.112 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.128 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:18.129 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 293.4348ms
2025-12-24 16:02:18.134 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 404.1428ms
2025-12-24 16:02:18.140 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:18.142 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.161 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 91.0382ms
2025-12-24 16:02:18.162 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 430.3484ms
2025-12-24 16:02:18.165 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.179 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 393.956ms
2025-12-24 16:02:18.236 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:18.240 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:18.240 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:18.241 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:18.250 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:18.259 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:18.270 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:18.283 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:18.285 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.286 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.287 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:18.288 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.290 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:18.293 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:18.295 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:18.305 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:18.327 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:18.328 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 88.2023ms
2025-12-24 16:02:18.334 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:18.346 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:18.358 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:18.362 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:18.376 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:18.380 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:18.380 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:18.390 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:18.394 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:18.405 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:18.410 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 98.684ms
2025-12-24 16:02:18.422 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 99.7341ms
2025-12-24 16:02:18.414 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:18.423 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:18.424 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 85.6411ms
2025-12-24 16:02:18.426 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.427 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:18.430 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.438 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:18.443 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:18.445 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.451 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 215.2223ms
2025-12-24 16:02:18.461 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:18.464 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 224.1123ms
2025-12-24 16:02:18.473 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 111.2973ms
2025-12-24 16:02:18.475 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.477 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 236.3904ms
2025-12-24 16:02:18.490 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:18.492 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.509 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:18.523 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:18.525 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:18.534 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.535 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:18.543 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:18.543 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:18.561 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:18.577 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:18.579 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:18.580 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:18.588 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 56.2954ms
2025-12-24 16:02:18.593 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:18.598 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:18.604 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.627 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:18.631 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 91.3641ms
2025-12-24 16:02:18.633 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 209.0508ms
2025-12-24 16:02:18.637 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 66.0904ms
2025-12-24 16:02:18.643 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.653 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.656 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 228.8963ms
2025-12-24 16:02:18.659 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 169.0641ms
2025-12-24 16:02:18.759 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:18.759 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:18.759 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:18.761 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:18.774 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:18.796 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:18.806 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:18.813 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:18.819 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.819 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.823 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:18.824 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:18.825 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:18.828 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:18.833 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:18.840 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:18.862 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:18.863 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 103.7497ms
2025-12-24 16:02:18.869 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:19.322 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:19.325 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:19.329 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:19.343 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:19.352 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:19.354 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:19.355 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:19.356 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:19.356 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:19.357 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:19.361 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:19.376 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:19.391 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:19.404 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:19.407 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 556.807ms
2025-12-24 16:02:19.419 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:19.424 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:19.429 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:19.435 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:19.439 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 579.2373ms
2025-12-24 16:02:19.441 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.445 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 573.7654ms
2025-12-24 16:02:19.447 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.451 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:19.455 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.459 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.461 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:19.463 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.470 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:19.478 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.479 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 720.8691ms
2025-12-24 16:02:19.486 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:19.491 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:19.493 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:19.495 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 499 null null 165.9936ms
2025-12-24 16:02:19.501 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 741.8217ms
2025-12-24 16:02:19.510 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 749.2211ms
2025-12-24 16:02:19.512 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:19.526 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 169.0236ms
2025-12-24 16:02:19.540 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:19.546 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:19.587 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:19.591 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:19.603 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:19.609 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:19.613 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:19.642 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:19.650 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 142.5079ms
2025-12-24 16:02:19.630 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:19.661 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:19.668 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 138.963ms
2025-12-24 16:02:19.660 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:19.675 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.675 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:19.677 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:19.683 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 141.0981ms
2025-12-24 16:02:19.685 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.691 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:19.693 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 341.192ms
2025-12-24 16:02:19.705 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:19.707 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:19.710 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.713 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 355.9788ms
2025-12-24 16:02:19.717 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.723 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:19.725 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.730 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 137.9019ms
2025-12-24 16:02:19.733 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 376.0603ms
2025-12-24 16:02:19.754 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:19.760 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:19.762 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:19.793 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.799 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:19.808 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:19.809 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:19.817 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:19.824 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:19.829 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:19.830 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:19.852 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:19.854 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:19.857 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 65.2161ms
2025-12-24 16:02:19.866 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:19.871 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 69.2651ms
2025-12-24 16:02:19.877 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.879 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 58.6887ms
2025-12-24 16:02:19.883 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.888 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 228.3313ms
2025-12-24 16:02:19.894 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:19.902 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 226.3024ms
2025-12-24 16:02:19.926 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 201.8979ms
2025-12-24 16:02:20.102 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:20.103 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:20.103 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:20.112 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:20.117 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:20.122 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:20.129 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:20.140 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:20.144 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:20.147 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.152 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.155 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.158 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:20.162 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:20.166 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:20.171 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:20.173 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 70.7856ms
2025-12-24 16:02:20.194 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:20.210 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:20.216 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:20.228 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:20.242 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:20.257 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:20.261 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:20.261 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:20.275 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:20.281 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:20.284 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:20.293 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:20.303 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 117.5225ms
2025-12-24 16:02:20.305 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 109.1442ms
2025-12-24 16:02:20.306 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:20.307 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:20.308 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:20.309 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 104.1813ms
2025-12-24 16:02:20.311 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.314 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.319 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:20.321 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 92.2581ms
2025-12-24 16:02:20.326 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:20.329 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.332 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 229.0227ms
2025-12-24 16:02:20.334 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 231.0715ms
2025-12-24 16:02:20.336 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.345 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:20.348 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.352 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 240.0938ms
2025-12-24 16:02:20.373 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:20.381 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:20.385 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:20.401 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.409 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:20.410 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:20.414 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:20.429 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:20.464 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:20.467 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:20.468 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:20.473 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:20.482 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:20.485 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 87.1835ms
2025-12-24 16:02:20.487 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 80.3976ms
2025-12-24 16:02:20.496 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:20.499 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.502 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.510 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 69.2426ms
2025-12-24 16:02:20.512 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 206.4251ms
2025-12-24 16:02:20.515 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 206.8778ms
2025-12-24 16:02:20.609 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.650 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:20.661 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:20.665 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:20.665 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:20.752 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 406.4664ms
2025-12-24 16:02:20.764 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:20.852 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:20.860 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:20.871 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:20.888 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.892 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.893 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:20.895 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:20.906 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:20.908 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:20.910 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:20.926 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:20.940 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:20.941 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 275.8031ms
2025-12-24 16:02:20.945 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:20.956 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:20.959 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:20.963 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:20.975 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:20.983 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:20.985 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:20.990 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:21.002 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:21.011 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:21.023 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 91.9063ms
2025-12-24 16:02:21.025 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:21.028 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 89.2244ms
2025-12-24 16:02:21.039 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 87.6899ms
2025-12-24 16:02:21.041 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:21.044 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.046 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:21.047 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:21.054 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.059 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.068 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:21.070 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 420.1537ms
2025-12-24 16:02:21.075 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:21.078 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 114.8118ms
2025-12-24 16:02:21.080 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 419.6899ms
2025-12-24 16:02:21.083 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 417.7364ms
2025-12-24 16:02:21.084 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.091 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:21.093 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.116 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:21.122 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:21.124 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:21.140 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.143 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:21.146 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:21.155 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:21.162 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:21.175 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:21.178 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:21.180 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:21.203 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:21.208 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:21.211 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 72.0971ms
2025-12-24 16:02:21.229 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:21.235 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 91.7568ms
2025-12-24 16:02:21.246 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.276 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 113.1108ms
2025-12-24 16:02:21.279 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.292 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 250.1616ms
2025-12-24 16:02:21.295 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.299 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 253.0872ms
2025-12-24 16:02:21.321 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 229.2624ms
2025-12-24 16:02:21.506 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:21.506 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:21.519 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:21.520 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:21.522 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:21.527 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:21.546 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:21.562 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:21.566 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.576 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.579 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:21.580 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.586 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:21.591 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:21.595 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:21.603 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:21.639 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:21.641 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 122.0934ms
2025-12-24 16:02:21.650 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:21.665 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:21.677 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:21.678 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:21.737 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:21.726 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:21.728 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:21.712 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:21.750 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 139.9583ms
2025-12-24 16:02:21.748 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:21.757 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:21.757 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:21.762 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:21.768 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.775 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:21.790 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:21.861 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.838 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:21.844 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 204.0302ms
2025-12-24 16:02:21.855 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 349.0564ms
2025-12-24 16:02:21.858 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 179.7891ms
2025-12-24 16:02:21.804 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 158.0103ms
2025-12-24 16:02:21.866 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:21.879 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:21.889 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.922 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:21.927 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.936 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.938 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:21.942 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 435.7848ms
2025-12-24 16:02:21.947 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:21.950 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 430.6142ms
2025-12-24 16:02:21.954 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:21.960 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:21.965 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.975 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:21.977 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:21.979 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:21.988 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 56.4619ms
2025-12-24 16:02:21.989 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:21.993 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:21.994 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:21.998 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:22.000 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 243.3786ms
2025-12-24 16:02:22.008 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 35.5976ms
2025-12-24 16:02:22.012 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:22.015 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.020 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:22.022 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 183.3802ms
2025-12-24 16:02:22.025 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 34.6106ms
2025-12-24 16:02:22.033 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.036 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 114.343ms
2025-12-24 16:02:22.408 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:22.408 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:22.408 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:22.410 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:22.418 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:22.422 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:22.426 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:22.435 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:22.440 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.437 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.439 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.436 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:22.443 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:22.447 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:22.454 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:22.458 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:22.469 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:22.474 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:22.479 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 71.0459ms
2025-12-24 16:02:22.479 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:22.490 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:22.494 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:22.502 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:22.512 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:22.517 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:22.524 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:22.534 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:22.539 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:22.543 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 78.1586ms
2025-12-24 16:02:22.545 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:22.546 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 75.6822ms
2025-12-24 16:02:22.549 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:22.551 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:22.556 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 80.6232ms
2025-12-24 16:02:22.559 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.566 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:22.568 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.569 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:22.577 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:22.580 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.584 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 173.0532ms
2025-12-24 16:02:22.586 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.589 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 181.1977ms
2025-12-24 16:02:22.592 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 90.1338ms
2025-12-24 16:02:22.594 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.598 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 189.0825ms
2025-12-24 16:02:22.608 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:22.611 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:22.633 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:22.666 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:22.654 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:22.671 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:22.676 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.680 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:22.690 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:22.690 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:22.698 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:22.705 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:22.713 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:22.715 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 55.4636ms
2025-12-24 16:02:22.719 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 52.3459ms
2025-12-24 16:02:22.725 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.727 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:22.728 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.730 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 184.7099ms
2025-12-24 16:02:22.735 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:22.737 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 186.273ms
2025-12-24 16:02:22.745 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 36.9439ms
2025-12-24 16:02:22.752 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:22.754 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 145.3394ms
2025-12-24 16:02:23.125 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:23.127 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:23.128 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:23.134 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:23.139 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:23.149 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:23.199 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:23.224 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:23.226 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.228 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.230 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:23.233 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.236 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:23.239 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:23.242 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:23.245 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:23.258 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:23.261 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 132.7218ms
2025-12-24 16:02:23.262 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:23.270 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:23.273 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:23.277 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:23.287 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:23.293 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:23.293 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:23.297 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:23.302 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:23.303 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 48.9509ms
2025-12-24 16:02:23.306 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:23.308 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:23.311 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:23.314 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 55.9709ms
2025-12-24 16:02:23.318 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.318 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:23.324 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:23.328 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 61.7835ms
2025-12-24 16:02:23.330 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:23.334 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.337 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 211.9798ms
2025-12-24 16:02:23.340 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:23.342 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.344 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.347 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 69.542ms
2025-12-24 16:02:23.351 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 223.5565ms
2025-12-24 16:02:23.356 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:23.357 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.359 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:23.362 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 227.9696ms
2025-12-24 16:02:23.377 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:23.378 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:23.386 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:23.389 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.397 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:23.402 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:23.403 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:23.412 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:23.412 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:23.422 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:23.425 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:23.427 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 47.1678ms
2025-12-24 16:02:23.435 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 41.6593ms
2025-12-24 16:02:23.436 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:23.438 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.440 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.443 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:23.445 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 138.9866ms
2025-12-24 16:02:23.447 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 129.2728ms
2025-12-24 16:02:23.452 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 33.8654ms
2025-12-24 16:02:23.463 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.468 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 112.3154ms
2025-12-24 16:02:23.905 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:23.908 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:23.909 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:23.912 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:23.917 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:23.931 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:23.945 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:23.960 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:23.964 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.969 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.972 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:23.976 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:23.983 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:23.990 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:23.994 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:23.999 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:24.014 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:24.025 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 116.3705ms
2025-12-24 16:02:24.026 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:24.039 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:24.043 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:24.054 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:24.063 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:24.072 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:24.073 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:24.078 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:24.088 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:24.091 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 82.2759ms
2025-12-24 16:02:24.094 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:24.100 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:24.104 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:24.108 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 86.8969ms
2025-12-24 16:02:24.111 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:24.111 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.119 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:24.123 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 89.8017ms
2025-12-24 16:02:24.125 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:24.128 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.135 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:24.138 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 232.4229ms
2025-12-24 16:02:24.139 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.142 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.144 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 89.8136ms
2025-12-24 16:02:24.146 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 237.9979ms
2025-12-24 16:02:24.148 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.156 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:24.159 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:24.160 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 247.7848ms
2025-12-24 16:02:24.175 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:24.178 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:24.187 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:24.197 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:24.195 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.204 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:24.207 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:24.209 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:24.209 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:24.214 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 33.2266ms
2025-12-24 16:02:24.215 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:24.222 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:24.223 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.227 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 33.0259ms
2025-12-24 16:02:24.229 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 135.391ms
2025-12-24 16:02:24.231 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:24.234 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.249 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:24.253 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 142.1594ms
2025-12-24 16:02:24.256 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 45.1952ms
2025-12-24 16:02:24.268 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.270 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 114.5915ms
2025-12-24 16:02:24.698 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:24.700 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:24.700 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:24.700 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:24.701 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:24.704 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:24.707 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:24.711 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:24.714 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.712 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.713 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.712 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:24.716 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:24.718 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:24.720 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:24.721 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:24.725 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:24.726 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:24.727 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 29.4728ms
2025-12-24 16:02:24.728 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:24.731 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:24.734 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:24.738 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:24.742 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:24.743 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:24.746 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:24.750 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:24.754 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:24.757 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 33.9782ms
2025-12-24 16:02:24.759 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 33.9386ms
2025-12-24 16:02:24.760 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:24.762 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 35.2656ms
2025-12-24 16:02:24.763 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:24.763 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:24.763 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.765 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.768 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:24.771 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.774 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:24.776 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:24.778 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 77.6403ms
2025-12-24 16:02:24.779 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 79.0742ms
2025-12-24 16:02:24.779 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 41.1748ms
2025-12-24 16:02:24.781 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 80.9416ms
2025-12-24 16:02:24.783 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.784 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.787 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:24.805 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:24.806 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:24.808 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:24.811 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.811 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:24.812 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:24.812 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:24.822 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:24.822 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:24.825 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:24.825 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:24.827 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:24.833 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:24.834 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 24.8019ms
2025-12-24 16:02:24.837 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 27.0354ms
2025-12-24 16:02:24.841 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:24.842 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.845 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.846 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 23.5721ms
2025-12-24 16:02:24.849 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 85.7538ms
2025-12-24 16:02:24.851 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 87.6114ms
2025-12-24 16:02:24.853 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:24.860 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 72.8999ms
2025-12-24 16:02:25.151 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:25.151 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:25.151 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:25.155 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:25.156 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:25.161 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:25.167 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:25.172 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:25.173 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:25.175 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:25.176 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:25.178 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:25.179 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:25.182 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:25.183 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:25.185 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:25.190 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 38.9722ms
2025-12-24 16:02:25.191 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:25.195 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:25.197 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:25.202 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:25.206 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:25.209 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:25.212 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:25.213 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:25.219 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:25.222 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:25.226 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:25.227 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:25.228 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 39.3875ms
2025-12-24 16:02:25.231 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 37.606ms
2025-12-24 16:02:25.233 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:25.234 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 39.1521ms
2025-12-24 16:02:25.235 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:25.236 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:25.239 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:25.241 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:25.245 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:25.245 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:25.250 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:25.252 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 50.2086ms
2025-12-24 16:02:25.257 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 106.1566ms
2025-12-24 16:02:25.259 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 107.3823ms
2025-12-24 16:02:25.260 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:25.262 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 107.3685ms
2025-12-24 16:02:25.265 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:25.273 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:25.286 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:25.294 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:25.299 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:25.308 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:25.312 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:25.314 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:25.319 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:25.321 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:25.328 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:25.338 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:25.353 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:25.355 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:25.357 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 51.8877ms
2025-12-24 16:02:25.364 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 53.2127ms
2025-12-24 16:02:25.367 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:25.369 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:25.371 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 137.8667ms
2025-12-24 16:02:25.372 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 136.8587ms
2025-12-24 16:02:25.374 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:25.389 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:25.392 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 43.3223ms
2025-12-24 16:02:25.395 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:25.396 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 123.1368ms
2025-12-24 16:02:26.057 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:26.059 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:26.059 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:26.060 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:26.062 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.064 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.066 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.071 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.069 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:26.070 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.068 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.072 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:26.074 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:26.074 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:26.075 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.077 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 19.4852ms
2025-12-24 16:02:26.078 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:26.079 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:26.079 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:26.082 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:26.086 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:26.087 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:26.088 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:26.089 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.090 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:26.092 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:26.093 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:26.094 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:26.094 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 18.1538ms
2025-12-24 16:02:26.095 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 16.6298ms
2025-12-24 16:02:26.095 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:26.098 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:26.098 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.099 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.100 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 17.218ms
2025-12-24 16:02:26.100 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 13.063ms
2025-12-24 16:02:26.101 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 41.6395ms
2025-12-24 16:02:26.102 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 42.5963ms
2025-12-24 16:02:26.106 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.111 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 50.4626ms
2025-12-24 16:02:26.119 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:26.119 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:26.119 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:26.121 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.123 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.124 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.125 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.125 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.126 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.126 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:26.127 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:26.128 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:26.131 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:26.134 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:26.135 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:26.136 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:26.138 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:26.145 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:26.146 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:26.148 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:26.151 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:26.152 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 23.3336ms
2025-12-24 16:02:26.153 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 21.215ms
2025-12-24 16:02:26.155 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.155 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.154 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 20.4565ms
2025-12-24 16:02:26.156 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 37.6362ms
2025-12-24 16:02:26.157 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 38.2731ms
2025-12-24 16:02:26.157 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.162 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 43.0026ms
2025-12-24 16:02:26.585 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:26.585 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:26.585 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:26.587 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:26.594 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.603 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.611 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.616 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.620 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:26.620 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.621 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.622 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.623 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:26.624 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:26.627 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:26.629 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:26.632 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 47.4187ms
2025-12-24 16:02:26.642 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:26.649 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:26.655 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:26.665 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:26.675 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:26.682 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:26.691 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:26.703 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.820 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:26.854 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:26.870 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:26.872 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:26.875 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 237.7014ms
2025-12-24 16:02:26.878 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 235.2962ms
2025-12-24 16:02:26.879 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:26.884 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:26.886 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 234.4233ms
2025-12-24 16:02:26.889 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:26.892 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.895 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.905 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.912 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.916 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.919 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 254.496ms
2025-12-24 16:02:26.923 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 337.5357ms
2025-12-24 16:02:26.928 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 342.5889ms
2025-12-24 16:02:26.932 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.935 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:26.938 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 350.8878ms
2025-12-24 16:02:26.949 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:26.970 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:26.974 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:26.990 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:26.994 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:26.999 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:27.001 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:27.008 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:27.009 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:27.017 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:27.024 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:27.033 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:27.038 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:27.041 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 48.3107ms
2025-12-24 16:02:27.049 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 53.4402ms
2025-12-24 16:02:27.050 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:27.053 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:27.056 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:27.062 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:27.068 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 188.7246ms
2025-12-24 16:02:27.071 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 186.2515ms
2025-12-24 16:02:27.074 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 45.4817ms
2025-12-24 16:02:27.093 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:27.096 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 146.8599ms
2025-12-24 16:02:27.324 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:27.324 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:27.324 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:27.327 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:27.330 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:27.340 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:27.352 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:27.358 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:27.360 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:27.361 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:27.363 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:27.366 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:27.370 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:27.373 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:27.375 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:27.378 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:27.384 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:27.387 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:27.387 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 63.3462ms
2025-12-24 16:02:27.395 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:27.406 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:27.411 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:27.417 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:27.427 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:27.429 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:27.437 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:27.444 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:27.452 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:27.456 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 73.9843ms
2025-12-24 16:02:27.460 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 74.5805ms
2025-12-24 16:02:27.461 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:27.462 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:27.465 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 72.3254ms
2025-12-24 16:02:27.468 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:27.473 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:27.474 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:27.476 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:27.483 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:27.487 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:27.491 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 167.0182ms
2025-12-24 16:02:27.499 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:27.501 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 177.1977ms
2025-12-24 16:02:27.504 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 87.0861ms
2025-12-24 16:02:27.507 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:27.510 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 182.734ms
2025-12-24 16:02:27.518 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:27.520 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:27.546 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:27.570 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:27.575 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:27.582 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:27.584 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:27.591 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:27.592 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:27.603 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:27.611 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:27.661 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:28.123 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:28.194 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:28.204 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:28.210 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:28.173 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:28.250 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:28.312 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:28.328 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 747.9852ms
2025-12-24 16:02:28.358 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:28.373 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:28.403 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:28.420 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 830.5951ms
2025-12-24 16:02:28.439 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:28.466 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:28.479 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:28.490 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:28.493 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:28.496 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:28.506 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:28.509 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:28.518 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 880.6649ms
2025-12-24 16:02:28.524 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 1062.4526ms
2025-12-24 16:02:28.527 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:28.537 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:28.542 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:28.545 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 1072.9922ms
2025-12-24 16:02:28.555 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:28.559 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:28.597 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:28.608 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:28.608 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 397.9769ms
2025-12-24 16:02:28.635 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 1117.1218ms
2025-12-24 16:02:28.635 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:28.661 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:28.672 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:28.684 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:28.710 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:28.714 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:28.724 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:28.733 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:28.743 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:28.750 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 156.0363ms
2025-12-24 16:02:28.769 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 164.4231ms
2025-12-24 16:02:28.770 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:28.773 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:28.773 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:28.776 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 147.4735ms
2025-12-24 16:02:28.781 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:28.792 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:28.808 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:28.827 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:28.829 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:28.840 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:28.843 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 649.1319ms
2025-12-24 16:02:28.851 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 647.4049ms
2025-12-24 16:02:28.859 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:28.866 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:28.874 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 189.908ms
2025-12-24 16:02:28.885 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 635.5517ms
2025-12-24 16:02:28.910 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:28.935 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:28.938 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:28.992 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:29.004 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:29.024 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:29.027 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.055 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:29.040 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:29.056 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:29.066 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:29.073 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:29.087 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:29.089 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 77.8227ms
2025-12-24 16:02:29.093 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 94.0408ms
2025-12-24 16:02:29.106 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.108 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:29.110 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.119 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 346.5529ms
2025-12-24 16:02:29.131 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:29.136 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 365.6665ms
2025-12-24 16:02:29.156 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 75.6363ms
2025-12-24 16:02:29.178 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.184 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 273.7478ms
2025-12-24 16:02:29.227 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:29.237 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:29.238 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:29.239 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:29.245 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:29.263 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:29.280 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:29.357 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:29.361 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.389 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.434 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:29.437 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.443 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:29.449 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:29.453 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:29.459 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:29.472 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:29.477 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:29.477 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 238.7764ms
2025-12-24 16:02:29.492 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:29.498 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:29.509 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:29.523 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:29.542 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:29.543 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:29.561 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:29.570 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:29.576 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:29.589 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 98.4855ms
2025-12-24 16:02:29.584 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 109.3902ms
2025-12-24 16:02:29.585 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:29.586 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:29.636 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:29.593 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:29.602 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.621 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.628 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:29.671 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 148.1434ms
2025-12-24 16:02:29.639 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.662 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:29.665 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 426.1569ms
2025-12-24 16:02:29.668 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 430.5345ms
2025-12-24 16:02:29.578 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 112.4791ms
2025-12-24 16:02:29.686 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:29.688 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.693 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:29.717 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:29.710 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:29.711 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:29.705 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.720 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.725 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:29.728 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 501.5999ms
2025-12-24 16:02:29.728 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:29.729 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:29.740 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:29.749 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:29.755 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:29.757 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:29.759 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 50.9929ms
2025-12-24 16:02:29.769 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:29.770 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 47.0132ms
2025-12-24 16:02:29.772 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.776 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:29.778 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.782 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 195.5296ms
2025-12-24 16:02:29.784 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 31.0544ms
2025-12-24 16:02:29.786 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 193.4519ms
2025-12-24 16:02:29.794 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:29.804 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 110.9588ms
2025-12-24 16:02:30.159 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:30.160 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:30.160 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:30.164 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:30.169 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:30.178 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:30.189 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:30.194 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:30.196 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:30.199 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:30.201 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:30.204 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:30.206 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:30.208 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:30.210 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:30.212 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:30.222 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:30.222 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 62.2153ms
2025-12-24 16:02:30.230 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:30.237 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:30.244 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:30.253 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:30.265 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:30.272 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:30.274 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:30.276 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:30.277 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:30.281 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 61.3544ms
2025-12-24 16:02:30.283 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:30.284 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:30.287 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 60.0048ms
2025-12-24 16:02:30.290 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:30.295 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:30.301 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:30.304 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:30.310 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:30.311 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:30.319 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:30.321 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 88.5429ms
2025-12-24 16:02:30.322 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 162.7094ms
2025-12-24 16:02:30.323 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 70.118ms
2025-12-24 16:02:30.324 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:30.326 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 165.2157ms
2025-12-24 16:02:30.328 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:30.330 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:30.343 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:30.344 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:30.354 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:30.355 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 191.018ms
2025-12-24 16:02:30.357 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:30.365 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:30.368 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:30.374 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:30.382 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:30.386 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:30.386 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:30.391 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:30.396 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:30.399 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:30.403 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 41.4838ms
2025-12-24 16:02:30.410 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 46.6656ms
2025-12-24 16:02:30.415 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:30.416 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:30.420 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:30.422 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 137.7162ms
2025-12-24 16:02:30.427 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:30.429 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 138.7969ms
2025-12-24 16:02:30.443 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 49.5997ms
2025-12-24 16:02:30.454 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:30.456 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 112.7023ms
2025-12-24 16:02:30.994 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:30.996 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:30.996 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:31.000 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:31.011 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.027 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.049 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.067 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.071 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.074 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.078 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:31.082 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.088 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:31.092 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:31.095 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:31.104 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:31.116 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:31.122 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:31.123 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 127.1301ms
2025-12-24 16:02:31.135 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:31.142 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:31.152 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:31.157 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:31.170 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:31.172 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:31.181 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:31.188 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.193 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:31.197 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 85.3009ms
2025-12-24 16:02:31.201 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 81.9483ms
2025-12-24 16:02:31.204 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:31.208 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 76.8576ms
2025-12-24 16:02:31.206 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:31.211 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:31.212 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.215 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.218 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:31.221 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.226 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.229 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.232 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 237.7781ms
2025-12-24 16:02:31.235 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 239.6787ms
2025-12-24 16:02:31.238 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 81.5526ms
2025-12-24 16:02:31.241 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 240.2758ms
2025-12-24 16:02:31.243 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.244 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.249 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:31.278 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:31.280 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:31.290 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.297 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:31.297 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.299 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:31.307 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:31.308 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:31.312 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:31.315 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:31.320 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:31.323 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:31.328 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 34.19ms
2025-12-24 16:02:31.329 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 33.8391ms
2025-12-24 16:02:31.333 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:31.337 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.342 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.350 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:31.355 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 148.6297ms
2025-12-24 16:02:31.358 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 147.1951ms
2025-12-24 16:02:31.359 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 48.1353ms
2025-12-24 16:02:31.374 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.375 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 125.6063ms
2025-12-24 16:02:31.785 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:31.797 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:31.798 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:31.805 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.806 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:31.821 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.837 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.842 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.849 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.853 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.857 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:31.860 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:31.862 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.867 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:31.871 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:31.876 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:31.876 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:31.882 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 84.1615ms
2025-12-24 16:02:31.882 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:31.887 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:31.890 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:31.892 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:31.897 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:31.897 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:31.903 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.904 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 28.6685ms
2025-12-24 16:02:31.905 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:31.906 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:31.906 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:31.906 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:31.907 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.909 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:31.910 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 31.5121ms
2025-12-24 16:02:31.912 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:31.914 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.915 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:31.916 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 131.3756ms
2025-12-24 16:02:31.917 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 28.4918ms
2025-12-24 16:02:31.918 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.920 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.921 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.923 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 30.5212ms
2025-12-24 16:02:31.928 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:31.929 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.931 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 134.5547ms
2025-12-24 16:02:31.933 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.935 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:31.938 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:31.939 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 133.3097ms
2025-12-24 16:02:31.945 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:31.950 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.950 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:31.958 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:31.958 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:31.961 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:31.965 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:31.969 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:31.970 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:31.976 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:31.977 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:31.978 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 30.3169ms
2025-12-24 16:02:31.983 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:31.984 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 27.7651ms
2025-12-24 16:02:31.986 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.989 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 27.0594ms
2025-12-24 16:02:31.992 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.993 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 87.542ms
2025-12-24 16:02:31.994 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:31.996 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 83.2339ms
2025-12-24 16:02:32.002 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 74.6877ms
2025-12-24 16:02:32.741 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:32.747 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:32.748 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:32.748 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:32.749 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:32.757 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:32.759 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:32.760 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:32.762 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:32.762 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:32.763 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:32.765 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:32.768 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:32.770 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:32.771 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:32.773 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:32.774 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 27.3535ms
2025-12-24 16:02:32.774 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:32.777 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:32.780 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:32.784 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:32.790 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:32.792 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:32.796 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:32.797 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:32.804 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:32.808 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:32.811 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:32.812 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:32.816 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 42.8875ms
2025-12-24 16:02:32.818 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 42.0993ms
2025-12-24 16:02:32.818 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:32.820 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 41.295ms
2025-12-24 16:02:32.819 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:32.821 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:32.823 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:32.826 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:32.829 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:32.830 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:32.834 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:32.836 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 52.009ms
2025-12-24 16:02:32.838 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 97.1111ms
2025-12-24 16:02:32.840 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 92.4829ms
2025-12-24 16:02:32.842 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:32.846 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 96.1127ms
2025-12-24 16:02:32.848 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:32.853 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:32.859 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:32.862 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:32.869 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:32.873 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:32.873 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:32.873 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:32.874 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:32.877 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:32.880 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:32.884 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:32.887 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:32.889 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:32.892 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 20.2263ms
2025-12-24 16:02:32.893 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:32.894 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 22.8335ms
2025-12-24 16:02:32.895 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:32.898 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:32.899 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:32.900 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 80.8169ms
2025-12-24 16:02:32.902 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 20.3668ms
2025-12-24 16:02:32.904 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 85.6749ms
2025-12-24 16:02:32.909 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:32.912 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 58.2724ms
2025-12-24 16:02:33.270 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:33.271 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:33.271 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:33.274 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:33.293 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:33.307 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:33.318 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:33.328 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:33.330 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:33.332 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:33.336 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:33.338 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:33.341 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:33.343 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:33.360 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 89.2227ms
2025-12-24 16:02:33.365 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:33.350 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:33.347 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:33.368 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:33.374 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:33.376 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:33.382 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:33.387 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:33.389 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:33.396 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:33.408 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:33.410 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 54.1656ms
2025-12-24 16:02:33.410 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:33.415 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:33.416 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:33.421 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:33.422 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:33.426 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:33.429 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:33.431 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 56.9563ms
2025-12-24 16:02:33.433 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 64.7635ms
2025-12-24 16:02:33.434 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:33.435 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 165.172ms
2025-12-24 16:02:33.437 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 57.6695ms
2025-12-24 16:02:33.439 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:33.441 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:33.453 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:33.458 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:33.460 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:33.461 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:33.464 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 189.1901ms
2025-12-24 16:02:33.465 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:33.470 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:33.472 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 200.4922ms
2025-12-24 16:02:33.476 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:33.480 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:33.481 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:33.491 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:33.493 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:33.494 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:33.496 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:33.504 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:33.506 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 31.0484ms
2025-12-24 16:02:33.506 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:33.509 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:33.509 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:33.511 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:33.513 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 98.211ms
2025-12-24 16:02:33.518 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:33.520 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 28.4887ms
2025-12-24 16:02:33.524 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 24.7491ms
2025-12-24 16:02:33.525 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:33.526 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:33.527 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 93.4731ms
2025-12-24 16:02:33.528 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 69.5347ms
2025-12-24 16:02:34.003 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:34.004 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:34.005 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:34.006 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:34.019 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.030 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.039 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.041 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.042 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.042 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:34.043 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.043 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.044 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:34.044 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:34.046 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:34.048 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:34.053 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 48.4758ms
2025-12-24 16:02:34.054 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:34.055 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:34.057 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:34.058 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:34.061 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:34.065 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:34.068 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:34.070 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.074 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:34.076 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:34.084 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 29.8087ms
2025-12-24 16:02:34.081 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:34.082 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 29.7578ms
2025-12-24 16:02:34.078 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:34.085 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:34.085 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.086 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:34.086 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:34.088 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.091 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 36.0913ms
2025-12-24 16:02:34.094 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.095 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 89.7995ms
2025-12-24 16:02:34.097 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.098 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 39.3115ms
2025-12-24 16:02:34.099 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 95.2688ms
2025-12-24 16:02:34.100 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.100 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.103 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:34.104 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.112 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 106.5819ms
2025-12-24 16:02:34.113 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:34.115 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.116 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:34.124 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.124 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:34.126 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:34.127 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:34.130 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:34.132 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:34.136 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:34.137 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:34.140 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:34.142 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:34.143 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 19.775ms
2025-12-24 16:02:34.145 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:34.146 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 19.8628ms
2025-12-24 16:02:34.147 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.151 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 21.1769ms
2025-12-24 16:02:34.154 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.153 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 68.5163ms
2025-12-24 16:02:34.153 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.156 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 53.0095ms
2025-12-24 16:02:34.159 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 72.2448ms
2025-12-24 16:02:34.711 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:34.711 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:34.712 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:34.716 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:34.723 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.733 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.744 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.746 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.749 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.750 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.752 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:34.753 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.754 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:34.755 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:34.755 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:34.756 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:34.759 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:34.759 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 47.5542ms
2025-12-24 16:02:34.760 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:34.762 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:34.766 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:34.771 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:34.774 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:34.775 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:34.776 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:34.778 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.781 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:34.785 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:34.786 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 28.8065ms
2025-12-24 16:02:34.789 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:34.791 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:34.791 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 33.0729ms
2025-12-24 16:02:34.792 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 31.4327ms
2025-12-24 16:02:34.793 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:34.794 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.794 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:34.796 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.799 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.802 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.803 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.805 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 93.8589ms
2025-12-24 16:02:34.805 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 34.581ms
2025-12-24 16:02:34.806 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.807 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 95.2396ms
2025-12-24 16:02:34.808 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 91.9147ms
2025-12-24 16:02:34.808 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.814 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:34.822 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:34.837 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:34.841 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:34.844 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:34.848 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.853 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:34.850 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:34.853 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:34.855 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:34.858 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:34.859 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 16.2195ms
2025-12-24 16:02:34.860 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:34.861 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:34.863 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.872 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:34.874 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 27.2641ms
2025-12-24 16:02:34.875 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 84.1845ms
2025-12-24 16:02:34.879 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:34.880 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.886 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 28.0489ms
2025-12-24 16:02:34.887 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 94.1255ms
2025-12-24 16:02:34.888 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:34.893 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 79.0387ms
2025-12-24 16:02:35.527 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:35.528 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:35.528 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:35.553 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:35.538 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:35.543 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:35.532 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:35.555 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:35.556 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:35.558 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:35.565 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:35.567 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:35.570 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:35.573 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:35.574 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:35.578 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 49.2409ms
2025-12-24 16:02:35.586 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:35.590 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:35.590 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:35.599 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:35.604 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:35.611 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:35.627 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:35.631 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:35.637 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:35.642 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:35.668 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 81.2701ms
2025-12-24 16:02:35.673 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:35.663 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 79.5927ms
2025-12-24 16:02:35.657 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:35.672 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:35.674 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:35.658 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:35.678 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 149.8141ms
2025-12-24 16:02:35.689 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:35.692 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:35.696 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:35.704 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:35.709 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:35.718 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 190.7538ms
2025-12-24 16:02:35.721 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 121.6183ms
2025-12-24 16:02:35.722 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:35.725 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:35.729 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 104.2905ms
2025-12-24 16:02:35.742 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:35.744 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:35.748 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:35.752 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:35.758 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:35.762 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:35.766 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 234.7772ms
2025-12-24 16:02:35.767 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:35.769 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:35.774 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:35.784 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:35.784 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:35.788 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:35.797 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 36.1299ms
2025-12-24 16:02:35.794 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:35.792 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:35.801 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:35.804 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 39.7852ms
2025-12-24 16:02:35.809 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 137.1613ms
2025-12-24 16:02:35.810 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:35.810 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:35.821 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:35.822 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 148.3735ms
2025-12-24 16:02:35.824 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 33.4328ms
2025-12-24 16:02:35.829 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:35.830 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 88.4617ms
2025-12-24 16:02:36.274 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:36.276 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:36.279 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:36.281 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:36.291 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:36.306 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:36.321 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:36.329 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:36.333 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:36.335 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:36.336 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:36.337 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:36.338 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:36.339 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:36.340 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:36.340 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:36.343 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:36.344 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 65.8154ms
2025-12-24 16:02:36.345 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:36.352 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:36.355 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:36.357 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:36.360 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:36.363 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:36.365 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:36.374 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:36.379 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:36.384 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:36.390 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:36.388 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:36.388 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 44.6594ms
2025-12-24 16:02:36.389 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:36.387 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 44.9095ms
2025-12-24 16:02:36.390 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 40.811ms
2025-12-24 16:02:36.393 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:36.394 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:36.395 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:36.402 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:36.404 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:36.406 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:36.406 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:36.408 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 51.7995ms
2025-12-24 16:02:36.410 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 133.6919ms
2025-12-24 16:02:36.411 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:36.413 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 139.0739ms
2025-12-24 16:02:36.417 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 135.9937ms
2025-12-24 16:02:36.420 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:36.428 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:36.437 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:36.446 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:36.446 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:36.452 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:36.452 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:36.456 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:36.458 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:36.458 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:36.460 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:36.462 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:36.462 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:36.462 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 11.9952ms
2025-12-24 16:02:36.473 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:36.466 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 21.5424ms
2025-12-24 16:02:36.473 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:36.477 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:36.478 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:36.479 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 89.5499ms
2025-12-24 16:02:36.483 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 24.3145ms
2025-12-24 16:02:36.487 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 96.8142ms
2025-12-24 16:02:36.493 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:36.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 72.3311ms
2025-12-24 16:02:37.050 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:37.055 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:37.056 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:37.057 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:37.059 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.073 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.084 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.093 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.097 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.099 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:37.101 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.103 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.106 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:37.110 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:37.113 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:37.116 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:37.123 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:37.125 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 69.7125ms
2025-12-24 16:02:37.132 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:37.138 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:37.142 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:37.150 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:37.162 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:37.168 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:37.170 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:37.178 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.184 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:37.192 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:37.195 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 72.9713ms
2025-12-24 16:02:37.197 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:37.199 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 69.8018ms
2025-12-24 16:02:37.203 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 68.5907ms
2025-12-24 16:02:37.205 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:37.205 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.207 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:37.207 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:37.210 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.213 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.220 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.221 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 171.3303ms
2025-12-24 16:02:37.226 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.226 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 76.8057ms
2025-12-24 16:02:37.227 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 171.496ms
2025-12-24 16:02:37.228 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 171.6282ms
2025-12-24 16:02:37.229 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.236 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:37.237 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.245 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:37.250 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.251 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:37.253 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.255 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:37.255 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:37.256 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:37.258 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:37.260 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:37.261 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:37.262 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:37.267 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 13.7747ms
2025-12-24 16:02:37.268 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:37.269 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:37.271 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.273 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:37.274 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 18.8839ms
2025-12-24 16:02:37.274 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 69.4425ms
2025-12-24 16:02:37.275 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 16.7359ms
2025-12-24 16:02:37.276 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.282 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.284 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 77.204ms
2025-12-24 16:02:37.285 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 49.6665ms
2025-12-24 16:02:37.795 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:37.797 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:37.798 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:37.800 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:37.812 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.823 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.834 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.839 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.841 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.843 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:37.845 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.846 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.850 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:37.852 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:37.854 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:37.855 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:37.858 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:37.858 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 61.7051ms
2025-12-24 16:02:37.864 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:37.870 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:37.874 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:37.875 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:37.880 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:37.883 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:37.887 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:37.893 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.896 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:37.902 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:37.904 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 47.7933ms
2025-12-24 16:02:37.906 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:37.907 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:37.908 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 46.5728ms
2025-12-24 16:02:37.910 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:37.910 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 43.5638ms
2025-12-24 16:02:37.913 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.915 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:37.920 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.923 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.928 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.930 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.932 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 136.8586ms
2025-12-24 16:02:37.936 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 60.5077ms
2025-12-24 16:02:37.938 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.942 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 143.8175ms
2025-12-24 16:02:37.944 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.945 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 145.0302ms
2025-12-24 16:02:37.953 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:37.960 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:37.970 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:37.977 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:37.981 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:37.985 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:37.986 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:37.989 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:37.989 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:37.994 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:37.996 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:38.000 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:38.011 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:38.061 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 78.8186ms
2025-12-24 16:02:38.051 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 72.1993ms
2025-12-24 16:02:38.028 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:38.071 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.075 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.078 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:38.081 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 170.2208ms
2025-12-24 16:02:38.083 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 176.2465ms
2025-12-24 16:02:38.087 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 92.4285ms
2025-12-24 16:02:38.098 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.101 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 147.8903ms
2025-12-24 16:02:38.537 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:38.540 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:38.542 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:38.543 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:38.543 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:38.548 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:38.553 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:38.557 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:38.559 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.560 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.561 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:38.564 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.570 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:38.572 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:38.573 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:38.574 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:38.581 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:38.586 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:38.586 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 44.0479ms
2025-12-24 16:02:38.592 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:38.594 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:38.600 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:38.606 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:38.612 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:38.614 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:38.620 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:38.626 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:38.630 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:38.635 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 56.978ms
2025-12-24 16:02:38.640 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 56.7361ms
2025-12-24 16:02:38.640 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:38.642 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:38.642 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:38.644 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 55.3563ms
2025-12-24 16:02:38.660 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.699 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 161.7281ms
2025-12-24 16:02:38.686 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:38.687 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:38.693 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:38.695 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.674 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.707 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:38.708 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.710 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 104.3897ms
2025-12-24 16:02:38.712 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.714 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 171.435ms
2025-12-24 16:02:38.717 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 176.8639ms
2025-12-24 16:02:38.722 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:38.727 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:38.735 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:38.752 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.757 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:38.760 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:38.761 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:38.766 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:38.769 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:38.773 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:38.776 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:38.782 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:38.791 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:38.791 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 36.004ms
2025-12-24 16:02:38.793 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 34.2909ms
2025-12-24 16:02:38.799 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:38.802 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.804 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.808 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 36.9302ms
2025-12-24 16:02:38.809 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 168.7901ms
2025-12-24 16:02:38.813 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 170.5101ms
2025-12-24 16:02:38.816 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:38.829 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 122.1633ms
2025-12-24 16:02:39.235 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:39.235 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:39.236 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:39.242 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:39.249 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:39.263 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:39.266 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:39.270 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:39.271 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:39.272 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:39.272 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:39.273 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:39.274 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:39.276 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:39.276 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:39.277 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:39.281 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:39.282 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 46.3641ms
2025-12-24 16:02:39.289 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:39.291 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:39.295 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:39.300 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:39.312 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:39.319 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:39.327 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:39.332 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:39.351 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:39.357 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:39.358 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 79.3016ms
2025-12-24 16:02:39.359 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:39.360 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:39.361 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 74.7898ms
2025-12-24 16:02:39.363 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:39.363 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 73.7602ms
2025-12-24 16:02:39.366 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:39.369 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:39.373 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:39.374 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:39.377 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:39.378 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:39.380 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 145.0178ms
2025-12-24 16:02:39.381 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 80.7678ms
2025-12-24 16:02:39.382 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:39.385 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 148.338ms
2025-12-24 16:02:39.385 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:39.387 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 144.5193ms
2025-12-24 16:02:39.389 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:39.394 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:39.402 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:39.405 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:39.409 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:39.410 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:39.410 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:39.415 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:39.419 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:39.419 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:39.422 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:39.425 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:39.425 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:39.426 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 18.9352ms
2025-12-24 16:02:39.430 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 20.7484ms
2025-12-24 16:02:39.431 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:39.432 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:39.438 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:39.441 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:39.442 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 81.9282ms
2025-12-24 16:02:39.443 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 79.9424ms
2025-12-24 16:02:39.445 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 22.0817ms
2025-12-24 16:02:39.455 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:39.455 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 65.8283ms
2025-12-24 16:02:40.001 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:40.001 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:40.001 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:40.003 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:40.016 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.027 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.036 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.044 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.047 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.050 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:40.051 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.052 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.054 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:40.055 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:40.055 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:40.056 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:40.059 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 58.1307ms
2025-12-24 16:02:40.060 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:40.062 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:40.067 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:40.071 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:40.076 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:40.079 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:40.084 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:40.086 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.089 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:40.093 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:40.098 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:40.100 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:40.102 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 44.0875ms
2025-12-24 16:02:40.104 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 43.8229ms
2025-12-24 16:02:40.105 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:40.106 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:40.106 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 41.7528ms
2025-12-24 16:02:40.107 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:40.108 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.111 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.116 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.120 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.123 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.125 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 54.1983ms
2025-12-24 16:02:40.128 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 127.3455ms
2025-12-24 16:02:40.131 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 129.4477ms
2025-12-24 16:02:40.133 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.134 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.137 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 133.6062ms
2025-12-24 16:02:40.142 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:40.153 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:40.154 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:40.159 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.162 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:40.163 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.164 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:40.168 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:40.169 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:40.172 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:40.172 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:40.173 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:40.175 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:40.178 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 17.2436ms
2025-12-24 16:02:40.178 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 16.4589ms
2025-12-24 16:02:40.179 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:40.181 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.184 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.186 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:40.187 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 82.9151ms
2025-12-24 16:02:40.188 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 82.8189ms
2025-12-24 16:02:40.189 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 18.4049ms
2025-12-24 16:02:40.194 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.195 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 53.0273ms
2025-12-24 16:02:40.776 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:40.776 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:40.778 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:40.780 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:40.787 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.797 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.809 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.814 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.816 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.818 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.820 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:40.822 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.826 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:40.830 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:40.833 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:40.837 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:40.841 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:40.842 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 63.8173ms
2025-12-24 16:02:40.843 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:40.845 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:40.849 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:40.855 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:40.861 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:40.870 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:40.873 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:40.876 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.878 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:40.882 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:40.884 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 44.6272ms
2025-12-24 16:02:40.885 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:40.886 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:40.888 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 47.054ms
2025-12-24 16:02:40.891 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:40.891 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 47.7974ms
2025-12-24 16:02:40.894 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.895 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:40.900 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.901 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.904 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.906 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.908 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 132.816ms
2025-12-24 16:02:40.910 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 54.7507ms
2025-12-24 16:02:40.912 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.914 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 138.0312ms
2025-12-24 16:02:40.915 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.917 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 137.4236ms
2025-12-24 16:02:40.923 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:40.930 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:40.936 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:40.943 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:40.947 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:40.949 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.949 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:40.953 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:40.953 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:40.958 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:40.960 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:40.960 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:40.962 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:40.966 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:40.967 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 22.2612ms
2025-12-24 16:02:40.970 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 22.7161ms
2025-12-24 16:02:40.977 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.976 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.975 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:40.978 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 86.8997ms
2025-12-24 16:02:40.979 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 92.9892ms
2025-12-24 16:02:40.981 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 23.7465ms
2025-12-24 16:02:40.989 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:40.991 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 67.9441ms
2025-12-24 16:02:41.493 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:41.493 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:41.493 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:41.498 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:41.501 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:41.506 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:41.515 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:41.522 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:41.524 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:41.524 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:41.525 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:41.525 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:41.527 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:41.528 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:41.538 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:41.533 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:41.530 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:41.538 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 44.94ms
2025-12-24 16:02:41.543 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:41.549 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:41.551 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:41.558 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:41.564 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:41.572 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:41.576 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:41.581 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:41.583 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 46.3045ms
2025-12-24 16:02:41.585 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:41.586 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:41.590 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:41.590 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:41.592 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:41.595 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:41.596 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 50.5309ms
2025-12-24 16:02:41.600 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 50.8264ms
2025-12-24 16:02:41.601 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:41.602 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:41.603 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 110.6242ms
2025-12-24 16:02:41.605 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:41.606 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:41.607 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:41.610 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:41.610 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 52.3718ms
2025-12-24 16:02:41.614 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:41.617 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:41.619 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 121.5067ms
2025-12-24 16:02:41.620 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 126.9559ms
2025-12-24 16:02:41.621 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:41.625 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:41.629 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:41.635 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:41.635 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:41.639 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:41.641 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:41.640 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:41.641 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:41.645 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 18.7868ms
2025-12-24 16:02:41.645 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:41.645 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:41.646 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:41.651 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:41.654 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 69.2686ms
2025-12-24 16:02:41.655 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:41.656 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 16.9857ms
2025-12-24 16:02:41.659 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:41.660 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:41.661 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 17.513ms
2025-12-24 16:02:41.662 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 61.5384ms
2025-12-24 16:02:41.665 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:41.671 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 57.1153ms
2025-12-24 16:02:42.266 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:42.266 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:42.268 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:42.270 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:42.282 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:42.295 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:42.304 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:42.305 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:42.306 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:42.306 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:42.307 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:42.308 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:42.308 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:42.309 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:42.310 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:42.311 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:42.314 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:42.319 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:42.320 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 52.7569ms
2025-12-24 16:02:42.325 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:42.328 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:42.331 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:42.349 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:42.341 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:42.343 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:42.337 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:42.352 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 34.9511ms
2025-12-24 16:02:42.355 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:42.358 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 45.2651ms
2025-12-24 16:02:42.362 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:42.365 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:42.367 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 42.9458ms
2025-12-24 16:02:42.369 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:42.370 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:42.372 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 106.6514ms
2025-12-24 16:02:42.425 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:42.426 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:42.434 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:42.443 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 177.5371ms
2025-12-24 16:02:42.445 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:42.453 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:42.462 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:42.467 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 197.4996ms
2025-12-24 16:02:42.476 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:42.486 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 149.4006ms
2025-12-24 16:02:42.491 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:42.492 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:42.498 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:42.506 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:42.509 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:42.511 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:42.513 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:42.519 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:42.522 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:42.523 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:42.526 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:42.529 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:42.531 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:42.533 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:42.537 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:42.540 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:42.541 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 25.2591ms
2025-12-24 16:02:42.542 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 22.6257ms
2025-12-24 16:02:42.544 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 22.4077ms
2025-12-24 16:02:42.546 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:42.549 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:42.552 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:42.553 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 128.0932ms
2025-12-24 16:02:42.554 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 120.6045ms
2025-12-24 16:02:42.556 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 103.1542ms
2025-12-24 16:02:43.000 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:43.001 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:43.002 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:43.006 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:43.016 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:43.026 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:43.047 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:43.059 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:43.061 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:43.064 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:43.065 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:43.067 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:43.071 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:43.075 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:43.076 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:43.077 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:43.082 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:43.086 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 84.3599ms
2025-12-24 16:02:43.087 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:43.090 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:43.093 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:43.098 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:43.102 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:43.106 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:43.108 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:43.117 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:43.124 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:43.132 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:43.134 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 54.3823ms
2025-12-24 16:02:43.136 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:43.136 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:43.140 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 54.8472ms
2025-12-24 16:02:43.143 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 54.8896ms
2025-12-24 16:02:43.143 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:43.148 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:43.151 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:43.155 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:43.158 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:43.160 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:43.163 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:43.167 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 166.4304ms
2025-12-24 16:02:43.168 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:43.170 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 71.9932ms
2025-12-24 16:02:43.171 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 170.0862ms
2025-12-24 16:02:43.173 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 167.4949ms
2025-12-24 16:02:43.174 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:43.177 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:43.178 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:43.189 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:43.191 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:43.195 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:43.196 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:43.195 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:43.196 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:43.203 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:43.205 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:43.207 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:43.208 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:43.210 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:43.214 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 21.438ms
2025-12-24 16:02:43.212 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 17.6334ms
2025-12-24 16:02:43.216 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:43.218 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:43.220 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:43.223 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:43.223 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 87.377ms
2025-12-24 16:02:43.225 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 81.2069ms
2025-12-24 16:02:43.226 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 20.9418ms
2025-12-24 16:02:43.237 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:43.238 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 60.5452ms
2025-12-24 16:02:44.287 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:44.290 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:44.290 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:44.291 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:44.291 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:44.291 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:44.298 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:44.299 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:44.301 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:44.291 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:44.293 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:44.297 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:44.307 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:44.305 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 18.2177ms
2025-12-24 16:02:44.306 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:44.305 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:44.308 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:44.311 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:44.317 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:44.318 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:44.319 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:44.320 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:44.323 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:44.326 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:44.326 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:44.327 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 23.1469ms
2025-12-24 16:02:44.330 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:44.333 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:44.335 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:44.337 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:44.339 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 22.7636ms
2025-12-24 16:02:44.341 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 23.454ms
2025-12-24 16:02:44.348 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:44.344 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 53.4343ms
2025-12-24 16:02:44.346 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:44.343 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:44.350 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 59.7463ms
2025-12-24 16:02:44.356 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 64.7972ms
2025-12-24 16:02:44.356 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:44.361 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 35.3885ms
2025-12-24 16:02:44.362 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:44.368 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:44.369 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:44.370 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:44.371 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:44.372 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:44.373 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:44.374 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:44.376 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:44.378 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:44.379 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:44.379 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:44.380 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:44.381 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:44.384 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:44.386 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:44.387 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:44.387 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 15.1384ms
2025-12-24 16:02:44.390 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:44.391 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:44.392 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:44.393 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:44.395 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:44.395 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 33.6473ms
2025-12-24 16:02:44.398 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 13.3106ms
2025-12-24 16:02:44.400 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 13.8298ms
2025-12-24 16:02:44.403 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:44.404 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:44.405 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 34.2234ms
2025-12-24 16:02:44.406 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 34.0595ms
2025-12-24 16:02:45.606 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:45.606 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:45.607 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:45.609 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:45.618 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:45.630 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:45.640 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:45.644 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:45.647 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:45.649 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:45.651 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:45.653 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:45.656 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:45.658 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:45.661 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:45.664 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:45.671 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:45.671 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 65.2846ms
2025-12-24 16:02:45.677 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:45.683 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:45.686 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:45.692 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:45.700 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:45.706 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:45.708 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:45.711 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:45.721 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:45.726 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:45.729 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 59.8755ms
2025-12-24 16:02:45.731 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:45.733 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:45.737 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 61.0024ms
2025-12-24 16:02:45.740 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 59.4448ms
2025-12-24 16:02:45.740 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:45.742 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:45.744 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:45.751 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:45.754 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:45.757 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:45.762 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:45.765 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 159.8254ms
2025-12-24 16:02:45.767 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 75.5693ms
2025-12-24 16:02:45.770 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:45.772 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 164.7564ms
2025-12-24 16:02:45.774 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 165.0877ms
2025-12-24 16:02:45.776 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:45.785 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:45.791 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:45.804 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:45.806 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:45.811 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:45.814 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:45.815 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:45.821 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:45.821 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:45.825 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:45.827 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:45.828 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:45.833 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:45.838 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 29.0289ms
2025-12-24 16:02:45.839 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:45.840 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 28.2487ms
2025-12-24 16:02:45.842 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:45.846 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:45.848 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:45.850 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 116.9054ms
2025-12-24 16:02:45.852 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 26.8326ms
2025-12-24 16:02:45.853 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 113.701ms
2025-12-24 16:02:45.859 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:45.862 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 77.3798ms
2025-12-24 16:02:46.520 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:46.520 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:46.523 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:46.524 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:46.536 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:46.551 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:46.565 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:46.574 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:46.575 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:46.575 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:46.576 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:46.576 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:46.577 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:46.578 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:46.578 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:46.579 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:46.587 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:46.590 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 66.7664ms
2025-12-24 16:02:46.591 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:46.595 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:46.599 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:46.603 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:46.610 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:46.615 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:46.619 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:46.625 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:46.646 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:46.640 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:46.644 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 58.2216ms
2025-12-24 16:02:46.632 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:46.646 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:46.654 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:46.656 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 62.691ms
2025-12-24 16:02:46.657 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:46.658 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:46.658 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 69.5463ms
2025-12-24 16:02:46.659 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:46.660 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:46.661 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:46.663 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 142.852ms
2025-12-24 16:02:46.669 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:46.670 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:46.671 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 67.9793ms
2025-12-24 16:02:46.673 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:46.674 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 149.3337ms
2025-12-24 16:02:46.676 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:46.678 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:46.680 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 159.4819ms
2025-12-24 16:02:46.691 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:46.698 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:46.701 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:46.707 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:46.708 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:46.710 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:46.711 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:46.718 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:46.723 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:46.725 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:46.726 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 35.992ms
2025-12-24 16:02:46.729 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:46.735 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:46.735 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:46.738 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 29.6455ms
2025-12-24 16:02:46.741 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 94.899ms
2025-12-24 16:02:46.744 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:46.745 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:46.756 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 32.8627ms
2025-12-24 16:02:46.758 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 100.5619ms
2025-12-24 16:02:46.761 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:46.768 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 91.9884ms
2025-12-24 16:02:47.330 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:47.331 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:47.331 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:47.336 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:47.347 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:47.364 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:47.377 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:47.390 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:47.391 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:47.392 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:47.392 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:47.393 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:47.394 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:47.394 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:47.398 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:47.400 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:47.406 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:47.407 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 75.4611ms
2025-12-24 16:02:47.408 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:47.414 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:47.416 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:47.423 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:47.429 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:47.432 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:47.434 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:47.440 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:47.442 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:47.449 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:47.452 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 49.0723ms
2025-12-24 16:02:47.453 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:47.455 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:47.456 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 50.2761ms
2025-12-24 16:02:47.458 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 47.1711ms
2025-12-24 16:02:47.458 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:47.460 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:47.461 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:47.466 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:47.468 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:47.470 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:47.475 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:47.476 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 145.9476ms
2025-12-24 16:02:47.481 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 58.5709ms
2025-12-24 16:02:47.484 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:47.486 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 154.8458ms
2025-12-24 16:02:47.489 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 152.5778ms
2025-12-24 16:02:47.490 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:47.494 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:47.500 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:47.510 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:47.511 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:47.517 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:47.519 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:47.519 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:47.522 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:47.523 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:47.526 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:47.525 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:47.526 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:47.528 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:47.535 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 21.6348ms
2025-12-24 16:02:47.536 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:47.537 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 19.8206ms
2025-12-24 16:02:47.539 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:47.542 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:47.543 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:47.544 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 89.2649ms
2025-12-24 16:02:47.547 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 22.1176ms
2025-12-24 16:02:47.550 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 92.2321ms
2025-12-24 16:02:47.556 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:47.558 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 63.9528ms
2025-12-24 16:02:47.980 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:47.980 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:47.981 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:47.981 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:47.984 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:47.993 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.000 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.005 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.005 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:48.007 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.007 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.008 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.009 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:48.009 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:48.010 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:48.011 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:48.011 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 30.7303ms
2025-12-24 16:02:48.016 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:48.019 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:48.022 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:48.025 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:48.028 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:48.032 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:48.037 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:48.038 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.041 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:48.044 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:48.046 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:48.047 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:48.049 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 35.3901ms
2025-12-24 16:02:48.051 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 35.2535ms
2025-12-24 16:02:48.053 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 32.5348ms
2025-12-24 16:02:48.054 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:48.056 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.056 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:48.058 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.060 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:48.060 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.062 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 36.8474ms
2025-12-24 16:02:48.064 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 83.4514ms
2025-12-24 16:02:48.067 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.069 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 87.7289ms
2025-12-24 16:02:48.072 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.073 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 92.0094ms
2025-12-24 16:02:48.077 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:48.086 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.090 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.094 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.096 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:48.097 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:48.099 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.104 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:48.104 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:48.105 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:48.107 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:48.109 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:48.110 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:48.110 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:48.115 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:48.116 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:48.117 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 15.5936ms
2025-12-24 16:02:48.120 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:48.121 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 17.3834ms
2025-12-24 16:02:48.122 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.123 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 15.8367ms
2025-12-24 16:02:48.124 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.125 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 68.7949ms
2025-12-24 16:02:48.126 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.127 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 67.2535ms
2025-12-24 16:02:48.131 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 54.0125ms
2025-12-24 16:02:48.563 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:48.565 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:48.565 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:48.571 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:48.581 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.594 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.601 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.602 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.603 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.603 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.604 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:48.604 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.609 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:48.606 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:48.607 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:48.605 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:48.615 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:48.618 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:48.619 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 53.5346ms
2025-12-24 16:02:48.623 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:48.627 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:48.631 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:48.634 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:48.637 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:48.639 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:48.641 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:48.644 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.648 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:48.651 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 38.7019ms
2025-12-24 16:02:48.652 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 35.5503ms
2025-12-24 16:02:48.653 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:48.654 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 32.3219ms
2025-12-24 16:02:48.655 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.656 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:48.656 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:48.657 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.658 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:48.660 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.660 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 89.4969ms
2025-12-24 16:02:48.664 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.668 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.670 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 104.4382ms
2025-12-24 16:02:48.671 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 36.8667ms
2025-12-24 16:02:48.673 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 109.9264ms
2025-12-24 16:02:48.676 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:48.677 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.678 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.691 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:48.692 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:48.693 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:48.693 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.697 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:48.701 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:48.702 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:48.706 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:48.707 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:48.709 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:48.711 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:48.716 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:48.722 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:48.722 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 26.6356ms
2025-12-24 16:02:48.724 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 24.3764ms
2025-12-24 16:02:48.726 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:48.727 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.728 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.735 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 78.3176ms
2025-12-24 16:02:48.732 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 75.2083ms
2025-12-24 16:02:48.729 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 21.8758ms
2025-12-24 16:02:48.743 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:48.744 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 67.6673ms
2025-12-24 16:02:49.196 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:49.196 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:49.199 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:49.200 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:49.215 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.234 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.248 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.261 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.270 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.265 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.268 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:49.262 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.272 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:49.273 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:49.274 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:49.276 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:49.279 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:49.283 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:49.284 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 84.9018ms
2025-12-24 16:02:49.288 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:49.292 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:49.296 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:49.302 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:49.310 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:49.315 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:49.320 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:49.325 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.332 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:49.341 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:49.337 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:49.337 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 56.2153ms
2025-12-24 16:02:49.339 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:49.333 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 55.9599ms
2025-12-24 16:02:49.341 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 54.3378ms
2025-12-24 16:02:49.352 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.359 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.360 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.363 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:49.366 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.370 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.371 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.373 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.374 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 178.267ms
2025-12-24 16:02:49.375 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 72.8237ms
2025-12-24 16:02:49.377 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 176.421ms
2025-12-24 16:02:49.377 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 181.5413ms
2025-12-24 16:02:49.378 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:49.382 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:49.386 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:49.395 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:49.396 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:49.397 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.404 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:49.406 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.408 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:49.409 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:49.409 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:49.410 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 16.9957ms
2025-12-24 16:02:49.417 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.416 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:49.413 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:49.419 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 77.4596ms
2025-12-24 16:02:49.422 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 27.5892ms
2025-12-24 16:02:49.429 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.429 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:49.433 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 96.0756ms
2025-12-24 16:02:49.439 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:49.449 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 37.7819ms
2025-12-24 16:02:49.452 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.455 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 69.3516ms
2025-12-24 16:02:49.771 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:49.772 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:49.773 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:49.773 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:49.781 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.788 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.793 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.795 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.796 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:49.798 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.799 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.800 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.801 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:49.802 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:49.802 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:49.803 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:49.804 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 33.0209ms
2025-12-24 16:02:49.807 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:49.809 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:49.811 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:49.814 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:49.818 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:49.821 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:49.824 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:49.825 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.827 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:49.828 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:49.831 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:49.832 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:49.834 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 27.5836ms
2025-12-24 16:02:49.836 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 28.2892ms
2025-12-24 16:02:49.839 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:49.839 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 29.1599ms
2025-12-24 16:02:49.840 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:49.840 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:49.841 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.842 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.844 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.845 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.846 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 31.9959ms
2025-12-24 16:02:49.850 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.853 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 80.767ms
2025-12-24 16:02:49.854 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 80.7363ms
2025-12-24 16:02:49.855 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.856 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 82.8206ms
2025-12-24 16:02:49.859 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:49.859 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.868 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:49.873 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:49.874 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:49.876 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.876 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:49.878 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:49.879 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:49.884 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:49.888 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:49.890 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:49.891 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:49.894 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:49.894 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:49.896 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 20.8058ms
2025-12-24 16:02:49.899 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:49.900 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 22.9832ms
2025-12-24 16:02:49.902 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.904 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 17.6676ms
2025-12-24 16:02:49.906 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.907 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 68.1811ms
2025-12-24 16:02:49.908 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:49.909 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 68.2003ms
2025-12-24 16:02:49.912 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 53.1306ms
2025-12-24 16:02:50.354 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:50.355 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:50.355 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:50.358 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:50.364 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:50.372 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:50.377 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:50.379 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:50.382 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:50.383 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:50.383 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:50.386 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:50.385 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:50.386 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:50.384 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:50.388 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:50.390 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 35.2448ms
2025-12-24 16:02:50.390 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:50.391 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:50.395 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:50.396 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:50.399 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:50.401 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:50.403 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:50.406 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:50.408 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:50.411 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 24.1086ms
2025-12-24 16:02:50.412 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:50.413 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:50.414 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 24.9158ms
2025-12-24 16:02:50.414 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:50.415 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:50.416 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:50.417 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:50.418 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:50.419 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:50.423 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:50.423 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 67.9762ms
2025-12-24 16:02:50.425 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:50.426 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 26.2551ms
2025-12-24 16:02:50.427 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 30.9405ms
2025-12-24 16:02:50.428 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 73.5487ms
2025-12-24 16:02:50.428 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:50.433 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:50.434 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:50.439 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:50.440 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:50.441 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:50.441 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 83.6147ms
2025-12-24 16:02:50.443 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:50.446 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:50.448 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:50.452 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:50.455 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:50.457 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:50.457 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:50.459 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:50.461 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:50.464 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:50.466 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 21.0161ms
2025-12-24 16:02:50.469 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 22.2118ms
2025-12-24 16:02:50.474 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:50.474 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:50.475 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:50.476 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 61.5232ms
2025-12-24 16:02:50.478 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:50.479 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 62.2069ms
2025-12-24 16:02:50.484 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 21.4052ms
2025-12-24 16:02:50.487 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:50.488 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 48.5074ms
2025-12-24 16:02:51.006 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:51.007 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:51.008 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:51.008 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:51.020 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.026 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.035 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.042 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.043 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:51.043 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.044 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.044 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.045 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:51.047 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:51.049 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:51.050 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:51.056 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:51.054 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:51.051 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 44.9039ms
2025-12-24 16:02:51.058 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:51.060 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:51.060 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:51.062 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:51.066 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:51.068 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:51.071 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:51.072 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.074 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:51.075 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 20.6574ms
2025-12-24 16:02:51.076 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 23.7588ms
2025-12-24 16:02:51.077 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:51.078 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 22.0094ms
2025-12-24 16:02:51.080 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.082 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.083 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:51.083 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:51.084 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.084 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:51.084 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 76.9522ms
2025-12-24 16:02:51.085 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 78.6079ms
2025-12-24 16:02:51.087 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 25.2243ms
2025-12-24 16:02:51.089 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.090 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 82.3027ms
2025-12-24 16:02:51.092 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.094 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:51.102 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.107 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.108 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.109 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:51.111 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:51.112 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.118 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:51.121 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:51.121 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:51.125 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:51.127 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:51.128 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:51.133 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:51.139 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:51.139 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:51.140 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 24.9878ms
2025-12-24 16:02:51.141 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 21.5384ms
2025-12-24 16:02:51.144 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:51.145 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.147 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.148 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 22.6481ms
2025-12-24 16:02:51.151 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 67.8835ms
2025-12-24 16:02:51.152 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 68.3009ms
2025-12-24 16:02:51.153 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.157 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 63.4614ms
2025-12-24 16:02:51.629 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:51.629 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:51.631 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:51.631 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:51.635 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.639 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.642 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.643 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.644 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:51.644 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.647 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:51.645 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.646 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:51.644 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.651 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:51.652 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 22.9267ms
2025-12-24 16:02:51.652 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:51.653 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:51.656 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:51.657 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:51.659 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:51.661 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:51.663 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:51.665 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.667 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:51.674 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:51.674 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:51.674 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:51.676 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 26.02ms
2025-12-24 16:02:51.682 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:51.683 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:51.684 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 28.9376ms
2025-12-24 16:02:51.685 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:51.685 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.686 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:51.688 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 28.2063ms
2025-12-24 16:02:51.693 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.701 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.694 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 37.0502ms
2025-12-24 16:02:51.696 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 66.6486ms
2025-12-24 16:02:51.698 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.700 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.693 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.703 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:51.707 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:51.715 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.717 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 86.3938ms
2025-12-24 16:02:51.719 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 88.018ms
2025-12-24 16:02:51.724 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:51.728 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:51.728 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:51.737 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.738 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:51.739 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:51.740 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:51.741 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:51.744 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:51.746 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 23.6599ms
2025-12-24 16:02:51.747 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:51.750 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.750 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:51.754 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:51.754 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 71.0947ms
2025-12-24 16:02:51.756 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:51.757 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 18.4761ms
2025-12-24 16:02:51.760 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 17.5572ms
2025-12-24 16:02:51.761 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.762 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:51.763 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 76.6358ms
2025-12-24 16:02:51.764 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 56.7501ms
2025-12-24 16:02:52.142 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:52.143 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:52.144 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:52.144 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:52.146 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.149 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.153 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.158 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.159 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:52.160 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.160 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.160 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.161 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:52.162 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:52.163 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:52.164 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:52.165 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 23.6521ms
2025-12-24 16:02:52.169 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:52.172 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:52.173 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:52.175 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:52.177 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:52.179 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:52.182 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:52.185 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.188 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:52.190 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:52.192 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:52.192 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:52.193 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 26.2349ms
2025-12-24 16:02:52.194 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 24.2914ms
2025-12-24 16:02:52.198 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 25.4266ms
2025-12-24 16:02:52.198 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:52.200 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:52.202 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.204 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:52.204 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.205 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.207 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.208 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 32.8417ms
2025-12-24 16:02:52.209 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 65.166ms
2025-12-24 16:02:52.210 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.211 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 67.5627ms
2025-12-24 16:02:52.212 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 68.3832ms
2025-12-24 16:02:52.213 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.216 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:52.221 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.226 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:52.228 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.228 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:52.231 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.232 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:52.235 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:52.235 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:52.237 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:52.239 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:52.240 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:52.240 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:52.244 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:52.244 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:52.245 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 14.9275ms
2025-12-24 16:02:52.247 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:52.248 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 13.9961ms
2025-12-24 16:02:52.249 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.250 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 12.0878ms
2025-12-24 16:02:52.251 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.252 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 54.2095ms
2025-12-24 16:02:52.254 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.255 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 51.6576ms
2025-12-24 16:02:52.259 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 42.2975ms
2025-12-24 16:02:52.737 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:52.739 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:52.740 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:52.742 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:52.752 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.766 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.774 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.776 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.776 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.777 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:52.777 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.777 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.778 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:52.780 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:52.782 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:52.784 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:52.788 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 48.808ms
2025-12-24 16:02:52.788 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:52.792 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:52.794 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:52.796 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:52.802 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:52.805 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:52.808 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:52.808 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.810 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:52.814 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:52.820 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:52.822 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:52.827 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:52.825 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 35.4314ms
2025-12-24 16:02:52.826 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:52.841 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.852 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.857 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:52.830 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.870 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.827 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 34.5911ms
2025-12-24 16:02:52.824 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 36.4412ms
2025-12-24 16:02:52.827 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:52.867 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:52.833 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.877 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:52.881 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.884 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.886 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 89.0784ms
2025-12-24 16:02:52.892 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 151.5849ms
2025-12-24 16:02:52.892 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:52.898 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 155.2313ms
2025-12-24 16:02:52.899 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:52.903 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 165.2532ms
2025-12-24 16:02:52.912 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:52.926 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:52.942 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:52.945 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:52.947 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 88.2741ms
2025-12-24 16:02:52.950 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:52.952 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.954 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.955 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 60.5737ms
2025-12-24 16:02:52.956 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:52.957 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 131.2377ms
2025-12-24 16:02:52.958 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.961 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:52.965 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 137.6125ms
2025-12-24 16:02:52.971 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:52.974 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:52.975 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 15.4828ms
2025-12-24 16:02:52.976 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:52.977 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 65.1816ms
2025-12-24 16:02:53.378 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:53.380 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:53.384 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:53.386 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:53.395 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.403 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.406 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.407 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.408 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.409 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.409 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:53.412 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:53.410 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:53.411 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:53.410 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.414 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 29.436ms
2025-12-24 16:02:53.419 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:53.420 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:53.421 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:53.424 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:53.426 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:53.428 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:53.430 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:53.432 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.437 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:53.441 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:53.442 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:53.442 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:53.443 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 26.486ms
2025-12-24 16:02:53.447 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:53.447 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:53.449 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 29.3247ms
2025-12-24 16:02:53.451 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:53.452 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:53.453 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.455 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 28.2206ms
2025-12-24 16:02:53.457 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.458 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.459 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 35.0646ms
2025-12-24 16:02:53.461 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.462 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 84.0288ms
2025-12-24 16:02:53.466 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.468 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.469 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 89.1366ms
2025-12-24 16:02:53.473 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:53.474 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.482 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 95.9065ms
2025-12-24 16:02:53.486 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:53.502 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.507 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:53.525 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.525 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:53.527 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:53.528 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:53.534 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:53.538 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:53.541 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:53.543 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:53.547 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:53.551 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:53.554 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 30.0919ms
2025-12-24 16:02:53.557 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:53.558 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 31.7318ms
2025-12-24 16:02:53.559 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.560 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 23.8762ms
2025-12-24 16:02:53.563 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.566 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 119.3576ms
2025-12-24 16:02:53.569 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.570 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 118.476ms
2025-12-24 16:02:53.573 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 100.5087ms
2025-12-24 16:02:53.882 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:53.883 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:53.883 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:53.884 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:53.894 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.906 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.914 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.924 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.925 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.925 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:53.926 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.926 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.927 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:53.927 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:53.929 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:53.932 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:53.937 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 54.4415ms
2025-12-24 16:02:53.937 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:53.943 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:53.944 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:53.949 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:53.953 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:53.955 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:53.959 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.961 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:53.963 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:53.964 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:53.965 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:53.968 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 31.9777ms
2025-12-24 16:02:53.970 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:53.972 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:53.975 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 33.0522ms
2025-12-24 16:02:53.976 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:53.977 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:53.978 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.983 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.986 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 42.5538ms
2025-12-24 16:02:54.000 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.990 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 41.2179ms
2025-12-24 16:02:53.994 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:53.995 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 113.0408ms
2025-12-24 16:02:53.997 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:53.988 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.003 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 119.6413ms
2025-12-24 16:02:54.008 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:54.010 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.018 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:54.021 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 137.6925ms
2025-12-24 16:02:54.036 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:54.038 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:54.042 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:54.044 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.049 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:54.053 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:54.054 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:54.056 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:54.058 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:54.060 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:54.065 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:54.070 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 30.505ms
2025-12-24 16:02:54.071 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:54.072 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 25.1991ms
2025-12-24 16:02:54.075 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.078 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:54.081 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.084 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 113.6978ms
2025-12-24 16:02:54.086 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 29.6554ms
2025-12-24 16:02:54.087 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 109.8675ms
2025-12-24 16:02:54.090 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.093 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 84.7177ms
2025-12-24 16:02:54.499 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:54.501 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:54.502 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:54.503 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:54.515 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:54.531 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:54.542 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:54.545 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:54.545 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.547 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:54.547 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.549 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.550 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:54.551 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:54.552 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:54.552 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:54.554 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 53.0602ms
2025-12-24 16:02:54.555 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:54.558 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:54.559 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:54.560 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:54.563 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:54.569 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:54.573 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:54.573 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:54.577 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:54.579 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:54.581 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:54.585 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:54.587 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 34.1231ms
2025-12-24 16:02:54.589 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 33.3035ms
2025-12-24 16:02:54.590 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:54.591 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:54.593 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:54.593 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 35.442ms
2025-12-24 16:02:54.594 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.595 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.602 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:54.606 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 45.3636ms
2025-12-24 16:02:54.611 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:54.614 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.617 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 117.9743ms
2025-12-24 16:02:54.620 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 118.1801ms
2025-12-24 16:02:54.621 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.626 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:54.627 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.628 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 124.6358ms
2025-12-24 16:02:54.639 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:54.641 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:54.642 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:54.651 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.651 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:54.654 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:54.656 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:54.657 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:54.659 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:54.660 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:54.661 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:54.665 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:54.668 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:54.669 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 19.9415ms
2025-12-24 16:02:54.672 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:54.674 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 21.2786ms
2025-12-24 16:02:54.678 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.681 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 24.4177ms
2025-12-24 16:02:54.684 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.685 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 94.974ms
2025-12-24 16:02:54.687 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:54.689 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 96.004ms
2025-12-24 16:02:54.696 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 70.2245ms
2025-12-24 16:02:55.123 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:55.123 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:55.124 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:55.125 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:55.133 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:55.137 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:55.141 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:55.144 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:55.145 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.145 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.147 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:55.150 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.153 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:55.155 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:55.157 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:55.159 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:55.164 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:55.167 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:55.167 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 43.3699ms
2025-12-24 16:02:55.175 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:55.179 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:55.182 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:55.191 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:55.207 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:55.225 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:55.213 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:55.220 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:55.237 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:55.232 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 60.7594ms
2025-12-24 16:02:55.235 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 69.9281ms
2025-12-24 16:02:55.208 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:55.238 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:55.238 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:55.238 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:55.241 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.243 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.256 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 94.3743ms
2025-12-24 16:02:55.261 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:55.269 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:55.272 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 80.8802ms
2025-12-24 16:02:55.274 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 149.5006ms
2025-12-24 16:02:55.277 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 154.3306ms
2025-12-24 16:02:55.284 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.287 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.291 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.306 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:55.337 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 213.7426ms
2025-12-24 16:02:55.340 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:55.343 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:55.345 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:55.356 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:55.358 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.359 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:55.365 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:55.367 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:55.374 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:55.382 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:55.386 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:55.394 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:55.406 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:55.407 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 51.8816ms
2025-12-24 16:02:55.409 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 52.0524ms
2025-12-24 16:02:55.417 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:55.420 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.426 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.430 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 52.1243ms
2025-12-24 16:02:55.433 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 196.6719ms
2025-12-24 16:02:55.436 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 198.1306ms
2025-12-24 16:02:55.440 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.463 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 156.6339ms
2025-12-24 16:02:55.841 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:55.841 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:55.842 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:55.843 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:55.861 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:55.869 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:55.875 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:55.889 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:55.891 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:55.894 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.902 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.906 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:55.908 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:55.911 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:55.919 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:55.921 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:55.924 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 82.6467ms
2025-12-24 16:02:55.938 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:55.944 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:55.957 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:55.977 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:55.998 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:56.032 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:56.043 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:56.055 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:56.062 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:56.072 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:56.078 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:56.080 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:56.087 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 151.9245ms
2025-12-24 16:02:56.090 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:56.090 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 149.4105ms
2025-12-24 16:02:56.092 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:56.094 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 140.4621ms
2025-12-24 16:02:56.101 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:56.105 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.112 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:56.118 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.128 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:56.136 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.139 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 161.5302ms
2025-12-24 16:02:56.147 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 305.5861ms
2025-12-24 16:02:56.150 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.153 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 310.9588ms
2025-12-24 16:02:56.155 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.158 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 315.5021ms
2025-12-24 16:02:56.170 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:56.192 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:56.262 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:56.281 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:56.295 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:56.302 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.303 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:56.309 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:56.310 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:56.361 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:56.369 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:56.376 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:56.390 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:56.395 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 106.7834ms
2025-12-24 16:02:56.405 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:56.408 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 109.5793ms
2025-12-24 16:02:56.412 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.428 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:56.432 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.436 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 346.0344ms
2025-12-24 16:02:56.440 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 65.8006ms
2025-12-24 16:02:56.441 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 348.9045ms
2025-12-24 16:02:56.455 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.468 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 298.4871ms
2025-12-24 16:02:56.569 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:56.575 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:56.575 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:56.576 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:56.579 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:56.589 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:56.599 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:56.609 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:56.614 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.618 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.624 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:56.629 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.633 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:56.636 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:56.639 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:56.644 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:56.660 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:56.672 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 96.6555ms
2025-12-24 16:02:56.675 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:56.691 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:56.693 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:56.703 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:56.713 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:56.726 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:56.727 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:56.738 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:56.743 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:56.756 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:56.759 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 104.2972ms
2025-12-24 16:02:56.761 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:56.763 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:56.767 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 101.8873ms
2025-12-24 16:02:56.770 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:56.771 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 88.5248ms
2025-12-24 16:02:56.774 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.776 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:56.788 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:56.792 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.801 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:56.804 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.806 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 237.3387ms
2025-12-24 16:02:56.809 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 105.2702ms
2025-12-24 16:02:56.811 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.816 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 241.2606ms
2025-12-24 16:02:56.818 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.821 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 245.5966ms
2025-12-24 16:02:56.831 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:56.842 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:56.855 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:56.872 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:56.880 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:56.886 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.887 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:56.895 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:56.896 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:56.905 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:56.909 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:56.917 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:56.920 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:56.924 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 46.559ms
2025-12-24 16:02:56.934 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 50.7019ms
2025-12-24 16:02:56.934 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:56.939 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.944 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:56.974 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:56.976 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 213.3205ms
2025-12-24 16:02:56.978 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 208.0601ms
2025-12-24 16:02:56.980 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 66.4455ms
2025-12-24 16:02:57.012 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:57.017 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 185.855ms
2025-12-24 16:02:57.236 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:57.236 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:57.237 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:57.240 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:57.349 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:57.357 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:57.368 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:57.376 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:57.388 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:57.424 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:57.426 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:57.428 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:57.433 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:57.440 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:57.442 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:57.447 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:57.458 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:57.470 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 232.5252ms
2025-12-24 16:02:57.471 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:57.481 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:57.492 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:57.500 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:57.509 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:57.516 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:57.519 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:57.524 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:57.544 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:57.559 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 104.2022ms
2025-12-24 16:02:57.536 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:57.575 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:57.598 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:57.589 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:57.572 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:57.591 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:57.595 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 132.652ms
2025-12-24 16:02:57.583 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 107.3129ms
2025-12-24 16:02:57.602 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 103.2506ms
2025-12-24 16:02:57.604 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 368.7827ms
2025-12-24 16:02:57.610 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:57.617 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:57.621 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:57.625 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:57.635 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:57.650 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:57.654 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:57.657 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 420.8948ms
2025-12-24 16:02:57.660 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 420.0681ms
2025-12-24 16:02:57.668 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:57.672 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:57.675 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:57.703 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:57.732 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:57.743 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:57.743 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:57.776 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:57.799 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:57.808 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:57.823 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:57.862 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:57.856 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:57.902 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 177.4905ms
2025-12-24 16:02:57.914 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 173.0008ms
2025-12-24 16:02:57.920 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:57.923 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:57.926 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:57.929 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 138.1007ms
2025-12-24 16:02:57.935 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 362.7201ms
2025-12-24 16:02:57.937 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 346.3196ms
2025-12-24 16:02:57.940 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:57.955 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 499 null application/json; charset=utf-8 320.5612ms
2025-12-24 16:02:58.279 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:58.280 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:58.283 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:58.285 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:58.292 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:58.300 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:58.306 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:58.309 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:58.309 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:58.310 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:58.310 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:58.311 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:58.315 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:58.317 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:58.319 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:58.321 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:58.327 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:58.328 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 44.4088ms
2025-12-24 16:02:58.329 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:58.334 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:58.342 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:58.343 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:58.350 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:58.354 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:58.355 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:58.359 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:58.361 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:58.369 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:58.371 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 46.4181ms
2025-12-24 16:02:58.374 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:58.384 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 56.6679ms
2025-12-24 16:02:58.384 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:58.387 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 55.6929ms
2025-12-24 16:02:58.389 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:58.391 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:58.392 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:58.394 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:58.400 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:58.403 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:58.407 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:58.409 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 129.8773ms
2025-12-24 16:02:58.414 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 71.3591ms
2025-12-24 16:02:58.420 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 140.6765ms
2025-12-24 16:02:58.422 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:58.424 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 138.5188ms
2025-12-24 16:02:58.425 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:58.434 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:58.443 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:58.451 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:58.454 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:58.458 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:58.460 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:58.460 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:58.467 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:58.473 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:58.468 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:58.473 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:58.476 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:58.483 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 25.9896ms
2025-12-24 16:02:58.483 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:58.485 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 26.2122ms
2025-12-24 16:02:58.487 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:58.492 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:58.493 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:58.494 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 109.3753ms
2025-12-24 16:02:58.496 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 106.9187ms
2025-12-24 16:02:58.503 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:58.510 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 32.1357ms
2025-12-24 16:02:58.511 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:58.514 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 80.2516ms
2025-12-24 16:02:58.995 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:58.996 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:58.997 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:58.999 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:59.015 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:59.031 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:59.049 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:59.062 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:59.067 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:59.070 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.072 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.073 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.074 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:59.075 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:59.077 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:59.080 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:59.086 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 90.5688ms
2025-12-24 16:02:59.100 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:59.110 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:59.121 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:59.131 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:59.142 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:59.152 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:59.163 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:59.166 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:59.174 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:59.187 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:59.193 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:59.195 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:02:59.200 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 106.0031ms
2025-12-24 16:02:59.203 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:59.204 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 97.3962ms
2025-12-24 16:02:59.206 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:59.207 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 89.216ms
2025-12-24 16:02:59.208 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:02:59.210 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.219 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:59.222 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.226 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:59.229 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.232 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 100.8869ms
2025-12-24 16:02:59.237 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 240.7649ms
2025-12-24 16:02:59.239 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.241 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 243.9816ms
2025-12-24 16:02:59.242 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.244 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 244.749ms
2025-12-24 16:02:59.254 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:59.259 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:02:59.269 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:02:59.277 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:59.285 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:02:59.292 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.294 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:02:59.301 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:02:59.303 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:02:59.311 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:02:59.319 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:59.329 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:02:59.338 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:59.340 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 59.2127ms
2025-12-24 16:02:59.347 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 58.7221ms
2025-12-24 16:02:59.350 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:02:59.352 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.356 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.359 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:02:59.362 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 159.1477ms
2025-12-24 16:02:59.366 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 159.9469ms
2025-12-24 16:02:59.371 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 46.168ms
2025-12-24 16:02:59.392 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.395 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 140.8022ms
2025-12-24 16:02:59.932 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:59.933 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:59.937 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:02:59.942 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:02:59.949 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:59.963 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:03:00.001 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.992 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:02:59.995 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:02:59.976 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:03:00.005 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:03:00.008 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:03:00.041 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:03:00.024 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:03:00.040 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:03:00.011 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:03:00.054 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:03:00.054 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:03:00.061 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:03:00.069 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:03:00.075 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 137.7449ms
2025-12-24 16:03:00.076 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:03:00.084 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:03:00.091 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:03:00.096 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:03:00.103 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:03:00.105 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 67.8596ms
2025-12-24 16:03:00.111 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:03:00.115 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:03:00.123 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:03:00.127 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 75.6563ms
2025-12-24 16:03:00.131 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:03:00.132 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:03:00.138 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:03:00.141 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 73.8953ms
2025-12-24 16:03:00.144 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager|Staff)
2025-12-24 16:03:00.151 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:03:00.154 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 221.647ms
2025-12-24 16:03:00.161 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:03:00.165 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:03:00.169 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:03:00.171 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:03:00.174 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 231.5668ms
2025-12-24 16:03:00.183 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - null null
2025-12-24 16:03:00.186 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:03:00.189 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:03:00.191 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 259.0698ms
2025-12-24 16:03:00.193 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1000 - 401 0 null 96.8643ms
2025-12-24 16:03:00.208 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:03:00.210 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:03:00.220 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:03:00.235 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:03:00.242 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:03:00.250 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:03:00.250 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:03:00.259 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:03:00.259 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:03:00.265 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:03:00.268 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:03:00.271 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 54.5759ms
2025-12-24 16:03:00.276 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 36.7713ms
2025-12-24 16:03:00.277 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:03:00.279 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:03:00.284 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:03:00.288 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:03:00.289 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 177.8041ms
2025-12-24 16:03:00.291 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 159.2061ms
2025-12-24 16:03:00.292 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 31.2706ms
2025-12-24 16:03:00.306 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:03:00.308 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 124.3506ms
2025-12-24 16:03:00.342 +07:00 [INF] Application is shutting down...
2025-12-24 16:05:56.912 +07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-12-24 16:05:57.646 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Username" = 'admin')
2025-12-24 16:05:57.838 +07:00 [INF] User profile is available. Using 'C:\Users\quang\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-24 16:05:57.920 +07:00 [INF] Now listening on: http://localhost:5263
2025-12-24 16:05:57.924 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-24 16:05:57.926 +07:00 [INF] Hosting environment: Development
2025-12-24 16:05:57.928 +07:00 [INF] Content root path: C:\Users\quang\OneDrive\Desktop\Du_an_lon\QuanLyKiTucXa\Backend\QuanLyKiTucXa.API
2025-12-24 16:06:01.187 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:01.187 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:06:01.187 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:06:01.187 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:06:01.370 +07:00 [WRN] Failed to determine the https port for redirect.
2025-12-24 16:06:01.378 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:01.378 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:01.378 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:01.378 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:01.508 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:06:01.508 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:06:01.508 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:06:01.508 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:01.601 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:06:01.601 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:06:01.601 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:06:01.601 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:02.283 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:02.369 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:06:02.377 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:06:02.425 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:06:02.436 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:06:02.438 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:06:02.469 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:06:02.471 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:06:02.472 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:06:02.475 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:06:02.480 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:06:02.484 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:06:02.546 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:02.621 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:02.645 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:06:02.662 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:06:02.668 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:06:02.676 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:02.683 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:02.690 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:02.889 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 1231.6594ms
2025-12-24 16:06:02.889 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 1243.8873ms
2025-12-24 16:06:02.889 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 1267.5211ms
2025-12-24 16:06:02.889 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 1254.0705ms
2025-12-24 16:06:02.895 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:06:02.895 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:06:02.908 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:02.911 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:06:02.917 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:06:02.925 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:06:02.940 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:02.945 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:02.967 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:06:02.971 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:02.971 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 1795.1141ms
2025-12-24 16:06:02.971 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 1795.126ms
2025-12-24 16:06:02.971 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 1795.1543ms
2025-12-24 16:06:02.971 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 1795.096ms
2025-12-24 16:06:02.975 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:06:02.978 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:02.998 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:03.008 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:06:03.045 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:03.055 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:03.059 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.061 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.069 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:06:03.074 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:06:03.256 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:06:03.255 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:06:03.261 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:03.263 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:06:03.275 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:06:03.280 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:06:03.291 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:03.304 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:06:03.310 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:03.319 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:03.329 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:03.339 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:03.353 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 328.2143ms
2025-12-24 16:06:03.353 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 267.2059ms
2025-12-24 16:06:03.360 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 328.0177ms
2025-12-24 16:06:03.366 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 285.5864ms
2025-12-24 16:06:03.377 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.382 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.385 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.397 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.399 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 499 null application/json; charset=utf-8 503.8657ms
2025-12-24 16:06:03.402 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 499 null application/json; charset=utf-8 393.473ms
2025-12-24 16:06:03.410 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 499 null application/json; charset=utf-8 513.8561ms
2025-12-24 16:06:03.416 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 499 null application/json; charset=utf-8 417.6976ms
2025-12-24 16:06:03.524 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:06:03.524 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:06:03.532 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:03.532 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:06:03.535 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:03.546 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:03.553 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:03.565 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:03.570 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.576 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.581 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.583 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.585 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:03.595 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:06:03.600 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:06:03.606 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:06:03.630 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:03.639 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:06:03.661 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:06:03.662 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:06:03.664 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:03.675 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:06:03.700 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:06:03.718 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:06:03.725 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:03.744 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:03.749 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:03.773 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 160.378ms
2025-12-24 16:06:03.779 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 157.5152ms
2025-12-24 16:06:03.764 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:03.781 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:06:03.782 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 134.4706ms
2025-12-24 16:06:03.784 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:06:03.787 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.793 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.797 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 163.0277ms
2025-12-24 16:06:03.810 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:03.812 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.826 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:03.830 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 305.9061ms
2025-12-24 16:06:03.833 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 309.2483ms
2025-12-24 16:06:03.837 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.840 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.843 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 310.5967ms
2025-12-24 16:06:03.845 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.859 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:06:03.869 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:03.873 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 340.467ms
2025-12-24 16:06:03.876 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:03.891 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:06:03.899 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:03.908 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:03.930 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:03.937 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.939 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:06:03.942 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:06:03.952 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:03.953 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:06:03.969 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:06:03.971 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:06:03.981 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:03.998 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:06:04.006 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:06:04.013 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:04.020 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 94.1505ms
2025-12-24 16:06:04.034 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:06:04.044 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."StudentId", c0."UpdatedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt", r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."StudentId", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted")
) AS s0 ON c0."StudentId" = s0."Id"
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
2025-12-24 16:06:04.045 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 112.4621ms
2025-12-24 16:06:04.051 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:04.060 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:04.069 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:04.075 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:06:04.079 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 297.8218ms
2025-12-24 16:06:04.084 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 92.275ms
2025-12-24 16:06:04.088 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 87.4949ms
2025-12-24 16:06:04.091 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 307.0216ms
2025-12-24 16:06:04.109 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:06:04.114 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:06:04.132 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 273.1205ms
2025-12-24 16:06:04.135 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 266.3343ms
2025-12-24 16:06:05.442 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:05.454 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:05.461 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:05.467 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:05.486 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:05.502 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:05.519 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:05.528 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 49.1798ms
2025-12-24 16:06:05.530 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:05.532 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:05.542 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:05.552 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 109.8718ms
2025-12-24 16:06:05.554 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:05.570 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:05.587 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:05.597 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:05.611 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:05.615 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 32.439ms
2025-12-24 16:06:05.620 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:05.628 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 94.6045ms
2025-12-24 16:06:07.474 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:07.485 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:07.488 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:07.495 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:07.517 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:07.536 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:07.543 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:07.547 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 35.9466ms
2025-12-24 16:06:07.550 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:07.558 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:07.568 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:07.573 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 99.3898ms
2025-12-24 16:06:07.577 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:07.600 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:07.611 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:07.625 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:07.637 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:07.643 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 36.9643ms
2025-12-24 16:06:07.649 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:07.653 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 103.5608ms
2025-12-24 16:06:13.974 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:13.980 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:13.984 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:14.001 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:14.042 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:14.073 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:14.088 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:14.095 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 58.6739ms
2025-12-24 16:06:14.097 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:14.101 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:14.115 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:14.119 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 144.9878ms
2025-12-24 16:06:14.131 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:14.161 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:14.190 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:14.215 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:14.225 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:14.231 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 47.2142ms
2025-12-24 16:06:14.234 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:14.242 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 145.3584ms
2025-12-24 16:06:14.931 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:14.950 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:14.959 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:14.987 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:15.044 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:15.066 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:15.082 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:15.092 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 62.3457ms
2025-12-24 16:06:15.100 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:15.100 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:15.111 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:15.115 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 183.2267ms
2025-12-24 16:06:15.117 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:15.133 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:15.149 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:15.162 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:15.170 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:15.178 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 38.5169ms
2025-12-24 16:06:15.183 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:15.186 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 86.9385ms
2025-12-24 16:06:46.583 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/students - null null
2025-12-24 16:06:46.590 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:46.597 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/students - 204 null null 13.9069ms
2025-12-24 16:06:46.646 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/students - application/json 116
2025-12-24 16:06:46.683 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:46.686 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.PostStudent (QuanLyKiTucXa.API)'
2025-12-24 16:06:46.713 +07:00 [INF] Route matched with {action = "PostStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] PostStudent(QuanLyKiTucXa.API.DTOs.CreateStudentDto) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:46.863 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__createStudentDto_StudentCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted") AND s."StudentCode" = @__createStudentDto_StudentCode_0)
2025-12-24 16:06:46.889 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__createStudentDto_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted") AND s."Email" = @__createStudentDto_Email_0)
2025-12-24 16:06:47.454 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Students" ("Address", "CreatedAt", "DateOfBirth", "DeletedAt", "Email", "FullName", "Guardian", "GuardianPhone", "IdCardNumber", "IsDeleted", "PhoneNumber", "ProfileImage", "Status", "StudentCode", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14)
RETURNING "Id";
2025-12-24 16:06:47.549 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:47.653 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.PostStudent (QuanLyKiTucXa.API) in 928.1734ms
2025-12-24 16:06:47.658 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.PostStudent (QuanLyKiTucXa.API)'
2025-12-24 16:06:47.662 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/students - 201 null application/json; charset=utf-8 1015.5639ms
2025-12-24 16:06:47.674 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:47.686 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:47.689 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:47.700 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:47.710 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:47.732 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:47.769 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:47.774 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 68.1021ms
2025-12-24 16:06:47.778 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:47.789 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 114.5974ms
2025-12-24 16:06:49.995 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:50.014 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:50.032 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:50.036 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:50.050 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:50.064 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:50.079 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:50.087 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 41.6647ms
2025-12-24 16:06:50.094 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:50.099 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:50.102 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 107.1824ms
2025-12-24 16:06:50.111 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:50.128 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:50.131 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:50.148 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:50.163 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:50.172 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:50.178 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 39.1849ms
2025-12-24 16:06:50.184 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:50.190 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 90.3555ms
2025-12-24 16:06:51.598 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:51.607 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:51.614 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:51.629 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:51.646 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:51.666 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:51.683 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:51.685 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 49.4432ms
2025-12-24 16:06:51.690 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:51.693 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:51.721 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:51.735 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 137.517ms
2025-12-24 16:06:51.739 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:51.767 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:51.785 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:51.802 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:51.814 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:51.826 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 44.6129ms
2025-12-24 16:06:51.834 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:51.845 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 155.1308ms
2025-12-24 16:06:52.533 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:52.543 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:52.547 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:52.553 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:52.565 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:52.584 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:52.616 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:52.638 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 77.1939ms
2025-12-24 16:06:52.648 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:06:52.654 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:52.683 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:06:52.686 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 153.4238ms
2025-12-24 16:06:52.702 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:52.734 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:06:52.751 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:06:52.764 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:06:52.777 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:06:52.783 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 35.2345ms
2025-12-24 16:06:52.791 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:06:52.797 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 148.5627ms
2025-12-24 16:08:12.683 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:08:12.700 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:08:12.704 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:08:12.710 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:08:12.726 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:08:12.741 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:08:12.758 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:08:12.788 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 66.6729ms
2025-12-24 16:08:12.793 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:08:12.800 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:08:12.810 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:08:12.814 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 131.0215ms
2025-12-24 16:08:12.817 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:08:12.831 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:08:12.841 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:08:12.852 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:08:12.862 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:08:12.869 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 30.168ms
2025-12-24 16:08:12.875 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:08:12.879 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 85.4613ms
2025-12-24 16:08:25.674 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:08:25.687 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:08:25.695 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:08:25.704 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:08:25.717 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:08:25.728 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:08:25.740 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:08:25.747 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 34.0834ms
2025-12-24 16:08:25.752 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:08:25.755 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:08:25.767 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:08:25.770 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 96.4662ms
2025-12-24 16:08:25.774 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:08:25.787 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:08:25.796 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:08:25.806 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:08:25.817 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:08:25.823 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 28.4588ms
2025-12-24 16:08:25.827 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:08:25.832 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 79.7443ms
2025-12-24 16:08:28.674 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:08:28.696 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:08:28.699 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:08:28.702 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:08:28.709 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:08:28.721 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:08:28.729 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:08:28.734 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 27.5081ms
2025-12-24 16:08:28.736 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:08:28.737 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:08:28.745 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:08:28.748 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 73.9374ms
2025-12-24 16:08:28.750 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:08:28.762 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:08:28.770 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:08:28.778 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:08:28.785 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:08:28.788 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 21.1364ms
2025-12-24 16:08:28.791 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:08:28.795 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 59.209ms
2025-12-24 16:12:53.177 +07:00 [INF] Application is shutting down...
2025-12-24 16:15:15.785 +07:00 [WRN] Entity 'Contract' has a global query filter defined and is the required end of a relationship with the entity 'ContractStudent'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-12-24 16:15:33.083 +07:00 [WRN] Entity 'Contract' has a global query filter defined and is the required end of a relationship with the entity 'ContractStudent'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-12-24 16:15:33.791 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-24 16:15:34.187 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-24 16:15:34.203 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-24 16:15:34.212 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-24 16:15:34.219 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-24 16:15:34.234 +07:00 [INF] Applying migration '20251224091516_AddContractStudentManyToMany'.
2025-12-24 16:15:34.286 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Contracts" DROP CONSTRAINT "FK_Contracts_Students_StudentId";
2025-12-24 16:15:34.293 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Contracts_StudentId";
2025-12-24 16:15:34.300 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Contracts" DROP COLUMN "StudentId";
2025-12-24 16:15:34.342 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ContractStudents" (
    "ContractId" integer NOT NULL,
    "StudentId" integer NOT NULL,
    "JoinedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_ContractStudents" PRIMARY KEY ("ContractId", "StudentId"),
    CONSTRAINT "FK_ContractStudents_Contracts_ContractId" FOREIGN KEY ("ContractId") REFERENCES "Contracts" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ContractStudents_Students_StudentId" FOREIGN KEY ("StudentId") REFERENCES "Students" ("Id") ON DELETE RESTRICT
);
2025-12-24 16:15:34.357 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ContractStudents_StudentId" ON "ContractStudents" ("StudentId");
2025-12-24 16:15:34.365 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251224091516_AddContractStudentManyToMany', '9.0.0');
2025-12-24 16:20:58.543 +07:00 [WRN] Entity 'Contract' has a global query filter defined and is the required end of a relationship with the entity 'ContractStudent'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-12-24 16:20:59.304 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-12-24 16:20:59.763 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Username" = 'admin')
2025-12-24 16:20:59.985 +07:00 [INF] User profile is available. Using 'C:\Users\quang\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-24 16:21:00.120 +07:00 [INF] Now listening on: http://localhost:5263
2025-12-24 16:21:00.126 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-24 16:21:00.128 +07:00 [INF] Hosting environment: Development
2025-12-24 16:21:00.130 +07:00 [INF] Content root path: C:\Users\quang\OneDrive\Desktop\Du_an_lon\QuanLyKiTucXa\Backend\QuanLyKiTucXa.API
2025-12-24 16:21:11.262 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:21:11.263 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:21:11.262 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:21:11.263 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:21:11.351 +07:00 [WRN] Failed to determine the https port for redirect.
2025-12-24 16:21:11.355 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:11.355 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:11.355 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:11.355 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:11.420 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:11.420 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:21:11.420 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:21:11.420 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:21:11.473 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:21:11.473 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:21:11.473 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:21:11.473 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:21:11.793 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:21:11.870 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:21:11.874 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:21:11.942 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:21:11.944 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:21:11.945 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:21:11.952 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:21:11.957 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:21:11.959 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:21:11.959 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:21:11.962 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:21:11.964 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:21:12.065 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:21:12.065 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:21:12.065 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:21:12.074 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:21:12.119 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:12.119 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:12.120 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:12.281 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:12.335 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 849.5936ms
2025-12-24 16:21:12.335 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 850.102ms
2025-12-24 16:21:12.335 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 841.8244ms
2025-12-24 16:21:12.335 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 835.4468ms
2025-12-24 16:21:12.340 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:21:12.340 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:21:12.345 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:21:12.347 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:12.350 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:21:12.352 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:21:12.366 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:12.368 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:12.384 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:21:12.385 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:21:12.387 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 1131.2313ms
2025-12-24 16:21:12.387 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 1131.243ms
2025-12-24 16:21:12.387 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 1131.4025ms
2025-12-24 16:21:12.387 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 1131.2166ms
2025-12-24 16:21:12.387 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:21:12.390 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:21:12.400 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:21:12.413 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:21:12.431 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:12.437 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:12.440 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:21:12.442 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:12.444 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:21:12.447 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:21:12.534 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:21:12.534 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:21:12.534 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:21:12.537 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:21:12.546 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:21:12.547 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:21:12.551 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:21:12.559 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:21:12.561 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:12.566 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:12.572 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:12.576 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:12.578 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 126.1807ms
2025-12-24 16:21:12.581 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 156.4407ms
2025-12-24 16:21:12.584 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 127.2013ms
2025-12-24 16:21:12.587 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 166.5275ms
2025-12-24 16:21:12.591 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:21:12.594 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:21:12.596 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:12.599 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:21:12.602 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 202.3684ms
2025-12-24 16:21:12.605 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 264.2345ms
2025-12-24 16:21:12.608 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 194.7567ms
2025-12-24 16:21:12.610 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 269.8633ms
2025-12-24 16:21:26.574 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:21:26.591 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:26.602 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:26.612 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:21:26.627 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:21:26.646 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:21:26.655 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:26.660 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 41.2536ms
2025-12-24 16:21:26.664 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:21:26.665 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:26.677 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:26.680 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 105.3444ms
2025-12-24 16:21:26.683 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:26.700 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:21:26.717 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:21:26.733 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:21:26.744 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:26.751 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 41.6965ms
2025-12-24 16:21:26.757 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:26.763 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 99.4433ms
2025-12-24 16:21:33.965 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:21:33.982 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 16:21:33.993 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 16:21:34.223 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:34.244 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:34.362 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:34.368 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:21:34.372 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:34.374 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:21:34.380 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:21:34.383 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:21:34.396 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:21:34.399 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:21:34.402 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:21:34.420 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:21:34.420 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:21:34.430 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:34.432 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 16:21:34.445 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 45.9185ms
2025-12-24 16:21:34.440 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:34.448 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 16:21:34.455 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:34.456 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:21:34.460 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 68.7434ms
2025-12-24 16:21:34.464 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:21:34.468 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:34.473 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 490.7476ms
2025-12-24 16:21:34.475 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 16:21:34.479 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:21:34.486 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:34.490 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:34.507 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 541.6686ms
2025-12-24 16:21:34.508 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:21:34.511 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:21:34.526 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:21:34.531 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:21:34.538 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:21:34.546 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:21:34.550 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:34.560 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:21:34.568 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 157.2031ms
2025-12-24 16:21:34.572 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 16:21:34.577 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:34.578 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:21:34.581 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:21:34.591 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:34.594 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 61.535ms
2025-12-24 16:21:34.603 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:34.607 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 613.5534ms
2025-12-24 16:21:34.609 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:21:34.613 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:34.619 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 78.4771ms
2025-12-24 16:21:34.634 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:21:34.639 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 190.0909ms
2025-12-24 16:21:34.643 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:21:34.654 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 16:21:34.664 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 199.4265ms
2025-12-24 16:21:34.678 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:21:34.689 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:34.696 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 46.7905ms
2025-12-24 16:21:34.702 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:21:34.707 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 134.5056ms
2025-12-24 16:21:38.485 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:21:38.485 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 16:21:38.486 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 16:21:38.534 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:38.528 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:38.543 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:38.540 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:21:38.516 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:38.551 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:21:38.561 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:21:38.563 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:21:38.576 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:21:38.584 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 16:21:38.590 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:21:38.599 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:21:38.612 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:21:38.625 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:21:38.630 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:38.641 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:38.659 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 90.5734ms
2025-12-24 16:21:38.665 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:38.663 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 83.1647ms
2025-12-24 16:21:38.664 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 16:21:38.665 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 16:21:38.660 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:21:38.673 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 187.5905ms
2025-12-24 16:21:38.679 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:21:38.685 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:38.693 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:38.704 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:38.717 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 230.7883ms
2025-12-24 16:21:38.720 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:38.723 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:21:38.728 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 110.5186ms
2025-12-24 16:21:38.741 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:21:38.745 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:21:38.748 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:21:38.757 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:21:38.766 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:38.777 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:21:38.784 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 16:21:38.787 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 301.6927ms
2025-12-24 16:21:38.790 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:21:38.827 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:21:38.814 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:21:38.850 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:38.839 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:21:38.803 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:21:38.856 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 75.6292ms
2025-12-24 16:21:38.867 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:21:38.875 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:38.878 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:21:38.890 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:38.901 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 66.9633ms
2025-12-24 16:21:38.897 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 232.6633ms
2025-12-24 16:21:38.895 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 123.5378ms
2025-12-24 16:21:38.907 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:21:38.922 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:38.927 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 186.0897ms
2025-12-24 16:21:38.930 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 266.0729ms
2025-12-24 16:21:40.340 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:21:40.361 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:40.367 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:40.376 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:21:40.395 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:21:40.410 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:21:40.419 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:40.427 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 39.9414ms
2025-12-24 16:21:40.430 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:21:40.432 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:40.443 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:21:40.446 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 105.8556ms
2025-12-24 16:21:40.448 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:40.466 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:21:40.479 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:21:40.487 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:21:40.498 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:21:40.504 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 28.4987ms
2025-12-24 16:21:40.512 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:21:40.517 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 87.4058ms
2025-12-24 16:22:13.498 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/students - null null
2025-12-24 16:22:13.507 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:22:13.514 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/students - 204 null null 16.3681ms
2025-12-24 16:22:13.535 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/students - application/json 113
2025-12-24 16:22:13.546 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:22:13.551 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.PostStudent (QuanLyKiTucXa.API)'
2025-12-24 16:22:13.573 +07:00 [INF] Route matched with {action = "PostStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] PostStudent(QuanLyKiTucXa.API.DTOs.CreateStudentDto) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:22:13.710 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__createStudentDto_StudentCode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted") AND s."StudentCode" = @__createStudentDto_StudentCode_0)
2025-12-24 16:22:13.733 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__createStudentDto_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Students" AS s
    WHERE NOT (s."IsDeleted") AND s."Email" = @__createStudentDto_Email_0)
2025-12-24 16:22:14.072 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?' (DbType = Boolean), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Students" ("Address", "CreatedAt", "DateOfBirth", "DeletedAt", "Email", "FullName", "Guardian", "GuardianPhone", "IdCardNumber", "IsDeleted", "PhoneNumber", "ProfileImage", "Status", "StudentCode", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14)
RETURNING "Id";
2025-12-24 16:22:14.185 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:22:14.257 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.PostStudent (QuanLyKiTucXa.API) in 674.3826ms
2025-12-24 16:22:14.261 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.PostStudent (QuanLyKiTucXa.API)'
2025-12-24 16:22:14.266 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/students - 201 null application/json; charset=utf-8 731.2583ms
2025-12-24 16:22:14.281 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:22:14.294 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:22:14.297 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:22:14.307 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:22:14.318 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:22:14.331 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:22:14.343 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:22:14.350 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 35.9528ms
2025-12-24 16:22:14.357 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:22:14.360 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 79.0316ms
2025-12-24 16:22:17.217 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:22:17.220 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 16:22:17.220 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 16:22:17.231 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:22:17.248 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:22:17.264 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:22:17.269 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:22:17.273 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:22:17.280 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:22:17.288 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:22:17.294 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:22:17.301 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:22:17.316 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:22:17.326 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:22:17.336 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 16:22:17.352 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:22:17.359 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:22:17.376 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:22:17.383 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:22:17.395 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:22:17.404 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:22:17.410 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 98.2399ms
2025-12-24 16:22:17.414 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:22:17.416 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 93.9097ms
2025-12-24 16:22:17.422 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 89.2094ms
2025-12-24 16:22:17.422 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 16:22:17.427 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:22:17.428 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 16:22:17.433 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:22:17.437 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:22:17.443 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:22:17.450 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:22:17.456 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 239.2852ms
2025-12-24 16:22:17.465 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:22:17.468 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:22:17.471 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 251.1301ms
2025-12-24 16:22:17.476 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 255.5053ms
2025-12-24 16:22:17.478 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:22:17.492 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:22:17.496 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:22:17.522 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:22:17.525 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:22:17.537 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:22:17.545 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:22:17.556 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 16:22:17.564 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:22:17.569 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:22:17.580 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:22:17.586 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:22:17.596 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:22:17.605 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:22:17.612 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 79.5133ms
2025-12-24 16:22:17.617 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 77.0397ms
2025-12-24 16:22:17.623 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 73.6441ms
2025-12-24 16:22:17.628 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:22:17.633 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:22:17.638 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:22:17.643 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 228.4721ms
2025-12-24 16:22:17.646 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 224.0398ms
2025-12-24 16:22:17.648 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 220.3491ms
2025-12-24 16:28:53.995 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:28:53.996 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:28:53.997 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:28:53.998 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:28:54.051 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:28:54.066 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:28:54.080 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:28:54.096 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:28:54.101 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.105 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.111 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.114 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.120 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:28:54.125 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:28:54.131 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:28:54.137 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:28:54.320 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:28:54.321 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:28:54.327 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:28:54.328 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:28:54.331 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:28:54.334 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:28:54.350 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:28:54.354 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:28:54.358 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:28:54.366 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:28:54.378 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:28:54.386 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:28:54.391 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 239.0291ms
2025-12-24 16:28:54.397 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:28:54.399 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 252.1855ms
2025-12-24 16:28:54.403 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:28:54.404 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 232.432ms
2025-12-24 16:28:54.411 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 246.2385ms
2025-12-24 16:28:54.418 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.431 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:28:54.434 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.445 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:28:54.450 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.454 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.460 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 462.8018ms
2025-12-24 16:28:54.464 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.467 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 471.4906ms
2025-12-24 16:28:54.470 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.479 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 480.9518ms
2025-12-24 16:28:54.483 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 486.2929ms
2025-12-24 16:28:54.497 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:28:54.501 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:28:54.514 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:28:54.520 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:28:54.563 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:28:54.572 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:28:54.579 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:28:54.588 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.589 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:28:54.599 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.603 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:28:54.603 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:28:54.616 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:28:54.619 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:28:54.625 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:28:54.645 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:28:54.660 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:28:54.670 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:28:54.680 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 111.1154ms
2025-12-24 16:28:54.697 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:28:54.705 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:28:54.707 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 122.3733ms
2025-12-24 16:28:54.714 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.725 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:28:54.733 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:28:54.738 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.743 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 345.3733ms
2025-12-24 16:28:54.748 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 115.6521ms
2025-12-24 16:28:54.752 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 100.0516ms
2025-12-24 16:28:54.757 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 354.0824ms
2025-12-24 16:28:54.770 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.777 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:28:54.793 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 295.6458ms
2025-12-24 16:28:54.798 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 283.4368ms
2025-12-24 16:29:12.225 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:29:12.228 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:29:12.228 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:29:12.229 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:29:12.245 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:12.254 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:12.267 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:12.277 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:12.281 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.285 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.288 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.291 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.295 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:29:12.299 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:29:12.302 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:29:12.307 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:29:12.324 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:29:12.341 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:29:12.351 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:29:12.360 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:29:12.365 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:29:12.382 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:29:12.387 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:29:12.402 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:12.403 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:29:12.410 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:12.417 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:12.426 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 111.324ms
2025-12-24 16:29:12.430 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:29:12.441 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:12.448 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 115.0186ms
2025-12-24 16:29:12.452 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:29:12.456 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 111.7328ms
2025-12-24 16:29:12.464 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.475 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:12.478 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 127.5294ms
2025-12-24 16:29:12.481 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.491 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:12.495 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.498 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 272.4663ms
2025-12-24 16:29:12.502 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.508 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.512 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 284.7014ms
2025-12-24 16:29:12.517 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.521 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 292.2983ms
2025-12-24 16:29:12.534 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:29:12.540 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:29:12.547 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 318.0868ms
2025-12-24 16:29:12.560 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:29:12.565 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:29:12.589 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:12.601 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:29:12.619 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:12.631 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.631 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:29:12.642 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:29:12.643 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.647 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:29:12.661 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:29:12.668 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:12.676 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:29:12.690 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:29:12.696 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:12.700 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 102.6544ms
2025-12-24 16:29:12.718 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:29:12.720 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:29:12.722 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 94.6384ms
2025-12-24 16:29:12.728 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.741 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:29:12.745 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:12.750 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.754 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 323.9056ms
2025-12-24 16:29:12.766 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:12.770 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 88.8228ms
2025-12-24 16:29:12.774 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 322.1037ms
2025-12-24 16:29:12.792 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 83.2665ms
2025-12-24 16:29:12.799 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.815 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:29:12.820 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 286.2933ms
2025-12-24 16:29:12.824 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 264.5047ms
2025-12-24 16:29:48.529 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:29:48.542 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:48.545 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:48.554 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:29:48.567 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:29:48.582 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:29:48.596 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:48.605 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 42.5879ms
2025-12-24 16:29:48.610 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:29:48.612 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:48.629 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:48.636 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 107.1354ms
2025-12-24 16:29:48.639 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:48.657 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:29:48.670 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:29:48.682 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:29:48.697 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:48.701 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 33.6396ms
2025-12-24 16:29:48.706 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:48.712 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 101.7117ms
2025-12-24 16:29:50.013 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:29:50.029 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:50.035 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:50.043 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:29:50.061 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:29:50.077 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:29:50.092 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:50.102 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 44.4149ms
2025-12-24 16:29:50.105 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:29:50.111 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:50.127 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:50.132 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 118.9119ms
2025-12-24 16:29:50.136 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:50.166 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:29:50.183 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:29:50.200 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:29:50.215 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:50.224 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 44.0896ms
2025-12-24 16:29:50.234 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:50.241 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 136.0158ms
2025-12-24 16:29:52.280 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:29:52.280 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 16:29:52.283 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 16:29:52.291 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:52.302 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:52.319 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:52.326 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:29:52.329 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:52.332 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:29:52.338 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:29:52.343 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:29:52.347 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:29:52.359 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:29:52.366 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:29:52.379 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 16:29:52.380 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:29:52.387 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:29:52.396 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:29:52.403 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:52.432 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 76.7861ms
2025-12-24 16:29:52.426 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:52.413 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:52.439 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:29:52.440 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:29:52.445 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 75.1778ms
2025-12-24 16:29:52.449 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 86.6792ms
2025-12-24 16:29:52.450 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 16:29:52.453 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 172.9326ms
2025-12-24 16:29:52.455 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 16:29:52.463 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:52.466 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:29:52.472 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:52.480 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:52.501 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:29:52.503 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:29:52.524 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:29:52.513 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 232.6234ms
2025-12-24 16:29:52.515 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:29:52.519 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:52.508 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 224.552ms
2025-12-24 16:29:52.534 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:29:52.549 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:29:52.552 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:29:52.581 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:29:52.588 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 16:29:52.595 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:29:52.604 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:52.616 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:29:52.624 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:29:52.627 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 95.8477ms
2025-12-24 16:29:52.636 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:52.645 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:29:52.651 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:29:52.656 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 72.6384ms
2025-12-24 16:29:52.662 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 70.4246ms
2025-12-24 16:29:52.667 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 226.8866ms
2025-12-24 16:29:52.673 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:29:52.677 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:29:52.691 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 241.8781ms
2025-12-24 16:29:52.696 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 241.0555ms
2025-12-24 16:40:38.529 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:40:38.529 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:40:38.529 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:40:38.529 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:40:38.578 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:40:38.579 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:40:38.579 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:40:38.579 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:40:38.594 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.594 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.594 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.594 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.609 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:40:38.608 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:40:38.608 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:40:38.608 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:40:38.820 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:40:38.820 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:40:38.820 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:40:38.849 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:40:38.849 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:40:38.852 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:40:38.854 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:40:38.856 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:40:38.856 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:40:38.857 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:40:38.863 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:40:38.868 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 256.0155ms
2025-12-24 16:40:38.870 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.868 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 250.6493ms
2025-12-24 16:40:38.870 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:40:38.868 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 246.8155ms
2025-12-24 16:40:38.871 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:40:38.873 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 345.6926ms
2025-12-24 16:40:38.873 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.876 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:40:38.877 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.883 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:40:38.886 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:40:38.886 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:40:38.888 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 361.0971ms
2025-12-24 16:40:38.889 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.890 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 363.5381ms
2025-12-24 16:40:38.891 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.894 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 271.3833ms
2025-12-24 16:40:38.897 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:40:38.902 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:40:38.907 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:40:38.908 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:40:38.910 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.912 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.919 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:40:38.920 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:40:38.922 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 394.7369ms
2025-12-24 16:40:38.923 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:40:38.924 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.925 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:40:38.930 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:40:38.933 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:40:38.936 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:40:38.939 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:40:38.943 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:40:38.944 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:40:38.945 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 29.6145ms
2025-12-24 16:40:38.946 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:40:38.948 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:40:38.950 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:40:38.951 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.954 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:40:38.955 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 34.5935ms
2025-12-24 16:40:38.958 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:40:38.959 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 88.0643ms
2025-12-24 16:40:38.961 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 29.1935ms
2025-12-24 16:40:38.962 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.964 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 22.8538ms
2025-12-24 16:40:38.968 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.969 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 98.3478ms
2025-12-24 16:40:38.970 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:40:38.971 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 85.1394ms
2025-12-24 16:40:38.976 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 69.0151ms
2025-12-24 16:40:40.094 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:40:40.100 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:40:40.103 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:40:40.105 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:40:40.120 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:40:40.128 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:40:40.136 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:40:40.139 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 29.6276ms
2025-12-24 16:40:40.140 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:40:40.142 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:40:40.145 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:40:40.149 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 55.3589ms
2025-12-24 16:40:40.150 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:40:40.155 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:40:40.160 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:40:40.166 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:40:40.170 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:40:40.173 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 15.5757ms
2025-12-24 16:40:40.175 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:40:40.177 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 36.0601ms
2025-12-24 16:41:56.326 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:41:56.338 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:41:56.341 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:41:56.345 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:41:56.370 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:41:56.388 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:41:56.396 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:41:56.403 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 53.0673ms
2025-12-24 16:41:56.407 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:41:56.408 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 81.9942ms
2025-12-24 16:41:56.410 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:41:56.423 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:41:56.426 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:41:56.430 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:41:56.454 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:41:56.470 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:41:56.482 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:41:56.486 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 50.9528ms
2025-12-24 16:41:56.488 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:41:56.489 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 79.4475ms
2025-12-24 16:42:07.559 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:42:07.568 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:42:07.574 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:42:07.578 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:42:07.587 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:42:07.599 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:42:07.609 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:42:07.651 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 67.0109ms
2025-12-24 16:42:07.653 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:42:07.654 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:42:07.655 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 96.4438ms
2025-12-24 16:42:07.659 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:42:07.665 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:42:07.666 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:42:07.671 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:42:07.676 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:42:07.679 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:42:07.681 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 12.4987ms
2025-12-24 16:42:07.683 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:42:07.685 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 31.1264ms
2025-12-24 16:42:09.112 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:42:09.117 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:42:09.118 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:42:09.122 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:42:09.130 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:42:09.138 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:42:09.143 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:42:09.146 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 19.6586ms
2025-12-24 16:42:09.148 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:42:09.149 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:42:09.152 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:42:09.154 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 41.6373ms
2025-12-24 16:42:09.155 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:42:09.162 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:42:09.167 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:42:09.171 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:42:09.175 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:42:09.177 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 11.6488ms
2025-12-24 16:42:09.179 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:42:09.180 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 32.5616ms
2025-12-24 16:43:02.847 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:43:02.858 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:43:02.862 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:43:02.865 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:43:02.877 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:43:02.889 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:43:02.897 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:43:02.904 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 30.1859ms
2025-12-24 16:43:02.908 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:43:02.910 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:43:02.918 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:43:02.920 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 73.0602ms
2025-12-24 16:43:02.922 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:43:02.930 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:43:02.934 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:43:02.940 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:43:02.948 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:43:02.950 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 17.9301ms
2025-12-24 16:43:02.952 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:43:02.954 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 45.3987ms
2025-12-24 16:48:11.092 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:48:11.106 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:48:11.109 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:48:11.112 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:48:11.377 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:48:11.395 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:48:11.401 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:48:11.406 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 290.9053ms
2025-12-24 16:48:11.408 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:48:11.409 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 318.0692ms
2025-12-24 16:48:13.835 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:48:13.840 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:48:13.842 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:48:13.843 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:48:13.848 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:48:13.851 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:48:13.854 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:48:13.856 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 10.6573ms
2025-12-24 16:48:13.858 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:48:13.860 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 24.3516ms
2025-12-24 16:49:34.926 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:49:34.937 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:49:34.942 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:49:34.946 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:49:35.012 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:49:35.028 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:49:35.035 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:49:35.039 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 90.0055ms
2025-12-24 16:49:35.042 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:49:35.045 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 119.3682ms
2025-12-24 16:49:45.855 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:49:45.865 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:49:45.867 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:49:45.890 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:49:45.897 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:49:45.907 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:49:45.919 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:49:45.921 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 28.9377ms
2025-12-24 16:49:45.923 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:49:45.925 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 69.8859ms
2025-12-24 16:50:07.838 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:50:07.840 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:50:07.841 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:50:07.844 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:50:07.850 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:50:07.854 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:50:07.856 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:50:07.857 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 9.2746ms
2025-12-24 16:50:07.859 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:50:07.860 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 21.527ms
2025-12-24 16:50:13.239 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:50:13.244 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:50:13.247 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:50:13.250 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:50:13.258 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:50:13.269 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:50:13.273 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:50:13.276 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 20.9081ms
2025-12-24 16:50:13.281 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:50:13.286 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 46.3962ms
2025-12-24 16:50:13.285 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:50:13.297 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:50:13.302 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:50:13.304 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:50:13.310 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:50:13.318 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:50:13.322 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:50:13.324 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 17.5558ms
2025-12-24 16:50:13.325 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:50:13.328 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 42.1392ms
2025-12-24 16:50:45.055 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:50:45.063 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:50:45.064 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:50:45.066 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:50:45.073 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:50:45.083 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:50:45.086 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:50:45.087 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 19.0212ms
2025-12-24 16:50:45.088 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:50:45.089 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:50:45.095 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:50:45.097 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 42.3156ms
2025-12-24 16:50:45.099 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:50:45.103 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:50:45.116 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:50:45.122 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:50:45.133 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:50:45.138 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 32.0675ms
2025-12-24 16:50:45.141 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:50:45.144 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 56.0002ms
2025-12-24 16:51:44.965 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:51:44.965 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:51:45.031 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:51:45.036 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:51:45.044 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:51:45.049 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:51:45.061 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:51:45.088 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:51:45.124 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:51:45.148 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:51:45.168 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:51:45.181 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 77.9056ms
2025-12-24 16:51:45.186 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:51:45.189 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:51:45.201 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:51:45.214 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 250.9022ms
2025-12-24 16:51:45.217 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:51:45.228 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:51:45.236 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:51:45.245 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:51:45.251 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:51:45.253 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 19.1942ms
2025-12-24 16:51:45.255 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:51:45.258 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 71.6199ms
2025-12-24 16:51:45.313 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:51:45.327 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:51:45.330 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:51:45.333 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 200.9172ms
2025-12-24 16:51:45.334 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:51:45.335 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:51:45.337 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:51:45.339 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 375.2877ms
2025-12-24 16:51:45.341 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:51:45.347 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:51:45.350 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:51:45.355 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:51:45.360 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:51:45.362 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 13.6015ms
2025-12-24 16:51:45.364 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:51:45.366 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 31.0121ms
2025-12-24 16:51:57.866 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:51:57.876 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:51:57.881 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:51:57.914 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:51:57.916 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:51:57.920 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:51:57.924 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:51:57.928 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:51:57.941 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:51:57.946 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:51:57.953 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:51:57.953 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:51:57.963 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:51:57.967 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:51:57.969 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 37.8133ms
2025-12-24 16:51:57.971 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 35.0221ms
2025-12-24 16:51:57.987 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:51:57.997 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:51:58.001 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 134.6911ms
2025-12-24 16:51:58.003 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 126.9124ms
2025-12-24 16:52:04.825 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:04.826 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:04.831 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:04.834 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:04.836 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:04.837 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:04.838 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:52:04.841 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:52:04.845 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:52:04.847 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:52:04.849 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:52:04.852 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:52:04.854 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:04.858 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:04.860 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 16.7999ms
2025-12-24 16:52:04.862 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 16.9493ms
2025-12-24 16:52:04.868 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:04.869 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:04.870 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 44.437ms
2025-12-24 16:52:04.872 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 46.4188ms
2025-12-24 16:52:05.830 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:05.830 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:05.834 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:05.838 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:05.840 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:05.841 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:05.842 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:52:05.842 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:52:05.846 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:52:05.847 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:52:05.849 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:52:05.850 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:52:05.851 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:05.852 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:05.853 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 8.7325ms
2025-12-24 16:52:05.854 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 8.0114ms
2025-12-24 16:52:05.855 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:05.857 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:05.858 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 27.5549ms
2025-12-24 16:52:05.858 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 28.2311ms
2025-12-24 16:52:06.826 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:06.827 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:06.831 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:06.833 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:06.834 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:06.835 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:06.836 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:52:06.837 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:52:06.842 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:52:06.843 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:52:06.845 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:52:06.847 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:52:06.848 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:06.849 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:06.850 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 12.1866ms
2025-12-24 16:52:06.851 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 9.9526ms
2025-12-24 16:52:06.852 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:06.853 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:06.854 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 27.8379ms
2025-12-24 16:52:06.856 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 29.3136ms
2025-12-24 16:52:14.819 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:14.819 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:14.824 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:14.827 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:14.828 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:14.829 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:14.830 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:52:14.831 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:52:14.835 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:52:14.837 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:52:14.838 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:52:14.841 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:52:14.843 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:14.845 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:14.846 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 13.9473ms
2025-12-24 16:52:14.847 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 11.9733ms
2025-12-24 16:52:14.848 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:14.849 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:14.850 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 30.4391ms
2025-12-24 16:52:14.851 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 31.4321ms
2025-12-24 16:52:21.843 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:21.844 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:21.846 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:21.849 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:21.850 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:21.850 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:21.851 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:52:21.852 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:52:21.857 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:52:21.859 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:52:21.862 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:52:21.864 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:52:21.865 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:21.867 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:21.869 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 14.6943ms
2025-12-24 16:52:21.870 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 12.9545ms
2025-12-24 16:52:21.871 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:21.874 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:21.876 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 33.395ms
2025-12-24 16:52:21.877 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 32.9353ms
2025-12-24 16:52:24.819 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:24.819 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:24.830 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:24.840 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:24.842 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:24.844 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:24.846 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:52:24.848 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:52:24.856 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:52:24.859 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:52:24.862 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:52:24.865 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:52:24.866 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:24.869 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:24.870 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 17.8982ms
2025-12-24 16:52:24.872 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 15.7793ms
2025-12-24 16:52:24.874 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:24.876 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:24.877 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 58.5322ms
2025-12-24 16:52:24.878 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 59.5157ms
2025-12-24 16:52:31.299 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:31.300 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:31.307 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:31.314 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:31.316 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:31.318 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:31.320 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:52:31.322 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:52:31.333 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:52:31.342 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:52:31.348 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:52:31.352 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:52:31.358 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:31.364 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:31.368 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 39.3879ms
2025-12-24 16:52:31.370 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 45.2396ms
2025-12-24 16:52:31.372 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:31.373 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:31.376 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:31.379 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:31.382 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:31.385 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 84.7739ms
2025-12-24 16:52:31.387 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 87.8965ms
2025-12-24 16:52:31.392 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:31.393 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:31.406 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:31.408 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:52:31.410 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:52:31.416 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:52:31.418 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:52:31.422 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:52:31.430 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:52:31.431 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:31.434 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:31.436 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 23.0141ms
2025-12-24 16:52:31.437 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 20.3993ms
2025-12-24 16:52:31.440 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:31.442 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:31.444 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 72.7477ms
2025-12-24 16:52:31.446 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 67.2606ms
2025-12-24 16:52:37.785 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:37.785 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:37.790 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:37.802 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:37.811 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:37.817 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:37.818 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:52:37.820 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:52:37.853 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:52:37.867 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:52:37.879 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:52:37.887 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:52:37.890 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:37.902 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:37.908 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 68.1737ms
2025-12-24 16:52:37.913 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 60.4522ms
2025-12-24 16:52:37.918 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:37.922 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:37.927 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:37.933 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:52:37.934 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 149.2375ms
2025-12-24 16:52:37.938 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:37.940 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 155.3815ms
2025-12-24 16:52:37.949 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:52:37.959 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:37.979 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:37.983 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:52:37.984 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:52:37.990 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:52:37.999 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:52:38.000 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:52:38.003 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:52:38.011 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:38.018 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:52:38.022 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 36.7025ms
2025-12-24 16:52:38.033 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 43.3365ms
2025-12-24 16:52:38.036 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:52:38.039 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:52:38.042 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 120.5318ms
2025-12-24 16:52:38.044 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 111.0816ms
2025-12-24 16:53:06.872 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:53:06.874 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:53:06.880 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:53:06.885 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:53:06.891 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:53:06.894 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:53:06.897 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:53:06.899 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:53:06.909 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:53:06.909 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:53:06.912 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:53:06.915 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:53:06.917 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:53:06.919 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:53:06.922 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 19.7814ms
2025-12-24 16:53:06.924 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 15.8964ms
2025-12-24 16:53:06.926 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:53:06.927 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:53:06.929 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 56.6053ms
2025-12-24 16:53:06.931 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 56.6208ms
2025-12-24 16:53:48.834 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:53:48.835 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:53:48.839 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:53:48.842 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:53:48.843 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:53:48.844 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:53:48.845 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:53:48.846 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:53:48.849 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:53:48.855 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:53:48.858 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:53:48.859 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 11.6567ms
2025-12-24 16:53:48.861 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:53:48.863 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 28.7196ms
2025-12-24 16:53:48.936 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:53:48.940 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:53:48.943 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:53:48.944 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 95.3398ms
2025-12-24 16:53:48.945 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:53:48.946 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 110.9037ms
2025-12-24 16:53:53.450 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:53:53.450 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:53:53.456 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:53:53.461 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:53:53.462 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:53:53.464 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:53:53.468 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:53:53.470 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:53:53.484 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:53:53.484 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:53:53.498 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:53:53.501 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:53:53.503 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:53:53.507 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:53:53.510 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 30.6525ms
2025-12-24 16:53:53.513 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 37.5435ms
2025-12-24 16:53:53.515 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:53:53.515 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:53:53.516 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:53:53.517 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:53:53.524 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:53:53.526 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 75.2783ms
2025-12-24 16:53:53.531 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:53:53.532 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 81.6817ms
2025-12-24 16:53:53.533 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:53:53.542 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:53:53.549 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:53:53.552 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:53:53.562 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:53:53.569 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:53:53.576 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:53:53.582 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:53:53.586 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:53:53.594 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:53:53.602 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 43.7714ms
2025-12-24 16:53:53.608 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 42.0824ms
2025-12-24 16:53:53.611 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:53:53.618 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:53:53.620 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 105.4141ms
2025-12-24 16:53:53.623 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 107.152ms
2025-12-24 16:54:16.591 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:54:16.592 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:54:16.595 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:54:16.599 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:54:16.601 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:54:16.602 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:54:16.604 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:54:16.606 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:54:16.616 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:54:16.620 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:54:16.623 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:54:16.625 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:54:16.627 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:54:16.628 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:54:16.630 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 21.6028ms
2025-12-24 16:54:16.631 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 18.3457ms
2025-12-24 16:54:16.632 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:54:16.633 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:54:16.633 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:54:16.636 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:54:16.643 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:54:16.644 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 53.3071ms
2025-12-24 16:54:16.648 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:54:16.649 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 57.3485ms
2025-12-24 16:54:16.652 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:54:16.663 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:54:16.675 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:54:16.678 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:54:16.682 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:54:16.690 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:54:16.695 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:54:16.698 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:54:16.699 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:54:16.707 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:54:16.711 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 29.9421ms
2025-12-24 16:54:16.713 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 29.968ms
2025-12-24 16:54:16.714 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:54:16.715 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:54:16.718 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 86.2749ms
2025-12-24 16:54:16.720 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 87.0501ms
2025-12-24 16:55:46.033 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:55:46.033 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:55:46.056 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:55:46.058 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:55:46.063 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:55:46.063 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:55:46.072 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:55:46.072 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:55:46.188 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:55:46.188 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:55:46.208 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:55:46.208 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:55:46.215 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:55:46.218 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:55:46.227 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 137.8892ms
2025-12-24 16:55:46.227 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 147.0491ms
2025-12-24 16:55:46.230 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:55:46.236 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:55:46.234 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:55:46.232 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:55:46.237 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 207.2948ms
2025-12-24 16:55:46.240 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:55:46.242 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 212.2682ms
2025-12-24 16:55:46.248 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:55:46.256 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:55:46.262 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:55:46.263 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:55:46.266 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:55:46.272 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:55:46.276 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:55:46.279 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:55:46.289 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:55:46.289 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:55:46.296 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:55:46.303 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 34.309ms
2025-12-24 16:55:46.307 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 35.3845ms
2025-12-24 16:55:46.308 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:55:46.310 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:55:46.312 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 75.913ms
2025-12-24 16:55:46.316 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 83.0924ms
2025-12-24 16:56:17.171 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - null null
2025-12-24 16:56:17.181 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:17.267 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - 204 null null 95.2437ms
2025-12-24 16:56:17.281 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 50
2025-12-24 16:56:17.308 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:17.562 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager)
2025-12-24 16:56:17.616 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:56:17.623 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 401 0 null 342.1359ms
2025-12-24 16:56:18.228 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:56:18.235 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:56:18.235 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:56:18.235 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:56:18.238 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:18.253 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:18.259 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:18.264 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:18.264 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.266 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.267 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.269 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.270 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:56:18.271 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:56:18.273 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:56:18.275 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:56:18.296 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:56:18.298 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:56:18.322 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:56:18.334 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:56:18.344 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:18.352 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:18.364 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 78.3473ms
2025-12-24 16:56:18.382 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:56:18.384 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 95.3963ms
2025-12-24 16:56:18.388 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.399 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:56:18.435 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:18.441 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.443 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 214.6435ms
2025-12-24 16:56:18.457 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:18.459 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.461 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 225.6351ms
2025-12-24 16:56:18.483 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.485 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:56:18.491 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:56:18.501 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:56:18.503 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:56:18.510 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:56:18.511 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:56:18.522 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:18.525 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:18.528 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 34.4505ms
2025-12-24 16:56:18.532 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 31.9264ms
2025-12-24 16:56:18.542 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.544 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.545 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 162.908ms
2025-12-24 16:56:18.547 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 148.2872ms
2025-12-24 16:56:18.571 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:56:18.572 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:56:18.587 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:56:18.594 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:56:18.597 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:18.598 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:18.602 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 298.0106ms
2025-12-24 16:56:18.602 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 300.9607ms
2025-12-24 16:56:18.603 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:56:18.603 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:56:18.603 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.605 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.608 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:18.610 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:18.611 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 376.1326ms
2025-12-24 16:56:18.613 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 377.6194ms
2025-12-24 16:56:18.614 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.616 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.625 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:56:18.626 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:56:18.634 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:56:18.639 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:56:18.649 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:56:18.655 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:56:18.655 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:18.659 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:18.661 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 30.3295ms
2025-12-24 16:56:18.663 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 34.8872ms
2025-12-24 16:56:18.665 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.666 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:56:18.668 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 64.6041ms
2025-12-24 16:56:18.669 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 65.9783ms
2025-12-24 16:56:29.455 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:56:29.455 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:56:29.458 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:29.471 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:29.475 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:29.476 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:56:29.480 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:56:29.482 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:56:29.492 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:56:29.493 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:56:29.496 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:56:29.501 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:29.501 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:56:29.502 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 16.5463ms
2025-12-24 16:56:29.504 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:56:29.504 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:29.506 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:29.509 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:29.511 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 21.7327ms
2025-12-24 16:56:29.512 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 57.7949ms
2025-12-24 16:56:29.513 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:56:29.514 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:29.516 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:56:29.521 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:29.523 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:56:29.524 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 69.4435ms
2025-12-24 16:56:29.526 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:56:29.530 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:56:29.533 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:56:29.539 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:56:29.541 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:56:29.543 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:56:29.544 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:29.547 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:29.549 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 21.2647ms
2025-12-24 16:56:29.551 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 14.7157ms
2025-12-24 16:56:29.553 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:29.556 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:56:29.558 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 54.0747ms
2025-12-24 16:56:29.560 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 47.1482ms
2025-12-24 16:56:43.784 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - null null
2025-12-24 16:56:43.792 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:43.795 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - 204 null null 10.3584ms
2025-12-24 16:56:43.806 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 54
2025-12-24 16:56:43.812 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:43.823 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager)
2025-12-24 16:56:43.828 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 16:56:43.834 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 401 0 null 27.9408ms
2025-12-24 16:56:44.081 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:56:44.081 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:56:44.083 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:56:44.083 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:56:44.086 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:44.091 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:44.098 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:44.103 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:44.105 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.106 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.108 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.110 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.113 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:56:44.118 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:56:44.120 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:56:44.122 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:56:44.130 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:56:44.158 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:56:44.165 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:56:44.174 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:56:44.180 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:56:44.189 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:56:44.205 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:56:44.206 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:56:44.209 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:44.217 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:44.225 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:44.229 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:44.232 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 105.228ms
2025-12-24 16:56:44.234 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 103.9041ms
2025-12-24 16:56:44.235 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:56:44.238 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 69.9397ms
2025-12-24 16:56:44.239 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:56:44.242 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 80.0172ms
2025-12-24 16:56:44.245 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.247 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.251 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:44.253 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.260 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:44.263 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.265 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 184.0518ms
2025-12-24 16:56:44.266 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 185.2403ms
2025-12-24 16:56:44.267 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.269 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 185.5816ms
2025-12-24 16:56:44.270 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.277 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 193.0646ms
2025-12-24 16:56:44.282 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:56:44.288 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:56:44.291 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:56:44.298 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:56:44.310 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:44.387 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:44.423 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:56:44.429 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.431 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:56:44.431 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.434 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:56:44.435 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:56:44.440 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:56:44.440 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:56:44.446 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:44.452 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:56:44.458 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:44.472 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:56:44.472 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 51.5036ms
2025-12-24 16:56:44.477 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:56:44.477 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 49.0238ms
2025-12-24 16:56:44.481 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.481 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:56:44.483 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:44.484 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.486 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 251.1466ms
2025-12-24 16:56:44.490 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:44.491 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 43.8712ms
2025-12-24 16:56:44.492 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 253.2113ms
2025-12-24 16:56:44.498 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 28.703ms
2025-12-24 16:56:44.500 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.507 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:56:44.509 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 227.4406ms
2025-12-24 16:56:44.511 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 223.4253ms
2025-12-24 16:56:45.306 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:56:45.307 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 16:56:45.308 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 16:56:45.311 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:45.314 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:45.323 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:56:45.325 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:56:45.325 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:45.327 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:56:45.330 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:56:45.336 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:45.343 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:56:45.351 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:56:45.352 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:56:45.362 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:56:45.365 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:56:45.377 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 16:56:45.374 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:45.378 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:45.383 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 42.4741ms
2025-12-24 16:56:45.385 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 41.2065ms
2025-12-24 16:56:45.386 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:56:45.386 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:56:45.387 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:56:45.388 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 16:56:45.389 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:56:45.396 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:45.399 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:45.401 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 94.0751ms
2025-12-24 16:56:45.405 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:45.407 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 99.2472ms
2025-12-24 16:56:45.410 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 42.0208ms
2025-12-24 16:56:45.412 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:56:45.417 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:56:45.422 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 16:56:45.426 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:45.428 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:56:45.430 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:56:45.433 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:56:45.434 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 126.8698ms
2025-12-24 16:56:45.442 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:56:45.443 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:45.443 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:56:45.451 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:56:45.454 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:56:45.455 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:56:45.459 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 16:56:45.460 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:45.464 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:45.468 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 30.6112ms
2025-12-24 16:56:45.469 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:56:45.471 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 29.688ms
2025-12-24 16:56:45.473 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:56:45.475 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:56:45.477 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:56:45.479 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 92.5344ms
2025-12-24 16:56:45.481 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 24.432ms
2025-12-24 16:56:45.482 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 94.3742ms
2025-12-24 16:56:45.488 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 16:56:45.492 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 70.28ms
2025-12-24 16:57:15.422 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:57:15.427 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:15.427 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:57:15.430 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:57:15.437 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:15.439 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:57:15.441 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:57:15.450 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:57:15.452 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:57:15.459 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:57:15.465 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:57:15.465 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:15.470 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 25.8155ms
2025-12-24 16:57:15.471 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:57:15.473 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:57:15.474 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 16:57:15.477 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:15.479 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 56.8579ms
2025-12-24 16:57:15.483 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:15.486 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 26.7157ms
2025-12-24 16:57:15.491 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 16:57:15.492 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:57:15.494 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:57:15.498 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:15.499 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:57:15.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 73.3773ms
2025-12-24 16:57:15.502 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:57:15.505 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:57:15.509 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:57:15.514 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:57:15.517 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:57:15.518 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:15.522 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:57:15.522 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 18.0057ms
2025-12-24 16:57:15.524 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:15.526 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:57:15.527 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 12.9098ms
2025-12-24 16:57:15.529 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 54.8725ms
2025-12-24 16:57:15.530 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:57:15.536 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 45.4063ms
2025-12-24 16:57:15.981 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:57:15.986 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:15.988 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:57:15.990 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:57:15.996 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:57:16.002 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:57:16.007 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:16.010 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 16.8835ms
2025-12-24 16:57:16.013 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:57:16.015 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.020 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:16.022 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 40.5195ms
2025-12-24 16:57:16.022 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.028 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:57:16.034 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:57:16.038 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:57:16.041 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:16.044 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 11.9098ms
2025-12-24 16:57:16.049 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.051 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 37.8569ms
2025-12-24 16:57:16.708 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:57:16.708 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:57:16.710 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:57:16.710 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:57:16.717 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:16.722 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:16.725 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:16.733 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:16.735 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.736 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.738 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.738 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.740 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:57:16.742 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:57:16.744 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:57:16.747 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:57:16.752 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:57:16.756 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:57:16.762 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:57:16.766 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:57:16.770 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:57:16.774 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:57:16.778 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:57:16.784 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:57:16.786 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:16.788 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:16.792 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:16.799 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:16.802 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 51.2816ms
2025-12-24 16:57:16.804 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 48.8383ms
2025-12-24 16:57:16.804 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 16:57:16.805 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 16:57:16.806 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 46.3497ms
2025-12-24 16:57:16.808 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 43.6277ms
2025-12-24 16:57:16.809 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.814 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.820 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:16.824 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:16.825 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.829 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.830 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 122.5599ms
2025-12-24 16:57:16.832 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 123.9763ms
2025-12-24 16:57:16.833 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.834 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.836 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 126.0583ms
2025-12-24 16:57:16.837 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 127.0265ms
2025-12-24 16:57:16.841 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 16:57:16.846 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 16:57:16.847 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:57:16.849 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 16:57:16.861 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:16.865 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:16.869 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:57:16.871 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 16:57:16.871 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.872 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.879 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:57:16.881 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 16:57:16.882 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 16:57:16.883 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 16:57:16.885 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:16.890 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 16:57:16.892 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:16.898 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 29.9973ms
2025-12-24 16:57:16.898 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 16:57:16.902 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 16:57:16.902 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 32.5368ms
2025-12-24 16:57:16.905 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.909 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 16:57:16.910 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:16.912 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.913 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 109.5325ms
2025-12-24 16:57:16.917 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:16.918 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 29.1341ms
2025-12-24 16:57:16.920 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 114.8897ms
2025-12-24 16:57:16.925 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 29.7788ms
2025-12-24 16:57:16.926 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.931 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 16:57:16.932 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 91.1712ms
2025-12-24 16:57:16.933 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 86.3075ms
2025-12-24 16:57:19.033 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:57:19.038 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:19.039 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:57:19.042 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:57:19.052 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:57:19.057 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:57:19.066 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:19.071 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 22.6846ms
2025-12-24 16:57:19.074 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - null null
2025-12-24 16:57:19.074 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:57:19.077 +07:00 [INF] CORS policy execution successful.
2025-12-24 16:57:19.079 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 45.7656ms
2025-12-24 16:57:19.081 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:57:19.087 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 16:57:19.093 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 16:57:19.099 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 16:57:19.103 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 16:57:19.104 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 13.772ms
2025-12-24 16:57:19.106 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 16:57:19.109 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 35.0832ms
