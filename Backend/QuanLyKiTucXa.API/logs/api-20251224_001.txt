2025-12-24 16:57:29.172 +07:00 [WRN] Entity 'Contract' has a global query filter defined and is the required end of a relationship with the entity 'ContractStudent'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-12-24 16:57:29.576 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-12-24 16:57:29.935 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Username" = 'admin')
2025-12-24 16:57:30.116 +07:00 [INF] User profile is available. Using 'C:\Users\quang\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-24 16:57:30.320 +07:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5263: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-12-24 16:59:53.680 +07:00 [WRN] Entity 'Contract' has a global query filter defined and is the required end of a relationship with the entity 'ContractStudent'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-12-24 16:59:54.832 +07:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-12-24 16:59:55.453 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Username" = 'admin')
2025-12-24 16:59:55.678 +07:00 [INF] User profile is available. Using 'C:\Users\quang\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-24 16:59:55.840 +07:00 [INF] Now listening on: http://localhost:5263
2025-12-24 16:59:55.844 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-24 16:59:55.845 +07:00 [INF] Hosting environment: Development
2025-12-24 16:59:55.846 +07:00 [INF] Content root path: C:\Users\quang\OneDrive\Desktop\Du_an_lon\QuanLyKiTucXa\Backend\QuanLyKiTucXa.API
2025-12-24 17:00:08.840 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/ - null null
2025-12-24 17:00:08.954 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/ - 301 0 null 116.8115ms
2025-12-24 17:00:08.988 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/index.html - null null
2025-12-24 17:00:09.262 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/index.html - 200 null text/html;charset=utf-8 274.8187ms
2025-12-24 17:00:09.278 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/swagger-ui.css - null null
2025-12-24 17:00:09.279 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/swagger-ui-bundle.js - null null
2025-12-24 17:00:09.279 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/swagger-ui-standalone-preset.js - null null
2025-12-24 17:00:09.279 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/_framework/aspnetcore-browser-refresh.js - null null
2025-12-24 17:00:09.305 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 25.5869ms
2025-12-24 17:00:09.318 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-24 17:00:09.323 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/swagger-ui.css - 200 143212 text/css 44.8407ms
2025-12-24 17:00:09.320 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-12-24 17:00:09.396 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-12-24 17:00:09.588 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/swagger-ui-bundle.js - 200 1061588 text/javascript 309.2784ms
2025-12-24 17:00:09.588 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/swagger-ui-standalone-preset.js - 200 332952 text/javascript 309.4099ms
2025-12-24 17:00:10.100 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/favicon-32x32.png - null null
2025-12-24 17:00:10.112 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-12-24 17:00:10.117 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/favicon-32x32.png - 200 628 image/png 16.9696ms
2025-12-24 17:00:10.243 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/swagger/v1/swagger.json - null null
2025-12-24 17:00:10.598 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 355.2673ms
2025-12-24 17:00:30.918 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - null null
2025-12-24 17:00:30.945 +07:00 [WRN] Failed to determine the https port for redirect.
2025-12-24 17:00:30.952 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:00:30.964 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - 204 null null 45.6037ms
2025-12-24 17:00:30.990 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 45
2025-12-24 17:00:31.001 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:00:31.089 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:00:31.149 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:00:31.493 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:00:31.549 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 384.6887ms
2025-12-24 17:00:31.559 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:00:31.570 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 579.8868ms
2025-12-24 17:00:32.639 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 45
2025-12-24 17:00:32.648 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:00:32.655 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:00:32.661 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:00:32.668 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:00:32.671 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 6.6469ms
2025-12-24 17:00:32.676 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:00:32.678 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 38.5175ms
2025-12-24 17:00:33.558 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 45
2025-12-24 17:00:33.564 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:00:33.567 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:00:33.569 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:00:33.575 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:00:33.579 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 6.5939ms
2025-12-24 17:00:33.581 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:00:33.583 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 25.6892ms
2025-12-24 17:00:33.718 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 45
2025-12-24 17:00:33.724 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:00:33.726 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:00:33.728 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:00:33.733 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:00:33.735 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 3.1715ms
2025-12-24 17:00:33.738 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:00:33.741 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 22.5256ms
2025-12-24 17:00:33.884 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 45
2025-12-24 17:00:33.890 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:00:33.893 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:00:33.898 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:00:33.907 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:00:33.911 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 5.3168ms
2025-12-24 17:00:33.920 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:00:33.924 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 39.8952ms
2025-12-24 17:01:17.018 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:01:17.018 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:01:17.018 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:01:17.021 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:01:17.030 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:01:17.032 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:01:17.035 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:01:17.042 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:01:17.043 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.045 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.047 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.050 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.093 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:01:17.093 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:01:17.093 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:01:17.101 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:01:17.295 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:01:17.379 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:01:17.381 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:01:17.394 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:01:17.405 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:01:17.406 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:01:17.485 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:01:17.495 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:01:17.506 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:01:17.510 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:01:17.510 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:01:17.512 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:01:17.584 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:01:17.585 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:01:17.586 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:01:17.587 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:01:17.611 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:01:17.611 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:01:17.611 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:01:17.634 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 513.6329ms
2025-12-24 17:01:17.634 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 530.8481ms
2025-12-24 17:01:17.634 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 523.0505ms
2025-12-24 17:01:17.637 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.639 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.639 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:01:17.639 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:01:17.641 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.648 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 629.9864ms
2025-12-24 17:01:17.648 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 627.116ms
2025-12-24 17:01:17.648 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:01:17.651 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:01:17.654 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 635.9411ms
2025-12-24 17:01:17.664 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:01:17.665 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.667 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.676 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:01:17.678 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:01:17.680 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:01:17.682 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.690 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:01:17.724 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:01:17.738 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 629.7839ms
2025-12-24 17:01:17.740 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:01:17.742 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.745 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:01:17.748 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 729.9083ms
2025-12-24 17:01:17.750 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.758 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:01:17.789 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:01:17.789 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:01:17.790 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:01:17.791 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:01:17.794 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:01:17.804 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:01:17.808 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:01:17.809 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:01:17.809 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:01:17.811 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:01:17.818 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:01:17.821 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:01:17.824 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 64.1089ms
2025-12-24 17:01:17.826 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 132.3703ms
2025-12-24 17:01:17.828 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 139.481ms
2025-12-24 17:01:17.830 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 144.1003ms
2025-12-24 17:01:17.831 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.833 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.834 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.836 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:01:17.838 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 97.5083ms
2025-12-24 17:01:17.839 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 175.2655ms
2025-12-24 17:01:17.840 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 201.6285ms
2025-12-24 17:01:17.842 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 202.8465ms
2025-12-24 17:01:21.940 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - null null
2025-12-24 17:01:21.953 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:01:21.957 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - 204 null null 16.8017ms
2025-12-24 17:01:21.976 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 47
2025-12-24 17:01:21.987 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:01:21.990 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:01:21.994 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:01:22.013 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:01:22.023 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 15.6543ms
2025-12-24 17:01:22.026 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:01:22.029 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 53.3552ms
2025-12-24 17:01:22.779 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 47
2025-12-24 17:01:22.791 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:01:22.797 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:01:22.804 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:01:22.816 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:01:22.822 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 8.5722ms
2025-12-24 17:01:22.826 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:01:22.828 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 48.9692ms
2025-12-24 17:01:22.969 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 47
2025-12-24 17:01:22.973 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:01:22.975 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:01:22.981 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:01:22.988 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:01:22.991 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 4.4226ms
2025-12-24 17:01:22.994 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:01:22.996 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 27.3692ms
2025-12-24 17:01:23.130 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 47
2025-12-24 17:01:23.138 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:01:23.142 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:01:23.145 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:01:23.156 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:01:23.166 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 11.3773ms
2025-12-24 17:01:23.176 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:01:23.184 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 53.9592ms
2025-12-24 17:03:56.600 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - null null
2025-12-24 17:03:56.639 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:03:56.659 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - 204 null null 57.3109ms
2025-12-24 17:03:56.677 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 56
2025-12-24 17:03:56.689 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:03:56.709 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:03:56.723 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:03:57.405 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 56
2025-12-24 17:03:57.414 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:03:57.417 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:03:57.419 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:03:57.589 +07:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Buildings" ("Address", "CreatedAt", "DeletedAt", "Description", "IsActive", "IsDeleted", "Name", "TotalFloors", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-24 17:03:57.590 +07:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Buildings" ("Address", "CreatedAt", "DeletedAt", "Description", "IsActive", "IsDeleted", "Name", "TotalFloors", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-24 17:03:57.596 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 56
2025-12-24 17:03:57.613 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:03:57.615 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:03:57.618 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:03:57.652 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Buildings" ("Address", "CreatedAt", "DeletedAt", "Description", "IsActive", "IsDeleted", "Name", "TotalFloors", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-24 17:03:57.670 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:03:57.670 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:03:57.670 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:03:57.807 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 184.06ms
2025-12-24 17:03:57.807 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 382.3006ms
2025-12-24 17:03:57.807 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 1078.9674ms
2025-12-24 17:03:57.813 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:03:57.818 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:03:57.822 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:03:57.828 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 201 null application/json; charset=utf-8 232.4698ms
2025-12-24 17:03:57.832 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 201 null application/json; charset=utf-8 427.1566ms
2025-12-24 17:03:57.839 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 201 null application/json; charset=utf-8 1161.6781ms
2025-12-24 17:03:57.867 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:03:57.885 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:03:57.887 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:03:57.892 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:03:57.929 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:03:57.945 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:03:57.976 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:03:57.980 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 80.7712ms
2025-12-24 17:03:57.982 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:03:57.983 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:03:57.988 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:03:57.989 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 122.5422ms
2025-12-24 17:03:57.991 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:03:57.996 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:03:58.006 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:03:58.021 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:03:58.028 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:03:58.035 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 34.096ms
2025-12-24 17:03:58.037 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:03:58.039 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:03:58.050 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:03:58.053 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 70.712ms
2025-12-24 17:03:58.054 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:03:58.061 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:03:58.069 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:03:58.076 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:03:58.086 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:03:58.091 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 25.8013ms
2025-12-24 17:03:58.095 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:03:58.097 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:03:58.107 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:03:58.111 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 73.7608ms
2025-12-24 17:03:58.114 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:03:58.122 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:03:58.134 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:03:58.141 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:03:58.149 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:03:58.152 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 22.1683ms
2025-12-24 17:03:58.154 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:03:58.157 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:03:58.162 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:03:58.163 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 68.3286ms
2025-12-24 17:03:58.164 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:03:58.170 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:03:58.176 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:03:58.184 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:03:58.190 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:03:58.192 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 19.812ms
2025-12-24 17:03:58.194 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:03:58.195 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:03:58.200 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:03:58.201 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 47.2882ms
2025-12-24 17:03:58.203 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:03:58.208 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:03:58.216 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:03:58.226 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:03:58.233 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:03:58.237 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 25.5889ms
2025-12-24 17:03:58.240 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:03:58.243 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 48.9286ms
2025-12-24 17:04:13.389 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - null null
2025-12-24 17:04:13.398 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:04:13.400 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - 204 null null 11.7652ms
2025-12-24 17:04:13.407 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 48
2025-12-24 17:04:13.417 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:04:13.419 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:13.425 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:04:13.436 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:04:13.442 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 8.6169ms
2025-12-24 17:04:13.448 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:13.451 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 43.9253ms
2025-12-24 17:04:16.153 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 48
2025-12-24 17:04:16.157 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:04:16.159 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:16.161 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:04:16.165 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:04:16.171 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 6.1532ms
2025-12-24 17:04:16.175 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:16.187 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 34.7873ms
2025-12-24 17:04:16.722 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 48
2025-12-24 17:04:16.728 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:04:16.730 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:16.733 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:04:16.740 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:04:16.743 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 4.599ms
2025-12-24 17:04:16.748 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:16.751 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 29.3245ms
2025-12-24 17:04:16.894 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 48
2025-12-24 17:04:16.899 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:04:16.903 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:16.909 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:04:16.918 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:04:16.926 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 8.9924ms
2025-12-24 17:04:16.931 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:16.935 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 41.2051ms
2025-12-24 17:04:19.520 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - null null
2025-12-24 17:04:19.528 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:04:19.531 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - 204 null null 10.4258ms
2025-12-24 17:04:19.537 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 48
2025-12-24 17:04:19.543 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:04:19.548 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:19.552 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:04:19.559 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:04:19.564 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 7.5391ms
2025-12-24 17:04:19.569 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:19.573 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 36.1753ms
2025-12-24 17:04:19.689 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 48
2025-12-24 17:04:19.696 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:04:19.700 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:19.704 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:04:19.713 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:04:19.719 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 8.1408ms
2025-12-24 17:04:19.723 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:19.728 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 39.4211ms
2025-12-24 17:04:19.851 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 48
2025-12-24 17:04:19.856 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:04:19.858 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:19.861 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:04:19.865 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:04:19.867 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 2.9948ms
2025-12-24 17:04:19.870 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:04:19.872 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 20.131ms
2025-12-24 17:05:20.354 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - null null
2025-12-24 17:05:20.394 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:20.404 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - 204 null null 51.6555ms
2025-12-24 17:05:20.422 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:20.435 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:20.442 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:20.454 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:20.504 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:20.516 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 55.6088ms
2025-12-24 17:05:20.521 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:20.525 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 102.9886ms
2025-12-24 17:05:22.193 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:22.204 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:22.207 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:22.210 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:22.215 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:22.217 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 3.5173ms
2025-12-24 17:05:22.221 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:22.225 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 32.5832ms
2025-12-24 17:05:22.373 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:22.377 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:22.377 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:22.380 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:22.388 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:22.392 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 5.9133ms
2025-12-24 17:05:22.397 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:22.400 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 26.6981ms
2025-12-24 17:05:22.548 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:22.558 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:22.562 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:22.566 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:22.573 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:22.578 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 6.1945ms
2025-12-24 17:05:22.584 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:22.588 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 39.354ms
2025-12-24 17:05:22.977 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:22.986 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:22.988 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:22.992 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:22.999 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:23.004 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 5.7018ms
2025-12-24 17:05:23.008 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:23.011 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 33.3118ms
2025-12-24 17:05:23.141 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:23.149 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:23.152 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:23.153 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:23.159 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:23.162 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 4.4531ms
2025-12-24 17:05:23.166 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:23.169 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 27.2895ms
2025-12-24 17:05:23.672 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:23.694 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:23.698 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:23.702 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:23.711 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:23.715 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 5.1611ms
2025-12-24 17:05:23.718 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:23.721 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 48.8342ms
2025-12-24 17:05:23.853 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:23.863 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:23.866 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:23.870 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:23.877 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:23.883 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 8.2814ms
2025-12-24 17:05:23.889 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:23.896 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 42.8078ms
2025-12-24 17:05:24.030 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:24.036 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:24.039 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:24.043 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:24.046 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:24.049 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 3.1071ms
2025-12-24 17:05:24.051 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:24.053 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 22.0214ms
2025-12-24 17:05:27.546 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - null null
2025-12-24 17:05:27.554 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:27.557 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - 204 null null 10.8858ms
2025-12-24 17:05:27.566 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:27.572 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:27.575 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:27.579 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:27.586 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:27.590 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 5.92ms
2025-12-24 17:05:27.594 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:27.596 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 30.0622ms
2025-12-24 17:05:30.888 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:30.930 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:30.933 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:30.936 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:30.942 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:30.946 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 5.2416ms
2025-12-24 17:05:30.948 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:30.951 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 63.0027ms
2025-12-24 17:05:31.223 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:31.227 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:31.229 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:31.233 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:31.246 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:31.251 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 12.288ms
2025-12-24 17:05:31.255 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:31.259 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 35.7187ms
2025-12-24 17:05:31.407 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:31.414 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:31.415 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:31.420 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:31.432 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:31.437 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 10.1895ms
2025-12-24 17:05:31.442 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:31.445 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 38.4979ms
2025-12-24 17:05:32.496 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:32.503 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:32.507 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:32.514 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:32.523 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:32.531 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 9.4203ms
2025-12-24 17:05:32.537 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:32.544 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 48.0224ms
2025-12-24 17:05:32.675 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - null null
2025-12-24 17:05:32.679 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:32.680 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - 204 null null 5.0347ms
2025-12-24 17:05:32.685 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:32.688 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:32.689 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:32.690 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:32.694 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:32.697 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 3.7974ms
2025-12-24 17:05:32.700 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:32.702 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 17.3166ms
2025-12-24 17:05:32.856 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:32.863 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:32.865 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:32.868 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:32.875 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:32.879 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 4.2885ms
2025-12-24 17:05:32.881 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:32.884 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 28.4515ms
2025-12-24 17:05:35.662 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:35.670 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:35.672 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:35.677 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:35.684 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:35.688 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 4.817ms
2025-12-24 17:05:35.692 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:35.696 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 34.707ms
2025-12-24 17:05:35.956 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:35.966 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:35.969 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:35.971 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:35.976 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:35.979 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 4.0463ms
2025-12-24 17:05:35.983 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:35.986 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 43.4079ms
2025-12-24 17:05:36.133 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:36.140 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:36.141 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:36.145 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:36.151 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:36.155 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 5.0544ms
2025-12-24 17:05:36.159 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:36.162 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 28.5568ms
2025-12-24 17:05:58.433 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - null null
2025-12-24 17:05:58.437 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:58.438 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - 204 null null 5.186ms
2025-12-24 17:05:58.443 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:05:58.447 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:05:58.448 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:58.450 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:05:58.454 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:05:58.456 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 3.0039ms
2025-12-24 17:05:58.459 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:05:58.461 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 17.2645ms
2025-12-24 17:07:59.454 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - null null
2025-12-24 17:07:59.483 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:07:59.495 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - 204 null null 44.3717ms
2025-12-24 17:07:59.505 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 49
2025-12-24 17:07:59.515 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:07:59.525 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:07:59.534 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:07:59.572 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-24 17:07:59.578 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 41.5885ms
2025-12-24 17:07:59.582 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:07:59.585 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 400 null application/problem+json; charset=utf-8 79.9325ms
2025-12-24 17:09:43.354 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - null null
2025-12-24 17:09:43.366 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:09:43.375 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings - 204 null null 21.389ms
2025-12-24 17:09:43.385 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/buildings - application/json 64
2025-12-24 17:09:43.393 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:09:43.397 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:09:43.402 +07:00 [INF] Route matched with {action = "PostBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PostBuilding(QuanLyKiTucXa.API.DTOs.CreateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:09:43.753 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Buildings" ("Address", "CreatedAt", "DeletedAt", "Description", "IsActive", "IsDeleted", "Name", "TotalFloors", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-24 17:09:43.778 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:09:43.820 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API) in 411.8133ms
2025-12-24 17:09:43.824 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PostBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:09:43.839 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/buildings - 201 null application/json; charset=utf-8 453.7113ms
2025-12-24 17:09:43.846 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:09:43.857 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:09:43.859 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:09:43.862 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:09:43.891 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:09:43.911 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:09:43.930 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:09:43.934 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 67.8429ms
2025-12-24 17:09:43.940 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:09:43.943 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 97.8249ms
2025-12-24 17:09:43.948 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:09:43.952 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:09:43.954 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:09:43.956 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:09:43.962 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:09:43.971 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:09:43.986 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:09:43.993 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 34.3619ms
2025-12-24 17:09:43.997 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:09:43.999 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 50.7393ms
2025-12-24 17:10:44.880 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:10:44.909 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:10:44.922 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:10:44.927 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:10:45.128 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:10:45.193 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:10:45.224 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:10:45.235 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 304.3166ms
2025-12-24 17:10:45.239 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:10:45.242 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:10:45.245 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 365.8246ms
2025-12-24 17:10:45.250 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:10:45.257 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:10:45.259 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:10:45.271 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:10:45.278 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:10:45.287 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:10:45.290 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 27.9671ms
2025-12-24 17:10:45.293 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:10:45.295 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 52.747ms
2025-12-24 17:10:57.870 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:10:57.876 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:10:57.879 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:10:57.885 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:10:57.926 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:10:57.940 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:10:57.950 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:10:57.954 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 67.9843ms
2025-12-24 17:10:57.956 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:10:57.957 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 87.5654ms
2025-12-24 17:11:00.777 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:00.782 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:00.786 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:00.795 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:00.817 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:00.826 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:00.837 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:00.844 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 38.0236ms
2025-12-24 17:11:00.855 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:00.860 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:00.865 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 88.1902ms
2025-12-24 17:11:00.877 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:00.887 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:00.893 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:00.907 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:00.919 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:00.928 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:00.946 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 50.231ms
2025-12-24 17:11:00.955 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:00.959 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 98.1719ms
2025-12-24 17:11:04.565 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings/1 - null null
2025-12-24 17:11:04.570 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:04.574 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings/1 - 204 null null 9.0787ms
2025-12-24 17:11:04.579 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5263/api/buildings/1 - null null
2025-12-24 17:11:04.590 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:04.653 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-24 17:11:04.673 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 17:11:04.677 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5263/api/buildings/1 - 401 0 null 98.5581ms
2025-12-24 17:11:04.906 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:04.908 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:04.908 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:04.909 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:04.912 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:04.917 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:04.926 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:04.932 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:04.933 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:04.934 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:04.935 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:04.936 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:04.942 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:04.942 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:04.944 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:04.948 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:04.998 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:11:05.057 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:05.079 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:05.089 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 135.9914ms
2025-12-24 17:11:05.095 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:05.104 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:05.107 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 199.2978ms
2025-12-24 17:11:05.112 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:05.127 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:05.129 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:05.142 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:11:05.149 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:05.158 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:05.160 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 24.5051ms
2025-12-24 17:11:05.161 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:05.163 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 58.4859ms
2025-12-24 17:11:05.205 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:05.205 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:05.207 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:05.211 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:05.220 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:05.221 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:05.225 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 265.1284ms
2025-12-24 17:11:05.226 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:05.227 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:05.227 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:05.229 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:05.229 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 272.5195ms
2025-12-24 17:11:05.230 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:05.234 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:05.235 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 326.3392ms
2025-12-24 17:11:05.238 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:05.240 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:05.242 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:05.243 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:05.250 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 286.3781ms
2025-12-24 17:11:05.251 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 345.037ms
2025-12-24 17:11:05.253 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:05.254 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:05.256 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:05.259 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:05.260 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:05.267 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 358.0147ms
2025-12-24 17:11:05.271 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:05.272 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:05.276 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:05.278 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:05.286 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:05.286 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:05.288 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:05.290 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:05.291 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:05.295 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:05.302 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 28.4526ms
2025-12-24 17:11:05.303 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 39.8338ms
2025-12-24 17:11:05.305 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:05.306 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:05.307 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 76.9581ms
2025-12-24 17:11:05.308 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:05.308 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 81.1455ms
2025-12-24 17:11:05.318 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:05.324 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 35.7698ms
2025-12-24 17:11:05.326 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:05.327 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 68.3267ms
2025-12-24 17:11:06.062 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:06.062 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:06.063 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:06.067 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:06.072 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:06.080 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:06.083 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.085 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.090 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.094 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:06.096 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:06.108 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:06.111 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:06.119 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:06.126 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:06.127 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:06.130 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 20.6759ms
2025-12-24 17:11:06.135 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:06.136 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:06.139 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.143 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:06.146 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 39.9689ms
2025-12-24 17:11:06.149 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 86.322ms
2025-12-24 17:11:06.149 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:06.150 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.152 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.152 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:06.165 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:06.167 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:06.168 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 106.4222ms
2025-12-24 17:11:06.175 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.183 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:06.188 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:06.193 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:06.196 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:06.200 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:06.206 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 27.3471ms
2025-12-24 17:11:06.206 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:06.207 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.211 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:06.213 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 78.1645ms
2025-12-24 17:11:06.216 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 22.3467ms
2025-12-24 17:11:06.226 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.228 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 78.7242ms
2025-12-24 17:11:06.252 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 17:11:06.281 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:11:06.284 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:11:06.333 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:06.337 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:06.339 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 167.0002ms
2025-12-24 17:11:06.342 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.342 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:06.344 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 281.2074ms
2025-12-24 17:11:06.349 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:06.353 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.354 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:06.361 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 17:11:06.369 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:06.373 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:06.377 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 19.8255ms
2025-12-24 17:11:06.379 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.382 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 40.6537ms
2025-12-24 17:11:06.608 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:06.614 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:06.616 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.618 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:06.628 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:06.641 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:06.646 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:06.649 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 24.9251ms
2025-12-24 17:11:06.652 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.653 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:06.655 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 47.0371ms
2025-12-24 17:11:06.659 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:06.665 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.667 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:06.672 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:06.678 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:06.690 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:06.692 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 22.0479ms
2025-12-24 17:11:06.695 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:06.698 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 44.8109ms
2025-12-24 17:11:10.026 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings/1 - null null
2025-12-24 17:11:10.033 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:10.035 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings/1 - 204 null null 8.5204ms
2025-12-24 17:11:10.041 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5263/api/buildings/1 - null null
2025-12-24 17:11:10.046 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:10.056 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-24 17:11:10.059 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 17:11:10.060 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5263/api/buildings/1 - 401 0 null 19.1016ms
2025-12-24 17:11:10.339 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:10.339 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:10.339 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:10.341 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:10.344 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:10.358 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:10.362 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:10.381 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.378 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.380 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.375 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:10.383 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:10.385 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:10.387 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:10.389 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.401 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:10.407 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:10.409 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:10.411 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:11:10.418 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:10.425 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:10.434 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:10.440 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:10.441 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:10.447 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:10.450 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:10.456 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 60.1391ms
2025-12-24 17:11:10.463 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:10.472 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 70.0148ms
2025-12-24 17:11:10.476 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:10.478 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:10.478 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 70.5581ms
2025-12-24 17:11:10.480 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.488 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:10.491 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.496 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:10.505 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:10.508 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.509 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 169.9971ms
2025-12-24 17:11:10.511 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.512 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 173.4269ms
2025-12-24 17:11:10.515 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 92.2961ms
2025-12-24 17:11:10.519 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.528 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 188.7008ms
2025-12-24 17:11:10.534 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:10.536 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:10.543 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:10.545 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.546 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:10.562 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:10.575 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:10.576 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:10.578 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 236.2828ms
2025-12-24 17:11:10.584 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.589 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:10.591 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.591 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:10.595 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:10.607 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:10.607 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:10.611 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:10.621 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:11:10.626 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:10.627 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:10.629 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 61.192ms
2025-12-24 17:11:10.640 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:10.642 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 61.9787ms
2025-12-24 17:11:10.643 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:10.644 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.651 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:10.655 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.663 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:10.667 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 204.4654ms
2025-12-24 17:11:10.673 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 60.3007ms
2025-12-24 17:11:10.675 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 197.122ms
2025-12-24 17:11:10.677 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 53.4853ms
2025-12-24 17:11:10.688 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.694 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:10.696 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 162.0227ms
2025-12-24 17:11:10.699 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 155.9913ms
2025-12-24 17:11:11.419 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:11.422 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:11.424 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:11.428 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:11.436 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:11.442 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:11.446 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:11.449 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 15.3735ms
2025-12-24 17:11:11.453 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:11.453 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:11.456 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:11.457 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 37.9794ms
2025-12-24 17:11:11.458 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:11.463 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:11.467 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:11.471 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:11.478 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:11.480 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 14.7955ms
2025-12-24 17:11:11.484 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:11.486 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 32.613ms
2025-12-24 17:11:13.752 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5263/api/buildings/1 - null null
2025-12-24 17:11:13.757 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:13.760 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-24 17:11:13.768 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 17:11:13.773 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5263/api/buildings/1 - 401 0 null 21.3812ms
2025-12-24 17:11:13.946 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:13.946 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:13.950 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:13.950 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:13.960 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:13.967 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:13.972 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:13.974 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:13.975 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:13.976 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:13.977 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:13.978 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:13.979 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:13.982 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:13.987 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:13.989 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:14.000 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:14.010 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:11:14.012 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:14.026 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:14.028 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:14.040 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:14.042 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:14.044 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:14.047 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:14.056 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:14.062 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:14.072 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:14.077 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 82.3904ms
2025-12-24 17:11:14.078 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:14.079 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 75.8956ms
2025-12-24 17:11:14.080 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:14.081 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 72.3145ms
2025-12-24 17:11:14.083 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 68.9724ms
2025-12-24 17:11:14.087 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.093 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:14.094 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.098 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:14.100 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.104 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.106 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 160.3394ms
2025-12-24 17:11:14.107 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.108 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 162.5149ms
2025-12-24 17:11:14.109 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.110 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 164.3034ms
2025-12-24 17:11:14.112 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 161.4928ms
2025-12-24 17:11:14.117 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:14.119 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:14.126 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:14.127 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:14.144 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:14.154 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:14.155 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:14.161 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.162 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.162 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:11:14.169 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:14.173 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:14.173 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:14.180 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:14.192 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:14.193 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:14.196 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:14.206 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:14.209 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 62.4431ms
2025-12-24 17:11:14.220 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.217 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 57.2666ms
2025-12-24 17:11:14.217 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:14.209 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:14.223 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 144.3541ms
2025-12-24 17:11:14.224 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.227 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:14.236 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:14.241 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 161.858ms
2025-12-24 17:11:14.243 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 48.115ms
2025-12-24 17:11:14.245 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 64.3517ms
2025-12-24 17:11:14.251 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.253 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.254 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 127.7112ms
2025-12-24 17:11:14.255 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 137.956ms
2025-12-24 17:11:14.873 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:14.880 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:14.886 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.892 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:14.906 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:14.918 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:14.926 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:14.930 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 25.9389ms
2025-12-24 17:11:14.934 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:14.935 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.939 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:14.942 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 68.9184ms
2025-12-24 17:11:14.943 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.952 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:14.956 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:14.963 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:14.972 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:14.975 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 19.7702ms
2025-12-24 17:11:14.976 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:14.978 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 44.0258ms
2025-12-24 17:11:18.488 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings/3 - null null
2025-12-24 17:11:18.493 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:18.494 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings/3 - 204 null null 6.0759ms
2025-12-24 17:11:18.508 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5263/api/buildings/3 - null null
2025-12-24 17:11:18.517 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:18.522 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-24 17:11:18.524 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 17:11:18.526 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5263/api/buildings/3 - 401 0 null 18.0703ms
2025-12-24 17:11:18.680 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:18.680 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:18.680 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:18.681 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:18.685 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:18.689 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:18.696 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:18.702 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:18.704 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.707 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.708 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.710 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.712 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:18.715 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:18.722 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:18.725 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:18.728 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:18.742 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:11:18.742 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:18.745 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:18.756 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:18.757 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:18.762 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:18.773 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:18.775 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:18.777 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:18.784 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:18.787 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 59.4169ms
2025-12-24 17:11:18.789 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 58.4574ms
2025-12-24 17:11:18.790 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:18.790 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:18.794 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:18.799 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 60.4561ms
2025-12-24 17:11:18.800 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.804 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.808 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:18.812 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:18.815 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 73.4014ms
2025-12-24 17:11:18.819 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.822 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 142.0294ms
2025-12-24 17:11:18.824 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 143.3332ms
2025-12-24 17:11:18.825 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.826 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.828 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.831 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 149.7767ms
2025-12-24 17:11:18.837 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:18.842 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:18.843 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:18.845 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:18.846 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 165.6128ms
2025-12-24 17:11:18.858 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:18.862 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:18.870 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:18.872 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:11:18.875 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.876 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.888 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:18.892 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:18.895 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:18.896 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:18.907 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:18.913 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:18.915 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:18.923 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 58.0035ms
2025-12-24 17:11:18.924 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:18.925 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 55.5933ms
2025-12-24 17:11:18.928 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:18.928 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.938 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.939 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:18.941 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:18.942 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 151.596ms
2025-12-24 17:11:18.943 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 152.4143ms
2025-12-24 17:11:18.946 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:18.952 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 42.4765ms
2025-12-24 17:11:18.962 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 45.5832ms
2025-12-24 17:11:18.964 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.968 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:18.969 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 132.0672ms
2025-12-24 17:11:18.971 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 128.4021ms
2025-12-24 17:11:19.874 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:19.885 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:19.887 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:19.891 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:19.907 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:19.920 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:19.933 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:19.937 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 40.4892ms
2025-12-24 17:11:19.940 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:19.940 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:19.950 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:19.952 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 77.725ms
2025-12-24 17:11:19.954 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:19.960 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:19.968 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:19.974 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:19.979 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:19.985 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 20.0411ms
2025-12-24 17:11:19.991 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:19.994 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 54.3477ms
2025-12-24 17:11:21.344 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:21.353 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:21.355 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:21.358 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:21.363 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:21.372 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:21.375 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:21.377 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 15.991ms
2025-12-24 17:11:21.379 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:21.380 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:21.386 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:21.388 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 44.0946ms
2025-12-24 17:11:21.390 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:21.394 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:21.404 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:21.410 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:21.416 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:21.422 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 24.8011ms
2025-12-24 17:11:21.424 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:21.427 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 48.0292ms
2025-12-24 17:11:49.074 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings/3 - null null
2025-12-24 17:11:49.083 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:49.086 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings/3 - 204 null null 12.5972ms
2025-12-24 17:11:49.092 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5263/api/buildings/3 - null null
2025-12-24 17:11:49.096 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:49.101 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-24 17:11:49.106 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 17:11:49.109 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5263/api/buildings/3 - 401 0 null 16.8772ms
2025-12-24 17:11:49.350 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:49.351 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:49.351 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:49.351 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:49.355 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:49.359 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:49.373 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:49.377 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:49.380 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.386 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.389 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.390 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.392 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:49.394 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:49.396 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:49.402 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:49.409 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:49.411 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:11:49.419 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:49.423 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:49.426 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:49.429 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:49.442 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:49.444 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:49.445 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:49.456 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:49.460 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:49.482 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 70.7213ms
2025-12-24 17:11:49.471 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 65.6275ms
2025-12-24 17:11:49.474 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 65.3716ms
2025-12-24 17:11:49.475 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:49.467 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:49.482 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:49.488 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.490 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.522 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 172.247ms
2025-12-24 17:11:49.505 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:49.507 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 88.6271ms
2025-12-24 17:11:49.512 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:49.518 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 167.0594ms
2025-12-24 17:11:49.494 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.528 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:49.532 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.535 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.540 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.545 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:11:49.548 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 197.1878ms
2025-12-24 17:11:49.553 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:49.554 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:49.556 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 204.8477ms
2025-12-24 17:11:49.557 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:49.560 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:49.573 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.576 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:49.585 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.590 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:49.590 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:11:49.593 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:49.594 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:49.603 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:49.607 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:49.607 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:49.609 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:49.616 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:49.618 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:49.624 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 49.617ms
2025-12-24 17:11:49.624 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:49.628 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:49.631 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 48.1519ms
2025-12-24 17:11:49.635 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.638 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:49.640 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 42.661ms
2025-12-24 17:11:49.641 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.643 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 167.1672ms
2025-12-24 17:11:49.644 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 38.2731ms
2025-12-24 17:11:49.645 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.647 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 165.8653ms
2025-12-24 17:11:49.653 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:49.654 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 125.7016ms
2025-12-24 17:11:49.658 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 112.9088ms
2025-12-24 17:11:50.825 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:50.825 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:50.826 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:50.829 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:50.833 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:50.844 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:50.844 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:50.845 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:50.847 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:50.852 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:50.856 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:50.862 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:50.858 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:50.870 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:50.872 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:50.874 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 17:11:50.875 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:50.878 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:50.886 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:50.887 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:50.888 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 27.9621ms
2025-12-24 17:11:50.890 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:11:50.891 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:50.892 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 29.7392ms
2025-12-24 17:11:50.893 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:50.894 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:50.900 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:50.902 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 30.5155ms
2025-12-24 17:11:50.904 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:50.905 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:50.905 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 80.552ms
2025-12-24 17:11:50.909 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:50.910 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:50.914 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:50.916 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 90.3896ms
2025-12-24 17:11:50.919 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:50.925 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:50.927 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:11:50.928 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 101.9487ms
2025-12-24 17:11:50.935 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:50.936 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:11:50.940 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:11:50.944 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:50.951 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:11:50.954 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:11:50.955 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 17:11:50.956 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:11:50.959 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:50.967 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:50.968 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:50.969 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 31.1096ms
2025-12-24 17:11:50.972 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:50.974 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 28.151ms
2025-12-24 17:11:50.976 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:11:50.978 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 24.8297ms
2025-12-24 17:11:50.980 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:11:50.983 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 93.1229ms
2025-12-24 17:11:50.984 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:50.986 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 92.4147ms
2025-12-24 17:11:50.991 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 86.7661ms
2025-12-24 17:11:51.637 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:51.637 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:51.639 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:51.642 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:51.643 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:51.644 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:51.645 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:51.648 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:51.651 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:11:51.657 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:51.660 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:51.665 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:51.668 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:51.670 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:51.672 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 21.6509ms
2025-12-24 17:11:51.673 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:51.674 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 21.6402ms
2025-12-24 17:11:51.676 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:51.676 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:51.681 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:51.685 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:51.688 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:51.689 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 52.082ms
2025-12-24 17:11:51.690 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:51.691 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 53.8964ms
2025-12-24 17:11:51.692 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:51.698 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:51.703 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:51.706 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:11:51.708 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:51.711 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:51.716 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:51.716 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:51.718 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 13.1204ms
2025-12-24 17:11:51.721 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:51.722 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:51.723 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 16.8575ms
2025-12-24 17:11:51.724 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 51.0407ms
2025-12-24 17:11:51.726 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:51.732 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 56.1305ms
2025-12-24 17:11:54.687 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/building/4?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:54.687 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/floors?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:54.691 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:54.694 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:54.695 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:11:54.697 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API)'
2025-12-24 17:11:54.710 +07:00 [INF] Route matched with {action = "GetRoomsByBuilding", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRoomsByBuilding(Int32, Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:54.711 +07:00 [INF] Route matched with {action = "GetFloors", controller = "Floors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.FloorDto]]] GetFloors(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.FloorsController (QuanLyKiTucXa.API).
2025-12-24 17:11:54.728 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Floors" AS f
WHERE NOT (f."IsDeleted")
2025-12-24 17:11:54.740 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:11:54.744 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:11:54.751 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__buildingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted") AND b."Id" = @__buildingId_0)
2025-12-24 17:11:54.766 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt", b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt"
FROM (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS f0
INNER JOIN (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
) AS b0 ON f0."BuildingId" = b0."Id"
2025-12-24 17:11:54.769 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__buildingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
INNER JOIN (
    SELECT f."Id", f."BuildingId"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r."FloorId" = f0."Id"
WHERE NOT (r."IsDeleted") AND f0."BuildingId" = @__buildingId_0
2025-12-24 17:11:54.785 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:11:54.787 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-12-24 17:11:54.794 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.FloorDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:54.801 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__buildingId_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM "Rooms" AS r
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r."FloorId" = f0."Id"
WHERE NOT (r."IsDeleted") AND f0."BuildingId" = @__buildingId_0
LIMIT @__p_2 OFFSET @__p_1
2025-12-24 17:11:54.806 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:54.809 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API) in 93.8353ms
2025-12-24 17:11:54.810 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:11:54.813 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/building/4?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 125.7145ms
2025-12-24 17:11:54.821 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:11:54.825 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API) in 106.9194ms
2025-12-24 17:11:54.826 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:54.827 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API)'
2025-12-24 17:11:54.828 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:54.832 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/floors?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 144.517ms
2025-12-24 17:11:54.834 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:11:54.841 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:11:54.847 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:11:54.851 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:54.853 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 13.3957ms
2025-12-24 17:11:54.855 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:11:54.856 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 34.9931ms
2025-12-24 17:11:58.198 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:58.238 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:58.240 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:58.242 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:58.254 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:58.264 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:58.271 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:58.273 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 22.8749ms
2025-12-24 17:11:58.275 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:58.278 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:58.300 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:58.308 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 111.6632ms
2025-12-24 17:11:58.315 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:58.327 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:58.339 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:58.349 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:58.355 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:58.358 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 21.3192ms
2025-12-24 17:11:58.360 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:58.361 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 86.3247ms
2025-12-24 17:11:58.378 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:11:58.391 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:11:58.393 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:58.400 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:11:58.407 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:11:58.415 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:11:58.421 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:11:58.423 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 19.0311ms
2025-12-24 17:11:58.425 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:11:58.427 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 49.7394ms
2025-12-24 17:12:01.672 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:12:01.672 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:01.673 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:01.676 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:01.683 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:01.686 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:01.687 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:12:01.688 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:12:01.688 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:01.689 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:12:01.691 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:12:01.693 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:12:01.702 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:12:01.705 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:12:01.707 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 17:12:01.710 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:12:01.711 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:12:01.717 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:12:01.718 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:01.720 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:01.722 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:01.724 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 24.4916ms
2025-12-24 17:12:01.726 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:12:01.726 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 23.2008ms
2025-12-24 17:12:01.728 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:01.729 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 23.7961ms
2025-12-24 17:12:01.731 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:12:01.731 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:01.733 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:01.734 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:12:01.737 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:01.738 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:01.740 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 67.5191ms
2025-12-24 17:12:01.745 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:01.746 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:12:01.748 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 75.71ms
2025-12-24 17:12:01.749 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:12:01.751 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 78.5347ms
2025-12-24 17:12:01.756 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:01.757 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:12:01.765 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:12:01.770 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:12:01.775 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:12:01.780 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:12:01.783 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 17:12:01.785 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:12:01.789 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:12:01.791 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:01.794 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:12:01.795 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:01.797 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 24.1781ms
2025-12-24 17:12:01.799 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:01.800 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 18.6695ms
2025-12-24 17:12:01.802 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:12:01.803 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 26.0424ms
2025-12-24 17:12:01.805 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:01.806 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 79.8956ms
2025-12-24 17:12:01.808 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:12:01.809 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 77.7665ms
2025-12-24 17:12:01.814 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 86.6342ms
2025-12-24 17:12:02.387 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:12:02.397 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:02.402 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:02.406 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:12:02.411 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:12:02.417 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:12:02.423 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:02.426 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 16.0353ms
2025-12-24 17:12:02.429 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:12:02.430 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:02.435 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:02.437 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 50.4018ms
2025-12-24 17:12:02.439 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:02.448 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:12:02.452 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:12:02.457 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:12:02.461 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:02.466 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 14.7795ms
2025-12-24 17:12:02.469 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:02.471 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 42.1508ms
2025-12-24 17:12:06.175 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:06.175 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:06.183 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:06.187 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:06.188 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:06.189 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:06.192 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:12:06.197 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:12:06.203 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:12:06.206 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:12:06.217 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:12:06.222 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:12:06.227 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:06.232 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:06.233 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 32.1483ms
2025-12-24 17:12:06.236 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 31.4236ms
2025-12-24 17:12:06.238 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:06.237 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:06.238 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:06.241 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:06.243 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 68.0833ms
2025-12-24 17:12:06.249 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:06.252 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:06.254 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 79.7468ms
2025-12-24 17:12:06.260 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:06.261 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:06.267 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:12:06.268 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:12:06.272 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:12:06.275 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:12:06.279 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:12:06.282 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:12:06.285 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:06.289 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:06.291 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 20.2006ms
2025-12-24 17:12:06.293 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 19.3267ms
2025-12-24 17:12:06.296 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:06.298 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:06.299 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 62.1103ms
2025-12-24 17:12:06.301 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 62.3784ms
2025-12-24 17:12:09.453 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/building/4?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:09.453 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/floors?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:09.459 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:09.466 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:09.468 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:12:09.470 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API)'
2025-12-24 17:12:09.473 +07:00 [INF] Route matched with {action = "GetRoomsByBuilding", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRoomsByBuilding(Int32, Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:12:09.480 +07:00 [INF] Route matched with {action = "GetFloors", controller = "Floors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.FloorDto]]] GetFloors(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.FloorsController (QuanLyKiTucXa.API).
2025-12-24 17:12:09.495 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__buildingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted") AND b."Id" = @__buildingId_0)
2025-12-24 17:12:09.503 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Floors" AS f
WHERE NOT (f."IsDeleted")
2025-12-24 17:12:09.511 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__buildingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
INNER JOIN (
    SELECT f."Id", f."BuildingId"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r."FloorId" = f0."Id"
WHERE NOT (r."IsDeleted") AND f0."BuildingId" = @__buildingId_0
2025-12-24 17:12:09.518 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt", b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt"
FROM (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS f0
INNER JOIN (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
) AS b0 ON f0."BuildingId" = b0."Id"
2025-12-24 17:12:09.521 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__buildingId_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM "Rooms" AS r
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r."FloorId" = f0."Id"
WHERE NOT (r."IsDeleted") AND f0."BuildingId" = @__buildingId_0
LIMIT @__p_2 OFFSET @__p_1
2025-12-24 17:12:09.525 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.FloorDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:09.532 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:09.534 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API) in 34.8127ms
2025-12-24 17:12:09.536 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API) in 46.8252ms
2025-12-24 17:12:09.540 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API)'
2025-12-24 17:12:09.542 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:12:09.545 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/floors?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 91.6089ms
2025-12-24 17:12:09.547 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/building/4?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 93.7971ms
2025-12-24 17:12:09.557 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:09.561 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:09.562 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:09.564 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:12:09.568 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:12:09.574 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:12:09.577 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:09.579 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 12.4032ms
2025-12-24 17:12:09.581 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:09.583 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 26.1141ms
2025-12-24 17:12:33.051 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:12:33.056 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:33.058 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:33.062 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:12:33.072 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:12:33.079 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:12:33.087 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:33.091 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 23.9452ms
2025-12-24 17:12:33.094 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:12:33.098 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:33.105 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:33.107 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 55.9175ms
2025-12-24 17:12:33.110 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:33.119 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:12:33.126 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:12:33.133 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:12:33.141 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:33.144 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 21.4202ms
2025-12-24 17:12:33.149 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:33.152 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 58.2292ms
2025-12-24 17:12:38.700 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings/4 - null null
2025-12-24 17:12:38.707 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:38.712 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings/4 - 204 null null 11.2468ms
2025-12-24 17:12:38.717 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5263/api/buildings/4 - application/json 64
2025-12-24 17:12:38.724 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:38.727 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PutBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:12:38.742 +07:00 [INF] Route matched with {action = "PutBuilding", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] PutBuilding(Int32, QuanLyKiTucXa.API.DTOs.UpdateBuildingDto) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:12:38.873 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted") AND b."Id" = @__p_0
LIMIT 1
2025-12-24 17:12:38.954 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Buildings" SET "Address" = @p0, "CreatedAt" = @p1, "DeletedAt" = @p2, "Description" = @p3, "IsActive" = @p4, "IsDeleted" = @p5, "Name" = @p6, "TotalFloors" = @p7, "UpdatedAt" = @p8
WHERE "Id" = @p9;
2025-12-24 17:12:38.965 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.ApiResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:38.967 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.PutBuilding (QuanLyKiTucXa.API) in 215.8776ms
2025-12-24 17:12:38.972 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.PutBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:12:38.975 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5263/api/buildings/4 - 200 null application/json; charset=utf-8 257.9815ms
2025-12-24 17:12:38.984 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:12:38.991 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:38.992 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:38.993 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:12:38.997 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:12:39.001 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:12:39.005 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:39.007 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 11.0233ms
2025-12-24 17:12:39.008 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:39.010 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 25.8313ms
2025-12-24 17:12:39.014 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:12:39.016 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:39.017 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:39.018 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:12:39.021 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:12:39.026 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:12:39.030 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:39.032 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 11.5556ms
2025-12-24 17:12:39.034 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:39.035 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 21.8486ms
2025-12-24 17:12:40.800 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:40.800 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:40.805 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:40.810 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:40.813 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:40.813 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:40.815 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:12:40.818 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:12:40.824 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:12:40.826 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:12:40.834 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:12:40.840 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:12:40.845 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:40.848 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:40.850 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 27.9906ms
2025-12-24 17:12:40.852 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 26.8953ms
2025-12-24 17:12:40.852 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:40.854 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:40.854 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:40.856 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:40.862 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:40.868 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:40.869 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 69.4015ms
2025-12-24 17:12:40.872 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 71.5895ms
2025-12-24 17:12:40.873 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:40.874 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:40.889 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:12:40.891 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:12:40.901 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:12:40.904 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:12:40.906 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:12:40.909 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:12:40.912 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:40.915 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:40.917 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 17.7641ms
2025-12-24 17:12:40.918 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 16.0486ms
2025-12-24 17:12:40.920 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:12:40.922 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:40.925 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 72.0797ms
2025-12-24 17:12:40.926 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 72.6617ms
2025-12-24 17:12:42.508 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/floors?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:42.508 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/building/4?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:42.513 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:42.518 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:42.519 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API)'
2025-12-24 17:12:42.522 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:12:42.524 +07:00 [INF] Route matched with {action = "GetFloors", controller = "Floors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.FloorDto]]] GetFloors(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.FloorsController (QuanLyKiTucXa.API).
2025-12-24 17:12:42.526 +07:00 [INF] Route matched with {action = "GetRoomsByBuilding", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRoomsByBuilding(Int32, Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:12:42.531 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Floors" AS f
WHERE NOT (f."IsDeleted")
2025-12-24 17:12:42.535 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__buildingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted") AND b."Id" = @__buildingId_0)
2025-12-24 17:12:42.539 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt", b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt"
FROM (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS f0
INNER JOIN (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
) AS b0 ON f0."BuildingId" = b0."Id"
2025-12-24 17:12:42.542 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__buildingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
INNER JOIN (
    SELECT f."Id", f."BuildingId"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r."FloorId" = f0."Id"
WHERE NOT (r."IsDeleted") AND f0."BuildingId" = @__buildingId_0
2025-12-24 17:12:42.545 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.FloorDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:42.550 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__buildingId_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM "Rooms" AS r
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r."FloorId" = f0."Id"
WHERE NOT (r."IsDeleted") AND f0."BuildingId" = @__buildingId_0
LIMIT @__p_2 OFFSET @__p_1
2025-12-24 17:12:42.551 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API) in 20.9954ms
2025-12-24 17:12:42.554 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:42.556 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API)'
2025-12-24 17:12:42.557 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API) in 23.9949ms
2025-12-24 17:12:42.559 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/floors?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 50.5053ms
2025-12-24 17:12:42.562 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:12:42.569 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/building/4?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 60.6156ms
2025-12-24 17:12:42.573 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:12:42.578 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:12:42.580 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:42.581 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:12:42.584 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:12:42.588 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:12:42.592 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:12:42.593 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 10.4566ms
2025-12-24 17:12:42.598 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:12:42.600 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 26.8019ms
2025-12-24 17:13:05.054 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:13:05.059 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:05.061 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:05.062 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:13:05.068 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:13:05.073 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:13:05.079 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:05.080 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 14.6983ms
2025-12-24 17:13:05.082 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:05.083 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:13:05.085 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 30.7382ms
2025-12-24 17:13:05.090 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:05.099 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:05.101 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:13:05.109 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:13:05.115 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:13:05.124 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:05.130 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 22.9882ms
2025-12-24 17:13:05.133 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:05.135 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 52.5696ms
2025-12-24 17:13:06.442 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:13:06.449 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:06.451 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:06.452 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:13:06.466 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:13:06.482 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:13:06.492 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:06.496 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 38.306ms
2025-12-24 17:13:06.499 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:06.501 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:13:06.504 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 62.0206ms
2025-12-24 17:13:06.508 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:06.513 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:06.514 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:13:06.518 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:13:06.522 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:13:06.526 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:06.529 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 11.8917ms
2025-12-24 17:13:06.535 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:06.537 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 36.0824ms
2025-12-24 17:13:08.784 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/buildings/1 - null null
2025-12-24 17:13:08.792 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:08.795 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/buildings/1 - 204 null null 10.9953ms
2025-12-24 17:13:08.800 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5263/api/buildings/1 - null null
2025-12-24 17:13:08.805 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:08.806 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-24 17:13:08.807 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-24 17:13:08.808 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5263/api/buildings/1 - 401 0 null 8.3887ms
2025-12-24 17:13:19.771 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:13:19.771 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:13:19.771 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:13:19.771 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:13:19.793 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:19.799 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:19.805 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:19.815 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:19.816 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:19.818 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:13:19.837 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:13:19.823 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:19.858 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:13:19.821 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:13:19.833 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:13:19.865 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:13:19.865 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:13:19.871 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:13:19.887 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:13:19.890 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:13:19.901 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:13:19.905 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:13:19.916 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:13:19.949 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:13:19.955 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:19.972 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:19.978 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:19.982 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:19.985 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 129.1977ms
2025-12-24 17:13:19.986 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 123.9608ms
2025-12-24 17:13:19.988 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 117.0876ms
2025-12-24 17:13:19.990 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 110.6306ms
2025-12-24 17:13:20.000 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:19.996 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.005 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.006 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:13:20.009 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.010 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:13:20.016 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 244.5231ms
2025-12-24 17:13:20.021 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 249.9513ms
2025-12-24 17:13:20.027 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 256.1905ms
2025-12-24 17:13:20.032 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:20.035 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 263.2687ms
2025-12-24 17:13:20.039 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:20.045 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:13:20.053 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:13:20.059 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.074 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.084 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:20.095 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.091 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:13:20.093 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:13:20.089 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:20.098 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:13:20.104 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:13:20.106 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.107 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:13:20.113 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:13:20.118 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:13:20.118 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:13:20.124 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:13:20.128 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:13:20.133 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:20.137 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:13:20.139 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:20.141 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:20.146 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 43.6568ms
2025-12-24 17:13:20.152 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 47.1127ms
2025-12-24 17:13:20.153 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:13:20.154 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 45.3871ms
2025-12-24 17:13:20.155 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.157 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.162 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:20.165 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.167 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 160.3012ms
2025-12-24 17:13:20.168 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 157.803ms
2025-12-24 17:13:20.169 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 34.5651ms
2025-12-24 17:13:20.171 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 125.7393ms
2025-12-24 17:13:20.181 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.186 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 133.1359ms
2025-12-24 17:13:20.819 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:13:20.820 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 17:13:20.820 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 17:13:20.824 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:20.831 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:20.837 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:20.838 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.839 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.840 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.842 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:13:20.846 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:13:20.849 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:13:20.853 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:13:20.857 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:13:20.858 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 17:13:20.865 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:13:20.865 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:13:20.868 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:13:20.869 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:20.874 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:20.881 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:20.883 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 28.6215ms
2025-12-24 17:13:20.884 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - null null
2025-12-24 17:13:20.885 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 33.5239ms
2025-12-24 17:13:20.886 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:13:20.886 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 30.2011ms
2025-12-24 17:13:20.887 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - null null
2025-12-24 17:13:20.888 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.890 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:20.892 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.897 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:20.898 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.901 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:20.902 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 81.3561ms
2025-12-24 17:13:20.902 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.904 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 84.2151ms
2025-12-24 17:13:20.904 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.906 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 85.2497ms
2025-12-24 17:13:20.907 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.912 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:13:20.917 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:13:20.921 +07:00 [INF] Route matched with {action = "GetAvailableRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetAvailableRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:13:20.927 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:13:20.930 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:13:20.932 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
2025-12-24 17:13:20.935 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:13:20.937 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:13:20.939 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted") AND r."Status" = 'Available'
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:13:20.941 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:20.945 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:20.948 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:20.949 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 25.3495ms
2025-12-24 17:13:20.951 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 23.2737ms
2025-12-24 17:13:20.953 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API) in 22.5263ms
2025-12-24 17:13:20.955 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.956 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.958 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetAvailableRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:20.960 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 75.3783ms
2025-12-24 17:13:20.961 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 74.7757ms
2025-12-24 17:13:20.963 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/available?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 75.4681ms
2025-12-24 17:13:21.875 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:13:21.882 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:21.883 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:21.884 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:13:21.888 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:13:21.892 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:13:21.902 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:21.905 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 18.942ms
2025-12-24 17:13:21.907 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:13:21.908 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:21.919 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:21.921 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 46.1053ms
2025-12-24 17:13:21.924 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:21.936 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:13:21.949 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:13:21.956 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:13:21.970 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:21.976 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 29.5431ms
2025-12-24 17:13:21.980 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:21.985 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 78.3717ms
2025-12-24 17:13:24.682 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:13:24.682 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 17:13:24.686 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:24.690 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:24.692 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:24.695 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:24.697 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:13:24.699 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:13:24.703 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:13:24.708 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:13:24.717 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:13:24.719 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:13:24.722 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:24.729 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:24.731 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 29.6275ms
2025-12-24 17:13:24.732 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:13:24.733 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 26.3498ms
2025-12-24 17:13:24.734 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 17:13:24.734 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:24.738 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:24.740 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:24.745 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:24.747 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 64.7427ms
2025-12-24 17:13:24.748 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:24.750 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 67.5353ms
2025-12-24 17:13:24.751 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:24.757 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:13:24.764 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:13:24.769 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:13:24.772 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:13:24.777 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:13:24.788 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:24.789 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:13:24.790 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 22.6979ms
2025-12-24 17:13:24.795 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:24.796 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:24.799 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 28.3249ms
2025-12-24 17:13:24.800 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 67.6839ms
2025-12-24 17:13:24.802 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:13:24.807 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 73.1349ms
2025-12-24 17:13:28.726 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/floors?pageNumber=1&pageSize=100 - null null
2025-12-24 17:13:28.726 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/building/4?pageNumber=1&pageSize=100 - null null
2025-12-24 17:13:28.730 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:28.735 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:28.736 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API)'
2025-12-24 17:13:28.737 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:13:28.738 +07:00 [INF] Route matched with {action = "GetFloors", controller = "Floors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.FloorDto]]] GetFloors(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.FloorsController (QuanLyKiTucXa.API).
2025-12-24 17:13:28.739 +07:00 [INF] Route matched with {action = "GetRoomsByBuilding", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRoomsByBuilding(Int32, Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:13:28.745 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Floors" AS f
WHERE NOT (f."IsDeleted")
2025-12-24 17:13:28.747 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__buildingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted") AND b."Id" = @__buildingId_0)
2025-12-24 17:13:28.749 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt", b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt"
FROM (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS f0
INNER JOIN (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
) AS b0 ON f0."BuildingId" = b0."Id"
2025-12-24 17:13:28.752 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__buildingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
INNER JOIN (
    SELECT f."Id", f."BuildingId"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r."FloorId" = f0."Id"
WHERE NOT (r."IsDeleted") AND f0."BuildingId" = @__buildingId_0
2025-12-24 17:13:28.754 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.FloorDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:28.758 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__buildingId_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM "Rooms" AS r
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r."FloorId" = f0."Id"
WHERE NOT (r."IsDeleted") AND f0."BuildingId" = @__buildingId_0
LIMIT @__p_2 OFFSET @__p_1
2025-12-24 17:13:28.758 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API) in 16.237ms
2025-12-24 17:13:28.763 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:28.765 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API)'
2025-12-24 17:13:28.767 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API) in 22.537ms
2025-12-24 17:13:28.768 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/floors?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 42.181ms
2025-12-24 17:13:28.770 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:13:28.774 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/building/4?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 47.7524ms
2025-12-24 17:13:28.779 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:13:28.783 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:13:28.784 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:28.786 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:13:28.789 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:13:28.793 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:13:28.799 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:13:28.800 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 12.53ms
2025-12-24 17:13:28.802 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:13:28.803 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 24.4585ms
2025-12-24 17:13:33.711 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/index.html - null null
2025-12-24 17:13:33.739 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/index.html - 200 null text/html;charset=utf-8 28.0664ms
2025-12-24 17:13:33.771 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/_framework/aspnetcore-browser-refresh.js - null null
2025-12-24 17:13:33.778 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 6.6854ms
2025-12-24 17:13:34.574 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/swagger/v1/swagger.json - null null
2025-12-24 17:13:34.668 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.7093ms
2025-12-24 17:13:46.900 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/index.html - null null
2025-12-24 17:13:46.918 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/index.html - 200 null text/html;charset=utf-8 18.0015ms
2025-12-24 17:13:46.939 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/_framework/aspnetcore-browser-refresh.js - null null
2025-12-24 17:13:46.949 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 9.6634ms
2025-12-24 17:13:47.329 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/swagger/v1/swagger.json - null null
2025-12-24 17:13:47.372 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.8086ms
2025-12-24 17:14:00.141 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:14:00.144 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:14:00.145 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:14:00.148 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:00.149 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:14:00.154 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:00.155 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:00.157 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.162 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:00.164 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.165 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.168 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.175 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:14:00.175 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:14:00.175 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:14:00.181 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:14:00.182 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:14:00.185 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:14:00.188 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:14:00.189 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:14:00.194 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:14:00.197 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:14:00.199 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:14:00.202 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:14:00.203 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:00.206 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:00.212 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:00.216 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:00.222 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 42.6694ms
2025-12-24 17:14:00.223 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 37.7567ms
2025-12-24 17:14:00.224 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 41.7562ms
2025-12-24 17:14:00.225 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 36.71ms
2025-12-24 17:14:00.226 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.228 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.226 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - null null
2025-12-24 17:14:00.230 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.230 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - null null
2025-12-24 17:14:00.233 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.234 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 90.0156ms
2025-12-24 17:14:00.236 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 90.7063ms
2025-12-24 17:14:00.239 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:00.242 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 100.2198ms
2025-12-24 17:14:00.246 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:00.248 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 98.3454ms
2025-12-24 17:14:00.252 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - null null
2025-12-24 17:14:00.256 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - null null
2025-12-24 17:14:00.258 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.267 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.282 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:00.288 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:00.290 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:14:00.292 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:14:00.295 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.298 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.304 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:14:00.307 +07:00 [INF] Route matched with {action = "GetStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.StudentDto]]] GetStudents(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.StudentsController (QuanLyKiTucXa.API).
2025-12-24 17:14:00.307 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:14:00.314 +07:00 [INF] Route matched with {action = "GetContracts", controller = "Contracts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.ContractDto]]] GetContracts(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.ContractsController (QuanLyKiTucXa.API).
2025-12-24 17:14:00.319 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:14:00.323 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
2025-12-24 17:14:00.328 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:14:00.334 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contracts" AS c
WHERE NOT (c."IsDeleted")
2025-12-24 17:14:00.335 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:00.339 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
FROM "Students" AS s
WHERE NOT (s."IsDeleted")
LIMIT @__p_1 OFFSET @__p_0
2025-12-24 17:14:00.344 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:00.353 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 52.1333ms
2025-12-24 17:14:00.354 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."ContractNumber", c0."CreatedAt", c0."DeletedAt", c0."DepositAmount", c0."EndDate", c0."IsDeleted", c0."MonthlyRent", c0."RoomId", c0."StartDate", c0."Status", c0."UpdatedAt", r0."Id", s1."ContractId", s1."StudentId", s1."JoinedAt", s1."Id", s1."Address", s1."CreatedAt", s1."DateOfBirth", s1."DeletedAt", s1."Email", s1."FullName", s1."Guardian", s1."GuardianPhone", s1."IdCardNumber", s1."IsDeleted", s1."PhoneNumber", s1."ProfileImage", s1."Status", s1."StudentCode", s1."UpdatedAt", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt"
FROM (
    SELECT c."Id", c."ContractNumber", c."CreatedAt", c."DeletedAt", c."DepositAmount", c."EndDate", c."IsDeleted", c."MonthlyRent", c."RoomId", c."StartDate", c."Status", c."UpdatedAt"
    FROM "Contracts" AS c
    WHERE NOT (c."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
) AS r0 ON c0."RoomId" = r0."Id"
LEFT JOIN (
    SELECT c1."ContractId", c1."StudentId", c1."JoinedAt", s0."Id", s0."Address", s0."CreatedAt", s0."DateOfBirth", s0."DeletedAt", s0."Email", s0."FullName", s0."Guardian", s0."GuardianPhone", s0."IdCardNumber", s0."IsDeleted", s0."PhoneNumber", s0."ProfileImage", s0."Status", s0."StudentCode", s0."UpdatedAt"
    FROM "ContractStudents" AS c1
    INNER JOIN (
        SELECT s."Id", s."Address", s."CreatedAt", s."DateOfBirth", s."DeletedAt", s."Email", s."FullName", s."Guardian", s."GuardianPhone", s."IdCardNumber", s."IsDeleted", s."PhoneNumber", s."ProfileImage", s."Status", s."StudentCode", s."UpdatedAt"
        FROM "Students" AS s
        WHERE NOT (s."IsDeleted")
    ) AS s0 ON c1."StudentId" = s0."Id"
) AS s1 ON c0."Id" = s1."ContractId"
ORDER BY c0."Id", r0."Id", s1."ContractId", s1."StudentId"
2025-12-24 17:14:00.361 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.StudentDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:00.363 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 58.4451ms
2025-12-24 17:14:00.365 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.370 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.ContractDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:00.372 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API) in 52.0236ms
2025-12-24 17:14:00.374 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.375 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 149.1147ms
2025-12-24 17:14:00.378 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API) in 47.2927ms
2025-12-24 17:14:00.381 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.StudentsController.GetStudents (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.383 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 152.7114ms
2025-12-24 17:14:00.390 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.ContractsController.GetContracts (QuanLyKiTucXa.API)'
2025-12-24 17:14:00.392 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/students?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 140.1769ms
2025-12-24 17:14:00.400 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/contracts?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 144.2764ms
2025-12-24 17:14:20.693 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:14:20.700 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:20.702 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:14:20.704 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:14:20.716 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:14:20.725 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:14:20.735 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:20.739 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 29.978ms
2025-12-24 17:14:20.742 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:14:20.743 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - null null
2025-12-24 17:14:20.750 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 57.1185ms
2025-12-24 17:14:20.755 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:20.766 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:14:20.768 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:14:20.774 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:14:20.781 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:14:20.786 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:20.789 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 17.0733ms
2025-12-24 17:14:20.793 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:14:20.796 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=50 - 200 null application/json; charset=utf-8 52.8877ms
2025-12-24 17:14:23.255 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:14:23.255 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 17:14:23.261 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:23.264 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:23.266 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:14:23.268 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:14:23.270 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:14:23.271 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:14:23.277 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:14:23.280 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:14:23.283 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:14:23.285 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:14:23.287 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:23.291 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:23.293 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 18.7531ms
2025-12-24 17:14:23.294 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 17.9542ms
2025-12-24 17:14:23.296 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:14:23.298 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:14:23.297 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:14:23.298 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - null null
2025-12-24 17:14:23.299 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 44.4863ms
2025-12-24 17:14:23.302 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 46.8974ms
2025-12-24 17:14:23.305 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:23.309 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:23.323 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:14:23.324 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:14:23.326 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:14:23.328 +07:00 [INF] Route matched with {action = "GetBuildings", controller = "Buildings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.BuildingDto]]] GetBuildings(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.BuildingsController (QuanLyKiTucXa.API).
2025-12-24 17:14:23.333 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:14:23.336 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Buildings" AS b
WHERE NOT (b."IsDeleted")
2025-12-24 17:14:23.338 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:14:23.343 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS b0
LEFT JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON b0."Id" = f0."BuildingId"
ORDER BY b0."Id"
2025-12-24 17:14:23.345 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:23.349 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.BuildingDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:23.350 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 19.6007ms
2025-12-24 17:14:23.352 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API) in 17.4342ms
2025-12-24 17:14:23.353 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:14:23.355 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.BuildingsController.GetBuildings (QuanLyKiTucXa.API)'
2025-12-24 17:14:23.357 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 59.7707ms
2025-12-24 17:14:23.360 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/buildings?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 61.7603ms
2025-12-24 17:14:30.976 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms/building/4?pageNumber=1&pageSize=100 - null null
2025-12-24 17:14:30.976 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/floors?pageNumber=1&pageSize=100 - null null
2025-12-24 17:14:30.985 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:30.994 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:30.996 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:14:30.999 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API)'
2025-12-24 17:14:31.016 +07:00 [INF] Route matched with {action = "GetRoomsByBuilding", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRoomsByBuilding(Int32, Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:14:31.019 +07:00 [INF] Route matched with {action = "GetFloors", controller = "Floors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.FloorDto]]] GetFloors(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.FloorsController (QuanLyKiTucXa.API).
2025-12-24 17:14:31.033 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__buildingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted") AND b."Id" = @__buildingId_0)
2025-12-24 17:14:31.043 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Floors" AS f
WHERE NOT (f."IsDeleted")
2025-12-24 17:14:31.053 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__buildingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
INNER JOIN (
    SELECT f."Id", f."BuildingId"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r."FloorId" = f0."Id"
WHERE NOT (r."IsDeleted") AND f0."BuildingId" = @__buildingId_0
2025-12-24 17:14:31.060 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt", b0."Id", b0."Address", b0."CreatedAt", b0."DeletedAt", b0."Description", b0."IsActive", b0."IsDeleted", b0."Name", b0."TotalFloors", b0."UpdatedAt"
FROM (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS f0
INNER JOIN (
    SELECT b."Id", b."Address", b."CreatedAt", b."DeletedAt", b."Description", b."IsActive", b."IsDeleted", b."Name", b."TotalFloors", b."UpdatedAt"
    FROM "Buildings" AS b
    WHERE NOT (b."IsDeleted")
) AS b0 ON f0."BuildingId" = b0."Id"
2025-12-24 17:14:31.067 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__buildingId_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM "Rooms" AS r
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r."FloorId" = f0."Id"
WHERE NOT (r."IsDeleted") AND f0."BuildingId" = @__buildingId_0
LIMIT @__p_2 OFFSET @__p_1
2025-12-24 17:14:31.070 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.FloorDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:31.077 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:31.084 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API) in 45.2244ms
2025-12-24 17:14:31.084 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API) in 56.7059ms
2025-12-24 17:14:31.087 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.FloorsController.GetFloors (QuanLyKiTucXa.API)'
2025-12-24 17:14:31.089 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRoomsByBuilding (QuanLyKiTucXa.API)'
2025-12-24 17:14:31.093 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/floors?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 116.7661ms
2025-12-24 17:14:31.096 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms/building/4?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 119.586ms
2025-12-24 17:14:31.104 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - null null
2025-12-24 17:14:31.113 +07:00 [INF] CORS policy execution successful.
2025-12-24 17:14:31.115 +07:00 [INF] Executing endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:14:31.118 +07:00 [INF] Route matched with {action = "GetRooms", controller = "Rooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[QuanLyKiTucXa.API.DTOs.RoomDto]]] GetRooms(Int32, Int32) on controller QuanLyKiTucXa.API.Controllers.RoomsController (QuanLyKiTucXa.API).
2025-12-24 17:14:31.127 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Rooms" AS r
WHERE NOT (r."IsDeleted")
2025-12-24 17:14:31.133 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r0."Id", r0."Capacity", r0."CreatedAt", r0."DeletedAt", r0."FloorId", r0."HasAirConditioner", r0."HasWaterHeater", r0."IsDeleted", r0."RentPrice", r0."RoomNumber", r0."RoomType", r0."Status", r0."UpdatedAt", f0."Id", f0."BuildingId", f0."CreatedAt", f0."DeletedAt", f0."Description", f0."FloorNumber", f0."IsDeleted", f0."UpdatedAt"
FROM (
    SELECT r."Id", r."Capacity", r."CreatedAt", r."DeletedAt", r."FloorId", r."HasAirConditioner", r."HasWaterHeater", r."IsDeleted", r."RentPrice", r."RoomNumber", r."RoomType", r."Status", r."UpdatedAt"
    FROM "Rooms" AS r
    WHERE NOT (r."IsDeleted")
    LIMIT @__p_1 OFFSET @__p_0
) AS r0
INNER JOIN (
    SELECT f."Id", f."BuildingId", f."CreatedAt", f."DeletedAt", f."Description", f."FloorNumber", f."IsDeleted", f."UpdatedAt"
    FROM "Floors" AS f
    WHERE NOT (f."IsDeleted")
) AS f0 ON r0."FloorId" = f0."Id"
2025-12-24 17:14:31.140 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuanLyKiTucXa.API.DTOs.PaginatedResponseDto`1[[QuanLyKiTucXa.API.DTOs.RoomDto, QuanLyKiTucXa.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-24 17:14:31.143 +07:00 [INF] Executed action QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API) in 19.3003ms
2025-12-24 17:14:31.145 +07:00 [INF] Executed endpoint 'QuanLyKiTucXa.API.Controllers.RoomsController.GetRooms (QuanLyKiTucXa.API)'
2025-12-24 17:14:31.147 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/rooms?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 42.4372ms
